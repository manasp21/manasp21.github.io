/* Manas Pandey Portfolio - Unified Dark Theme Styles */

/* ====== CSS VARIABLES ====== */
:root {
    /* Color Palette */
    --bg-primary: #121212;
    --bg-secondary: #1a1a1a;
    --bg-content: #2a2a2a;
    --text-primary: #EAEAEA;
    --text-secondary: #b0b0b0;
    --text-muted: #888888;
    --accent-red: #DC2626;
    --accent-blue: #2563EB;
    --accent-green: #059669;
    --accent-purple: #7C3AED;
    --accent-orange: #EA580C;
    --accent-yellow: #D97706;
    
    /* Spacing */
    --spacing-xs: 0.5rem;
    --spacing-sm: 1rem;
    --spacing-md: 1.5rem;
    --spacing-lg: 2rem;
    --spacing-xl: 3rem;
    --spacing-2xl: 4rem;
    
    /* Typography */
    --font-family-primary: 'Lato', sans-serif;
    --font-family-heading: 'Montserrat', sans-serif;
    --font-family-serif: 'Crimson Text', 'Times New Roman', serif;
    --font-size-xs: 0.75rem;
    --font-size-sm: 0.875rem;
    --font-size-base: 1rem;
    --font-size-lg: 1.125rem;
    --font-size-xl: 1.25rem;
    --font-size-2xl: 1.5rem;
    --font-size-3xl: 2rem;
    --font-size-4xl: 2.5rem;
    
    /* Layout */
    --max-width: 1200px;
    --border-radius: 8px;
    --border-radius-lg: 12px;
    --transition: all 0.3s ease;
    
    /* Apple Liquid Glass Core Variables - Based on Official 2025 Specifications */
    /* Page Accent RGB Values for Dynamic Glass Colors */
    --page-accent-rgb: 220, 38, 38; /* Default red, updated per page */
    
    /* Liquid Glass Background Variants with Saturation Enhancement */
    --liquid-glass-bg-primary: rgba(255, 255, 255, 0.15);
    --liquid-glass-bg-secondary: rgba(255, 255, 255, 0.08);
    --liquid-glass-bg-tertiary: rgba(255, 255, 255, 0.22);
    --liquid-glass-bg-accent: rgba(var(--page-accent-rgb), 0.12);
    --liquid-glass-bg-interactive: rgba(255, 255, 255, 0.18);
    
    /* Advanced Backdrop Filters with Saturation (Apple Standard) */
    --liquid-glass-blur-light: blur(8px) saturate(180%);
    --liquid-glass-blur-medium: blur(12px) saturate(180%);
    --liquid-glass-blur-strong: blur(20px) saturate(180%);
    --liquid-glass-blur-intense: blur(30px) saturate(200%);
    --liquid-glass-blur-ultra: blur(40px) saturate(220%);
    
    /* Specular Highlight System (Real-time Rendering Simulation) */
    --liquid-glass-highlight: linear-gradient(135deg, rgba(255,255,255,0.4) 0%, transparent 60%);
    --liquid-glass-highlight-intense: linear-gradient(135deg, rgba(255,255,255,0.6) 0%, transparent 40%);
    --liquid-glass-refraction: linear-gradient(45deg, transparent 30%, rgba(255,255,255,0.1) 50%, transparent 70%);
    
    /* Environmental Adaptation Borders */
    --liquid-glass-border: 1px solid rgba(255, 255, 255, 0.25);
    --liquid-glass-border-strong: 1px solid rgba(255, 255, 255, 0.4);
    --liquid-glass-border-accent: 1px solid rgba(var(--page-accent-rgb), 0.3);
    
    /* Multi-layered Shadow System */
    --liquid-glass-shadow-soft: 0 4px 16px rgba(0, 0, 0, 0.08);
    --liquid-glass-shadow-medium: 0 8px 32px rgba(0, 0, 0, 0.12);
    --liquid-glass-shadow-strong: 0 16px 48px rgba(0, 0, 0, 0.16);
    --liquid-glass-shadow-ultra: 0 24px 64px rgba(0, 0, 0, 0.20);
    
    /* Advanced Apple-Style Animation Curves - State-of-the-Art GUI */
    /* Primary Easing Curves - Based on Apple's Latest Interface Guidelines */
    --ease-apple-standard: cubic-bezier(0.25, 0.46, 0.45, 0.94); /* Apple Standard Ease */
    --ease-apple-smooth: cubic-bezier(0.28, 0.44, 0.445, 1); /* Smooth Entry */
    --ease-apple-snappy: cubic-bezier(0.455, 0.03, 0.515, 0.955); /* Snappy Response */
    --ease-apple-elastic: cubic-bezier(0.68, -0.55, 0.265, 1.55); /* Elastic Bounce */
    --ease-apple-gentle: cubic-bezier(0.25, 0.46, 0.45, 0.94); /* Gentle Motion */
    
    /* Specialized Interaction Curves */
    --ease-hover-enter: cubic-bezier(0.23, 1, 0.32, 1); /* Smooth Hover Entry */
    --ease-hover-exit: cubic-bezier(0.755, 0.05, 0.855, 0.06); /* Quick Hover Exit */
    --ease-focus-enter: cubic-bezier(0.25, 0.46, 0.45, 0.94); /* Focus State Entry */
    --ease-focus-exit: cubic-bezier(0.55, 0.055, 0.675, 0.19); /* Focus State Exit */
    --ease-press-enter: cubic-bezier(0.95, 0.05, 0.795, 0.035); /* Button Press Down */
    --ease-press-exit: cubic-bezier(0.19, 1, 0.22, 1); /* Button Press Release */
    
    /* Physics-Based Animations */
    --ease-spring-gentle: cubic-bezier(0.175, 0.885, 0.32, 1.275); /* Gentle Spring */
    --ease-spring-bouncy: cubic-bezier(0.68, -0.55, 0.265, 1.55); /* Bouncy Spring */
    --ease-spring-damped: cubic-bezier(0.25, 0.46, 0.45, 0.94); /* Damped Spring */
    --ease-momentum: cubic-bezier(0.23, 1, 0.32, 1); /* Momentum Scroll */
    
    /* Content Animation Curves */
    --ease-content-enter: cubic-bezier(0.25, 0.46, 0.45, 0.94); /* Content Reveal */
    --ease-content-exit: cubic-bezier(0.55, 0.055, 0.675, 0.19); /* Content Hide */
    --ease-slide-enter: cubic-bezier(0.23, 1, 0.32, 1); /* Slide In */
    --ease-slide-exit: cubic-bezier(0.755, 0.05, 0.855, 0.06); /* Slide Out */
    --ease-fade-enter: cubic-bezier(0.25, 0.46, 0.45, 0.94); /* Fade In */
    --ease-fade-exit: cubic-bezier(0.55, 0.055, 0.675, 0.19); /* Fade Out */
    
    /* Sophisticated Timing Functions */
    /* Micro-Interactions (0.1s - 0.2s) */
    --timing-micro: 0.12s; /* Button feedback, hover hints */
    --timing-micro-fast: 0.08s; /* Instant feedback */
    --timing-micro-slow: 0.16s; /* Subtle state changes */
    
    /* Quick Interactions (0.2s - 0.4s) */
    --timing-quick: 0.24s; /* Hover states, focus rings */
    --timing-quick-fast: 0.18s; /* Rapid responses */
    --timing-quick-slow: 0.32s; /* Gentle transitions */
    
    /* Standard Interactions (0.4s - 0.6s) */
    --timing-standard: 0.48s; /* Standard state changes */
    --timing-standard-fast: 0.36s; /* Responsive feel */
    --timing-standard-slow: 0.64s; /* Deliberate motion */
    
    /* Deliberate Animations (0.6s+) */
    --timing-deliberate: 0.72s; /* Page transitions, major changes */
    --timing-deliberate-slow: 0.96s; /* Dramatic reveals */
    --timing-cinematic: 1.2s; /* Cinematic effects */
    
    /* Composite Transition Presets - Ready-to-Use */
    --transition-hover: all var(--timing-quick) var(--ease-hover-enter);
    --transition-hover-exit: all var(--timing-micro) var(--ease-hover-exit);
    --transition-focus: all var(--timing-quick) var(--ease-focus-enter);
    --transition-press: all var(--timing-micro-fast) var(--ease-press-enter);
    --transition-content: all var(--timing-standard) var(--ease-content-enter);
    --transition-slide: all var(--timing-standard) var(--ease-slide-enter);
    --transition-fade: all var(--timing-standard) var(--ease-fade-enter);
    --transition-spring: all var(--timing-standard-slow) var(--ease-spring-gentle);
    --transition-elastic: all var(--timing-deliberate) var(--ease-spring-bouncy);
    
    /* Legacy Compatibility */
    --liquid-glass-easing: var(--ease-apple-standard);
    --liquid-glass-easing-bounce: var(--ease-apple-elastic);
    --liquid-glass-transition-fast: all var(--timing-quick) var(--ease-apple-standard);
    --liquid-glass-transition-medium: all var(--timing-standard) var(--ease-apple-standard);
    --liquid-glass-transition-slow: all var(--timing-deliberate) var(--ease-apple-standard);
    
    /* Staggered Animation System - State-of-the-Art Content Reveals */
    /* Base Animation Delays for Staggered Effects */
    --stagger-delay-micro: 0.02s; /* Ultra-fine staggering */
    --stagger-delay-tight: 0.05s; /* Tight grouping */
    --stagger-delay-standard: 0.08s; /* Standard staggering */
    --stagger-delay-relaxed: 0.12s; /* Relaxed pacing */
    --stagger-delay-dramatic: 0.18s; /* Dramatic reveals */
    
    /* Grid Animation Patterns */
    --stagger-grid-2x2: var(--stagger-delay-standard); /* 2x2 grids */
    --stagger-grid-3x3: var(--stagger-delay-tight); /* 3x3 grids */
    --stagger-grid-4x4: var(--stagger-delay-micro); /* 4x4+ grids */
    
    /* Content Reveal Patterns */
    --stagger-list-standard: var(--stagger-delay-standard); /* Standard lists */
    --stagger-list-dramatic: var(--stagger-delay-dramatic); /* Hero content */
    --stagger-cards-standard: var(--stagger-delay-relaxed); /* Card collections */
    --stagger-nav-items: var(--stagger-delay-tight); /* Navigation items */
    
    /* Performance Optimization Flags */
    --liquid-glass-will-change: backdrop-filter, transform, opacity;
    --liquid-glass-contain: layout style paint;
    
    /* Legacy Glass Variables for Backward Compatibility */
    --glass-bg-primary: var(--liquid-glass-bg-primary);
    --glass-bg-secondary: var(--liquid-glass-bg-secondary);
    --glass-bg-tertiary: var(--liquid-glass-bg-tertiary);
    --glass-bg-accent: var(--liquid-glass-bg-accent);
    --glass-border: var(--liquid-glass-border);
    --glass-border-strong: var(--liquid-glass-border-strong);
    --glass-shadow-soft: var(--liquid-glass-shadow-soft);
    --glass-shadow-medium: var(--liquid-glass-shadow-medium);
    --glass-shadow-strong: var(--liquid-glass-shadow-strong);
    --glass-blur-light: var(--liquid-glass-blur-light);
    --glass-blur-medium: var(--liquid-glass-blur-medium);
    --glass-blur-strong: var(--liquid-glass-blur-strong);
    --glass-blur-intense: var(--liquid-glass-blur-intense);
    --glass-transition: var(--liquid-glass-transition-medium);
    --glass-transition-slow: var(--liquid-glass-transition-slow);
    
    /* ====== REVOLUTIONARY INTERFACE MASTER CONTROLLER VARIABLES ====== */
    /* Adaptive Performance Scaling */
    --adaptive-blur-scale: 1.0;
    --animation-duration-scale: 1.0;
    --animation-precision: medium;
    
    /* Dynamic Metrics */
    --scroll-velocity: 0;
    --scroll-direction: 1;
    --scroll-progress: 0;
    --inertia-factor: 0;
    
    /* Performance Tier Classes */
    --performance-tier: medium; /* ultra, high, medium, basic */
    
    /* Frame Rate Optimizations */
    --fps-target: 60;
    
    /* Emergency Mode Settings */
    --emergency-mode-opacity: 0.5;
    --emergency-mode-blur: 4px;
}

/* ====== BOOK LIGHT THEME ====== */
:root[data-theme="book"] {
    /* Book Theme Color Palette - Warm Paper & Ink */
    --bg-primary: #FAF7F0;        /* Warm cream - like aged paper */
    --bg-secondary: #F5F1E8;      /* Soft beige - like book pages */
    --bg-content: #FEFCF7;        /* Pure warm white - like fresh paper */
    --text-primary: #2D1B16;      /* Rich dark brown - like quality ink */
    --text-secondary: #5A4A42;    /* Warm gray - like faded ink */
    --text-muted: #8B7B73;        /* Light brown - like pencil annotations */
    
    /* Book-Inspired Accent Colors */
    --accent-red: #8B1538;        /* Deep burgundy - like bookmark ribbon */
    --accent-blue: #1E3A5F;       /* Navy ink - like fountain pen */
    --accent-green: #2D5016;      /* Forest green - like classic binding */
    --accent-purple: #5B2C87;     /* Royal purple - like royal manuscripts */
    --accent-orange: #B85450;     /* Burnt orange - like autumn leaves */
    --accent-yellow: #B8860B;     /* Golden amber - like vintage paper edges */
    
    /* Enhanced Typography for Reading */
    --font-family-primary: 'Crimson Text', 'Times New Roman', serif;
    --line-height-base: 1.7;
    
    /* Soft Shadows for Depth */
    --shadow-light: 0 2px 8px rgba(45, 27, 22, 0.08);
    --shadow-medium: 0 4px 16px rgba(45, 27, 22, 0.12);
    --shadow-heavy: 0 8px 32px rgba(45, 27, 22, 0.16);
    
    /* Liquid Glass System - Book Theme Adaptations */
    /* Inverted Glass System for Light Theme */
    --liquid-glass-bg-primary: rgba(45, 27, 22, 0.12);
    --liquid-glass-bg-secondary: rgba(45, 27, 22, 0.06);
    --liquid-glass-bg-tertiary: rgba(45, 27, 22, 0.18);
    --liquid-glass-bg-accent: rgba(var(--page-accent-rgb), 0.08);
    --liquid-glass-bg-interactive: rgba(45, 27, 22, 0.15);
    
    /* Adapted Highlights for Light Background */
    --liquid-glass-highlight: linear-gradient(135deg, rgba(255,255,255,0.6) 0%, transparent 50%);
    --liquid-glass-highlight-intense: linear-gradient(135deg, rgba(255,255,255,0.8) 0%, transparent 35%);
    --liquid-glass-refraction: linear-gradient(45deg, transparent 25%, rgba(45,27,22,0.08) 50%, transparent 75%);
    
    /* Book Theme Borders */
    --liquid-glass-border: 1px solid rgba(45, 27, 22, 0.2);
    --liquid-glass-border-strong: 1px solid rgba(45, 27, 22, 0.35);
    --liquid-glass-border-accent: 1px solid rgba(var(--page-accent-rgb), 0.25);
    
    /* Lighter Shadows for Book Theme */
    --liquid-glass-shadow-soft: 0 4px 16px rgba(45, 27, 22, 0.06);
    --liquid-glass-shadow-medium: 0 8px 32px rgba(45, 27, 22, 0.10);
    --liquid-glass-shadow-strong: 0 16px 48px rgba(45, 27, 22, 0.14);
    --liquid-glass-shadow-ultra: 0 24px 64px rgba(45, 27, 22, 0.18);
    
    /* Legacy Glass Variables for Backward Compatibility */
    --glass-bg-primary: var(--liquid-glass-bg-primary);
    --glass-bg-secondary: var(--liquid-glass-bg-secondary);
    --glass-bg-tertiary: var(--liquid-glass-bg-tertiary);
    --glass-bg-accent: var(--liquid-glass-bg-accent);
    --glass-border: var(--liquid-glass-border);
    --glass-border-strong: var(--liquid-glass-border-strong);
    --glass-shadow-soft: var(--liquid-glass-shadow-soft);
    --glass-shadow-medium: var(--liquid-glass-shadow-medium);
    --glass-shadow-strong: var(--liquid-glass-shadow-strong);
    --glass-blur-light: var(--liquid-glass-blur-light);
    --glass-blur-medium: var(--liquid-glass-blur-medium);
    --glass-blur-strong: var(--liquid-glass-blur-strong);
    --glass-blur-intense: var(--liquid-glass-blur-intense);
    --glass-transition: var(--liquid-glass-transition-medium);
    --glass-transition-slow: var(--liquid-glass-transition-slow);
}

/* ====== PAGE-SPECIFIC ACCENT COLOR RGB VALUES ====== */
body.page-home { --page-accent-rgb: 220, 38, 38; }    /* Red */
body.page-about { --page-accent-rgb: 37, 99, 235; }   /* Blue */
body.page-research { --page-accent-rgb: 5, 150, 105; } /* Green */
body.page-projects { --page-accent-rgb: 124, 58, 237; } /* Purple */
body.page-blog { --page-accent-rgb: 234, 88, 12; }    /* Orange */
body.page-photography { --page-accent-rgb: 217, 119, 6; } /* Yellow */

/* ====== COMPREHENSIVE BOOK THEME OVERRIDES ====== */
:root[data-theme="book"] {
    /* Force apply to all elements */
    color-scheme: light;
}

/* Override body and all major elements */
:root[data-theme="book"] body,
:root[data-theme="book"] main,
:root[data-theme="book"] .page-container,
:root[data-theme="book"] .header,
:root[data-theme="book"] .hero,
:root[data-theme="book"] .section {
    background-color: var(--bg-primary) !important;
    color: var(--text-primary) !important;
}

/* Headers and navigation */
:root[data-theme="book"] .header {
    background-color: var(--bg-secondary) !important;
    border-bottom-color: var(--text-muted) !important;
}

:root[data-theme="book"] .header-content,
:root[data-theme="book"] .nav-links,
:root[data-theme="book"] .nav-links li a {
    color: var(--text-primary) !important;
}

:root[data-theme="book"] .logo {
    color: var(--text-primary) !important;
}

/* Content sections */
:root[data-theme="book"] .content-section,
:root[data-theme="book"] .about-content,
:root[data-theme="book"] .research-content,
:root[data-theme="book"] .projects-grid,
:root[data-theme="book"] .gallery-container {
    background-color: var(--bg-primary) !important;
}

/* Cards and containers */
:root[data-theme="book"] .project-card,
:root[data-theme="book"] .experience-card,
:root[data-theme="book"] .skill-category,
:root[data-theme="book"] .blog-post,
:root[data-theme="book"] .post-item {
    background-color: var(--bg-content) !important;
    color: var(--text-primary) !important;
    border-color: var(--text-muted) !important;
}

/* Text elements */
:root[data-theme="book"] h1,
:root[data-theme="book"] h2,
:root[data-theme="book"] h3,
:root[data-theme="book"] h4,
:root[data-theme="book"] h5,
:root[data-theme="book"] h6 {
    color: var(--text-primary) !important;
}

:root[data-theme="book"] p,
:root[data-theme="book"] span,
:root[data-theme="book"] div {
    color: var(--text-primary) !important;
}

/* Muted text */
:root[data-theme="book"] .text-muted,
:root[data-theme="book"] .experience-duration,
:root[data-theme="book"] .post-meta,
:root[data-theme="book"] .caption {
    color: var(--text-muted) !important;
}

/* Forms and inputs */
:root[data-theme="book"] input,
:root[data-theme="book"] textarea,
:root[data-theme="book"] select,
:root[data-theme="book"] button {
    background-color: var(--bg-content) !important;
    color: var(--text-primary) !important;
    border-color: var(--text-muted) !important;
}

/* Photography gallery specific */
:root[data-theme="book"] .photo-grid,
:root[data-theme="book"] .photo-item,
:root[data-theme="book"] .lightbox {
    background-color: var(--bg-primary) !important;
}

:root[data-theme="book"] .filter-buttons button {
    background-color: var(--bg-content) !important;
    color: var(--text-primary) !important;
    border-color: var(--text-muted) !important;
}

:root[data-theme="book"] .filter-buttons button.active {
    background-color: var(--page-accent) !important;
    color: var(--bg-primary) !important;
}

/* Photo overlay overrides for book theme */
:root[data-theme="book"] .photo-overlay {
    background: linear-gradient(transparent, rgba(45, 27, 22, 0.85)) !important;
    color: var(--bg-primary) !important;
}

:root[data-theme="book"] .photo-overlay-title {
    color: var(--bg-primary) !important;
}

:root[data-theme="book"] .photo-overlay-caption {
    color: var(--bg-primary) !important;
}

:root[data-theme="book"] .photo-overlay-meta {
    color: var(--bg-primary) !important;
}

/* Lightbox caption overrides for book theme */
:root[data-theme="book"] .lightbox-caption {
    background: rgba(45, 27, 22, 0.85) !important;
    color: var(--bg-primary) !important;
    border: 1px solid var(--text-muted) !important;
}

:root[data-theme="book"] .lightbox-caption-title {
    color: var(--bg-primary) !important;
}

:root[data-theme="book"] .lightbox-caption-text {
    color: var(--bg-primary) !important;
}

:root[data-theme="book"] .lightbox-caption-meta {
    color: var(--bg-primary) !important;
}

/* Category badge overrides for book theme */
:root[data-theme="book"] .category-badge {
    background: var(--accent-yellow) !important;
    color: var(--text-primary) !important;
    border: 1px solid var(--text-muted) !important;
}

:root[data-theme="book"] .photo-categories {
    background: transparent !important;
}

/* Lightbox navigation controls overrides for book theme */
:root[data-theme="book"] .nav-arrow {
    background: rgba(45, 27, 22, 0.85) !important;
    backdrop-filter: var(--glass-blur-medium) !important;
    -webkit-backdrop-filter: var(--glass-blur-medium) !important;
    border: var(--glass-border-strong) !important;
    box-shadow: var(--glass-shadow-medium) !important;
    color: var(--bg-primary) !important;
}

:root[data-theme="book"] .nav-arrow:hover {
    background: rgba(45, 27, 22, 0.95) !important;
    backdrop-filter: var(--glass-blur-strong) !important;
    -webkit-backdrop-filter: var(--glass-blur-strong) !important;
    box-shadow: var(--glass-shadow-strong) !important;
    color: var(--bg-primary) !important;
}

:root[data-theme="book"] .lightbox-close {
    background: rgba(45, 27, 22, 0.85) !important;
    backdrop-filter: var(--glass-blur-medium) !important;
    -webkit-backdrop-filter: var(--glass-blur-medium) !important;
    border: var(--glass-border-strong) !important;
    box-shadow: var(--glass-shadow-medium) !important;
    color: var(--bg-primary) !important;
}

:root[data-theme="book"] .lightbox-close:hover {
    background: rgba(45, 27, 22, 0.95) !important;
    backdrop-filter: var(--glass-blur-strong) !important;
    -webkit-backdrop-filter: var(--glass-blur-strong) !important;
    box-shadow: var(--glass-shadow-strong) !important;
    color: var(--bg-primary) !important;
}

/* Hover state overrides for book theme */
:root[data-theme="book"] .project-link:hover {
    color: var(--bg-primary) !important;
}

:root[data-theme="book"] .onesite-link:hover {
    color: var(--bg-primary) !important;
}

:root[data-theme="book"] .skill-tag:hover {
    color: var(--bg-primary) !important;
}

:root[data-theme="book"] .project-language {
    color: var(--bg-primary) !important;
}

:root[data-theme="book"] .onesite-number {
    color: var(--bg-primary) !important;
}

/* Override any hardcoded inline styles */
:root[data-theme="book"] [style*="background-color: #1"] *,
:root[data-theme="book"] [style*="background-color: #2"] *,
:root[data-theme="book"] [style*="background-color: #0"] *,
:root[data-theme="book"] [style*="background: #1"] *,
:root[data-theme="book"] [style*="background: #2"] *,
:root[data-theme="book"] [style*="background: #0"] * {
    background-color: var(--bg-primary) !important;
}

:root[data-theme="book"] [style*="color: #f"] *,
:root[data-theme="book"] [style*="color: #e"] *,
:root[data-theme="book"] [style*="color: #d"] * {
    color: var(--text-primary) !important;
}

/* Force background and text colors on problematic elements */
:root[data-theme="book"] .hero-section,
:root[data-theme="book"] .main-content,
:root[data-theme="book"] article,
:root[data-theme="book"] section {
    background-color: var(--bg-primary) !important;
    color: var(--text-primary) !important;
}

/* Ensure all containers use theme colors */
:root[data-theme="book"] div,
:root[data-theme="book"] section,
:root[data-theme="book"] article,
:root[data-theme="book"] main,
:root[data-theme="book"] header,
:root[data-theme="book"] footer {
    background-color: var(--bg-primary) !important;
    color: var(--text-primary) !important;
}

/* Exception for images and media */
:root[data-theme="book"] img,
:root[data-theme="book"] video,
:root[data-theme="book"] canvas,
:root[data-theme="book"] svg {
    background-color: transparent !important;
}

/* Make sure links use theme colors */
:root[data-theme="book"] a {
    color: var(--page-accent) !important;
}

:root[data-theme="book"] a:hover {
    color: var(--text-primary) !important;
}

/* Override border colors globally */
:root[data-theme="book"] * {
    border-color: var(--text-muted) !important;
}

/* Special handling for specific problematic selectors */
:root[data-theme="book"] .text-white,
:root[data-theme="book"] .text-gray-100,
:root[data-theme="book"] .text-gray-200,
:root[data-theme="book"] .text-slate-100,
:root[data-theme="book"] .text-slate-200 {
    color: var(--text-primary) !important;
}

:root[data-theme="book"] .bg-black,
:root[data-theme="book"] .bg-gray-900,
:root[data-theme="book"] .bg-gray-800,
:root[data-theme="book"] .bg-slate-900,
:root[data-theme="book"] .bg-slate-800 {
    background-color: var(--bg-primary) !important;
}

/* Ultra-comprehensive overrides - Nuclear option for stubborn elements */
:root[data-theme="book"] .antialiased,
:root[data-theme="book"] .scroll-smooth,
:root[data-theme="book"] body.antialiased {
    background-color: var(--bg-primary) !important;
    color: var(--text-primary) !important;
}

/* Force inheritance for all children */
:root[data-theme="book"] body *:not(img):not(svg):not(video):not(canvas) {
    background-color: inherit !important;
    color: inherit !important;
}

/* Override TailwindCSS utilities */
:root[data-theme="book"] .bg-opacity-100,
:root[data-theme="book"] .text-opacity-100 {
    --tw-bg-opacity: 1 !important;
    --tw-text-opacity: 1 !important;
}

/* Specific container overrides */
:root[data-theme="book"] #root,
:root[data-theme="book"] #app,
:root[data-theme="book"] .app,
:root[data-theme="book"] .container,
:root[data-theme="book"] .wrapper {
    background-color: var(--bg-primary) !important;
    color: var(--text-primary) !important;
}

/* ====== PAGE-SPECIFIC ACCENT COLORS ====== */
body.page-home { --page-accent: var(--accent-red); }
body.page-about { --page-accent: var(--accent-blue); }
body.page-research { --page-accent: var(--accent-green); }
body.page-projects { --page-accent: var(--accent-purple); }
body.page-blog { --page-accent: var(--accent-orange); }
body.page-post { --page-accent: var(--accent-orange); }
body.page-photography { --page-accent: var(--accent-yellow); }

/* ====== RESET & BASE STYLES ====== */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: var(--font-family-primary);
    background-color: var(--bg-primary);
    color: var(--text-primary);
    line-height: 1.6;
    overflow-x: hidden;
}

/* ====== TYPOGRAPHY ====== */
h1, h2, h3, h4, h5, h6 {
    font-family: var(--font-family-heading);
    font-weight: 600;
    line-height: 1.3;
    color: var(--text-primary);
}

a {
    color: var(--page-accent, var(--accent-red));
    text-decoration: none;
    transition: var(--transition);
}

a:hover {
    opacity: 0.8;
}

/* ====== HEADER STYLES ====== */
.header {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    z-index: 100;
    background: var(--glass-bg-primary);
    backdrop-filter: var(--glass-blur-strong);
    -webkit-backdrop-filter: var(--glass-blur-strong);
    padding: var(--spacing-sm) var(--spacing-lg);
    border-bottom: var(--glass-border);
    box-shadow: var(--glass-shadow-soft);
    transition: var(--glass-transition);
}

.header-content {
    width: 100%;
    margin: 0;
    padding: 0 var(--spacing-lg);
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.logo {
    font-family: var(--font-family-heading);
    font-size: var(--font-size-xl);
    font-weight: 600;
    color: var(--text-primary);
    text-decoration: none;
    letter-spacing: 0.1em;
    text-transform: uppercase;
    transition: var(--transition);
}

.logo:hover {
    color: var(--page-accent, var(--accent-red));
}

.nav-links {
    display: flex;
    gap: var(--spacing-lg);
    list-style: none;
}

.nav-links a {
    color: var(--text-secondary);
    text-decoration: none;
    font-size: var(--font-size-sm);
    font-weight: 400;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    padding: var(--spacing-xs) var(--spacing-sm);
    border-radius: var(--border-radius);
    position: relative;
    transition: var(--glass-transition);
}

.nav-links a::before {
    content: '';
    position: absolute;
    bottom: 0;
    left: 50%;
    width: 0;
    height: 2px;
    background: var(--accent-blue);
    transition: var(--glass-transition);
    transform: translateX(-50%);
}

.nav-links a:hover {
    color: var(--text-primary);
    background: var(--glass-bg-secondary);
    backdrop-filter: var(--glass-blur-light);
    -webkit-backdrop-filter: var(--glass-blur-light);
}

.nav-links a:hover::before {
    width: 80%;
}

/* ====== MOBILE NAVIGATION ====== */
.mobile-menu-button {
    display: none;
    background: var(--glass-bg-secondary);
    backdrop-filter: var(--glass-blur-light);
    -webkit-backdrop-filter: var(--glass-blur-light);
    border: var(--glass-border);
    border-radius: var(--border-radius);
    cursor: pointer;
    padding: var(--spacing-xs);
    z-index: 1001;
    position: relative;
    transition: var(--glass-transition);
}

.mobile-menu-button:hover {
    background: var(--glass-bg-primary);
    backdrop-filter: var(--glass-blur-medium);
    -webkit-backdrop-filter: var(--glass-blur-medium);
    transform: scale(1.05);
}

.hamburger {
    width: 24px;
    height: 18px;
    position: relative;
    transform: rotate(0deg);
    transition: 0.3s ease-in-out;
}

.hamburger span {
    display: block;
    position: absolute;
    height: 2px;
    width: 100%;
    background: var(--text-primary);
    border-radius: 2px;
    opacity: 1;
    left: 0;
    transform: rotate(0deg);
    transition: 0.3s ease-in-out;
}

.hamburger span:nth-child(1) {
    top: 0px;
}

.hamburger span:nth-child(2) {
    top: 8px;
}

.hamburger span:nth-child(3) {
    top: 16px;
}

/* Hamburger animation when active */
.mobile-menu-button.active .hamburger span:nth-child(1) {
    top: 8px;
    transform: rotate(135deg);
}

.mobile-menu-button.active .hamburger span:nth-child(2) {
    opacity: 0;
    left: -60px;
}

.mobile-menu-button.active .hamburger span:nth-child(3) {
    top: 8px;
    transform: rotate(-135deg);
}

/* Mobile menu overlay */
.mobile-nav-menu {
    position: fixed;
    top: 0;
    right: -100%;
    width: 280px;
    height: 100vh;
    background: var(--liquid-glass-bg-primary);
    backdrop-filter: var(--liquid-glass-blur-strong);
    -webkit-backdrop-filter: var(--liquid-glass-blur-strong);
    border-left: var(--liquid-glass-border);
    z-index: 1000;
    transition: right 0.3s var(--liquid-glass-easing);
    padding-top: 80px;
    box-shadow: var(--liquid-glass-shadow-medium);
    contain: var(--liquid-glass-contain);
}

.mobile-nav-menu.active {
    right: 0;
}

.mobile-nav-links {
    list-style: none;
    padding: 0;
    margin: 0;
}

.mobile-nav-links li {
    border-bottom: var(--liquid-glass-border);
}

.mobile-nav-links a {
    display: block;
    padding: var(--spacing-md) var(--spacing-lg);
    color: var(--text-secondary);
    text-decoration: none;
    font-size: var(--font-size-lg);
    font-weight: 400;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    transition: var(--liquid-glass-transition-medium);
    position: relative;
    border-radius: var(--border-radius);
}

.mobile-nav-links a:hover {
    color: var(--text-primary);
    background: var(--liquid-glass-bg-interactive);
    backdrop-filter: var(--liquid-glass-blur-light);
    -webkit-backdrop-filter: var(--liquid-glass-blur-light);
    padding-left: calc(var(--spacing-lg) + 10px);
    border-color: rgba(var(--page-accent-rgb), 0.3);
    transform: translateX(2px);
}

.mobile-nav-links a::before {
    content: '';
    position: absolute;
    left: 0;
    top: 50%;
    width: 0;
    height: 2px;
    background: linear-gradient(90deg, rgba(var(--page-accent-rgb), 1), rgba(var(--page-accent-rgb), 0.6));
    transition: var(--liquid-glass-transition-medium);
    transform: translateY(-50%);
    border-radius: 1px;
    box-shadow: 0 0 8px rgba(var(--page-accent-rgb), 0.3);
}

.mobile-nav-links a:hover::before {
    width: 6px;
}

/* Prevent body scroll when mobile menu is open */
body.mobile-menu-open {
    overflow: hidden;
    height: 100vh;
}

/* ====== MAIN LAYOUT STYLES ====== */
.page-container {
    max-width: var(--max-width);
    margin: 0 auto;
    padding: 6rem var(--spacing-lg) var(--spacing-2xl);
    position: relative;
    overflow: hidden;
}

.page-container::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 150px;
    background: 
        radial-gradient(ellipse 800px 80px at 50% 50px, rgba(255, 255, 255, 0.015) 0%, transparent 60%),
        linear-gradient(120deg, rgba(255, 255, 255, 0.008) 0%, transparent 40%);
    animation: flowingBox 10s ease-in-out infinite alternate;
    pointer-events: none;
    z-index: 0;
}

.page-container > * {
    position: relative;
    z-index: 1;
}

.page-title {
    font-family: var(--font-family-heading);
    font-size: var(--font-size-4xl);
    font-weight: 300;
    text-align: center;
    margin-bottom: var(--spacing-xl);
    color: var(--text-primary);
    letter-spacing: 0.1em;
    text-transform: uppercase;
}

.content-section {
    max-width: var(--max-width);
    margin: 0 auto;
    padding: 0 var(--spacing-lg);
}

/* ====== HOME PAGE SPECIFIC STYLES ====== */
.hero-section {
    background: linear-gradient(135deg, var(--bg-primary) 0%, var(--bg-secondary) 100%);
    padding: 8rem 0 var(--spacing-2xl);
    min-height: 80vh;
    position: relative;
    overflow: hidden;
}

.hero-section::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: radial-gradient(circle at 30% 70%, rgba(220, 38, 38, 0.1) 0%, transparent 50%);
    pointer-events: none;
}

.hero-container {
    max-width: var(--max-width);
    margin: 0 auto;
    padding: 0 var(--spacing-lg);
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--spacing-2xl);
    align-items: center;
    position: relative;
    z-index: 1;
}

.hero-text {
    order: 1;
    animation: fadeInLeft 1s ease-out;
}

.hero-title {
    font-family: var(--font-family-serif);
    font-size: clamp(2rem, 5vw, 3.5rem);
    font-weight: 400;
    color: var(--text-primary);
    line-height: 1.2;
    margin-bottom: var(--spacing-md);
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
}

.hero-title .accent {
    color: var(--accent-red);
    font-weight: 600;
    display: inline-block;
    animation: glow 2s ease-in-out infinite alternate;
}

.hero-subtitle {
    font-family: var(--font-family-serif);
    font-size: var(--font-size-xl);
    color: var(--text-secondary);
    margin-bottom: var(--spacing-lg);
    font-style: italic;
    line-height: 1.6;
}

.hero-tagline {
    font-family: var(--font-family-primary);
    font-size: var(--font-size-lg);
    color: var(--accent-red);
    font-weight: 500;
    letter-spacing: 0.5px;
    text-transform: uppercase;
    margin-bottom: var(--spacing-sm);
}

.hero-image {
    order: 2;
    text-align: center;
    animation: fadeInRight 1s ease-out;
}

.hero-image img {
    max-width: 100%;
    height: auto;
    border-radius: var(--border-radius-lg);
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    border: 3px solid rgba(255, 255, 255, 0.1);
    position: relative;
}

.hero-image img:hover {
    transform: scale(1.05) rotate(-2deg);
    box-shadow: 0 25px 80px rgba(0, 0, 0, 0.6);
}

.hero-image::before {
    content: '';
    position: absolute;
    top: -20px;
    left: -20px;
    right: -20px;
    bottom: -20px;
    background: 
        radial-gradient(ellipse 200px 100px at 50% 50%, rgba(255, 255, 255, 0.02) 0%, transparent 70%),
        linear-gradient(45deg, rgba(255, 255, 255, 0.01) 0%, transparent 50%);
    animation: flowingBox 15s ease-in-out infinite alternate;
    pointer-events: none;
    z-index: -1;
    border-radius: var(--border-radius-lg);
}

/* Glass Enhanced Hero Section Styles */
.hero-glass-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: var(--glass-bg-primary);
    backdrop-filter: var(--glass-blur-light);
    -webkit-backdrop-filter: var(--glass-blur-light);
    z-index: 1;
    pointer-events: none;
}

.hero-content-glass {
    background: var(--glass-bg-secondary);
    backdrop-filter: var(--glass-blur-medium);
    -webkit-backdrop-filter: var(--glass-blur-medium);
    border: var(--glass-border);
    border-radius: var(--border-radius-lg);
    padding: var(--spacing-2xl);
    margin: var(--spacing-xl) 0;
    box-shadow: var(--glass-shadow-medium);
    position: relative;
    z-index: 2;
    transition: var(--glass-transition);
}

.hero-content-glass:hover {
    background: var(--glass-bg-tertiary);
    backdrop-filter: var(--glass-blur-strong);
    -webkit-backdrop-filter: var(--glass-blur-strong);
    transform: translateY(-4px);
    box-shadow: var(--glass-shadow-strong);
}

.hero-content-glass::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 1px;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
    opacity: 0;
    transition: var(--glass-transition);
}

.hero-content-glass:hover::before {
    opacity: 1;
}

/* Enhanced Hero Container for Glass System */
.hero-container {
    position: relative;
    z-index: 2;
}

/* ====== CONTENT SECTIONS ====== */
.content-section {
    background: linear-gradient(180deg, var(--bg-content) 0%, var(--bg-secondary) 100%);
    backdrop-filter: var(--glass-blur-light);
    -webkit-backdrop-filter: var(--glass-blur-light);
    padding: var(--spacing-2xl) 0;
    position: relative;
    overflow: hidden;
    border-top: var(--glass-border);
    border-bottom: var(--glass-border);
}

.content-section::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 200px;
    background: 
        radial-gradient(ellipse 600px 100px at 50% 0%, rgba(255, 255, 255, 0.02) 0%, transparent 50%),
        linear-gradient(135deg, rgba(255, 255, 255, 0.01) 0%, transparent 30%),
        linear-gradient(45deg, rgba(255, 255, 255, 0.008) 20%, transparent 60%);
    animation: flowingBox 8s ease-in-out infinite alternate;
    pointer-events: none;
}

.content-section::after {
    content: '';
    position: absolute;
    top: 20px;
    left: 20%;
    right: 20%;
    height: 120px;
    background: 
        radial-gradient(ellipse 400px 60px at 50% 30%, rgba(255, 255, 255, 0.015) 0%, transparent 70%),
        linear-gradient(90deg, transparent 0%, rgba(255, 255, 255, 0.008) 50%, transparent 100%);
    animation: flowingBox 12s ease-in-out infinite alternate-reverse;
    pointer-events: none;
    border-radius: 50%;
}

.content-container {
    max-width: var(--max-width);
    margin: 0 auto;
    padding: 0 var(--spacing-lg);
    background: var(--glass-bg-secondary);
    backdrop-filter: var(--glass-blur-light);
    -webkit-backdrop-filter: var(--glass-blur-light);
    border-radius: var(--border-radius-lg);
    animation: fadeInUp 1s ease-out 0.3s both;
    position: relative;
    overflow: hidden;
}

.content-text {
    font-family: var(--font-family-serif);
    font-size: var(--font-size-lg);
    color: var(--text-secondary);
    line-height: 1.8;
    margin-bottom: var(--spacing-lg);
    text-align: center;
    opacity: 0;
    animation: fadeInUp 0.8s ease-out forwards;
    animation-delay: calc(var(--animation-delay, 0) * 0.2s);
    position: relative;
}

.content-text:nth-child(1) { --animation-delay: 1; }
.content-text:nth-child(2) { --animation-delay: 2; }
.content-text:nth-child(3) { --animation-delay: 3; }


.content-text strong,
.content-text .highlight {
    color: var(--text-primary);
    font-weight: 500;
}

.content-text a {
    color: var(--accent-red);
    text-decoration: underline;
}

.content-text a:hover {
    color: #ef4444;
}

/* ====== TWO-COLUMN LAYOUTS ====== */
.about-section,
.info-container {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--spacing-xl);
    margin-top: var(--spacing-2xl);
}

.info-section {
    background: linear-gradient(135deg, var(--bg-secondary) 0%, var(--bg-primary) 100%);
    padding: var(--spacing-2xl) 0;
    position: relative;
    overflow: hidden;
}

.info-section::before {
    content: '';
    position: absolute;
    top: -50%;
    right: -50%;
    width: 100%;
    height: 200%;
    background: radial-gradient(circle, rgba(220, 38, 38, 0.05) 0%, transparent 70%);
    animation: rotate 20s linear infinite;
}

.info-container {
    position: relative;
    z-index: 1;
    animation: fadeInUp 1s ease-out 0.5s both;
}

.info-column {
    background: rgba(42, 42, 42, 0.6);
    backdrop-filter: blur(10px);
    border-radius: var(--border-radius-lg);
    padding: var(--spacing-xl);
    border: 1px solid rgba(220, 38, 38, 0.2);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.info-column:hover {
    transform: translateY(-5px);
    box-shadow: 0 15px 40px rgba(220, 38, 38, 0.2);
}

.info-column h3 {
    font-family: var(--font-family-serif);
    font-size: var(--font-size-2xl);
    font-weight: 600;
    color: var(--text-primary);
    margin-bottom: var(--spacing-md);
    border-bottom: 3px solid var(--accent-red);
    padding-bottom: var(--spacing-xs);
    text-align: center;
    position: relative;
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
}

.info-column h3::after {
    content: '';
    position: absolute;
    bottom: -3px;
    left: 50%;
    transform: translateX(-50%);
    width: 50px;
    height: 3px;
    background: linear-gradient(90deg, transparent, var(--accent-red), transparent);
    border-radius: 2px;
}

.info-column ul {
    list-style: none;
    padding-top: var(--spacing-sm);
}

.info-column li {
    color: var(--text-secondary);
    margin-bottom: 1rem;
    padding-left: var(--spacing-md);
    position: relative;
    transition: color 0.3s ease, transform 0.2s ease;
    border-radius: var(--border-radius);
    padding: var(--spacing-xs) var(--spacing-sm) var(--spacing-xs) var(--spacing-md);
}

.info-column li:hover {
    color: var(--text-primary);
    transform: translateX(5px);
    background: rgba(220, 38, 38, 0.1);
}

.info-column li:before {
    content: "●";
    color: var(--accent-red);
    position: absolute;
    left: var(--spacing-xs);
    top: 50%;
    transform: translateY(-50%);
    font-size: 0.8em;
    transition: transform 0.3s ease;
}

.info-column li:hover:before {
    transform: translateY(-50%) scale(1.2);
}

/* ====== IMAGE STYLES ====== */
.about-text {
    color: var(--text-secondary);
    margin-bottom: var(--spacing-md);
    line-height: 1.8;
}

.image-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--spacing-sm);
}

.about-image {
    width: 100%;
    height: auto;
    border-radius: var(--border-radius);
    transition: var(--transition);
}

.about-image:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);
}

/* ====== PHOTOGRAPHY PAGE SPECIFIC ====== */
.gallery-container {
    width: 100%;
    margin: 0;
    padding: 6rem 0 var(--spacing-2xl);
}

.gallery-title {
    font-family: var(--font-family-heading);
    font-size: var(--font-size-4xl);
    font-weight: 300;
    text-align: center;
    margin-bottom: var(--spacing-xl);
    color: var(--text-primary);
    letter-spacing: 0.1em;
    text-transform: uppercase;
}

/* Photo Category Filter */
.filter-section {
    margin: var(--spacing-xl) 0 var(--spacing-2xl) 0;
    text-align: center;
    position: relative;
}

.filter-buttons {
    display: flex;
    gap: var(--spacing-sm);
    justify-content: center;
    flex-wrap: wrap;
    max-width: 800px;
    margin: 0 auto;
    padding: 0 var(--spacing-md);
}

.filter-btn {
    background: var(--glass-bg-primary);
    backdrop-filter: var(--glass-blur-medium);
    -webkit-backdrop-filter: var(--glass-blur-medium);
    color: var(--text-secondary);
    border: var(--glass-border);
    box-shadow: var(--glass-shadow-soft);
    padding: var(--spacing-sm) var(--spacing-lg);
    border-radius: 24px;
    font-family: var(--font-family-body);
    font-size: var(--font-size-sm);
    font-weight: 500;
    text-transform: capitalize;
    cursor: pointer;
    transition: var(--glass-transition);
    white-space: nowrap;
    min-width: 80px;
    position: relative;
    overflow: hidden;
}

.filter-btn:before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
    transition: left 0.5s;
}

.filter-btn:hover:before {
    left: 100%;
}

.filter-btn:hover {
    background: var(--glass-bg-tertiary);
    backdrop-filter: var(--glass-blur-strong);
    -webkit-backdrop-filter: var(--glass-blur-strong);
    color: var(--text-primary);
    border-color: var(--accent-color);
    transform: translateY(-2px) scale(1.02);
    box-shadow: var(--glass-shadow-medium);
}

.filter-btn.active {
    background: var(--glass-bg-accent);
    backdrop-filter: var(--glass-blur-strong);
    -webkit-backdrop-filter: var(--glass-blur-strong);
    color: var(--text-primary);
    border-color: var(--accent-color);
    font-weight: 600;
    transform: translateY(-1px);
    box-shadow: var(--glass-shadow-strong);
}

.filter-btn.active:hover {
    background: var(--glass-bg-tertiary);
    backdrop-filter: var(--glass-blur-intense);
    -webkit-backdrop-filter: var(--glass-blur-intense);
    transform: translateY(-2px) scale(1.02);
    box-shadow: var(--glass-shadow-strong);
}

/* Mobile-First Responsive Design */
@media (max-width: 768px) {
    .filter-section {
        margin: var(--spacing-lg) 0 var(--spacing-xl) 0;
        overflow: hidden;
    }
    
    .filter-buttons {
        justify-content: flex-start;
        flex-wrap: nowrap;
        overflow-x: auto;
        scroll-behavior: smooth;
        padding: 0 var(--spacing-md) var(--spacing-xs) var(--spacing-md);
        gap: var(--spacing-sm);
        margin: 0;
        max-width: none;
        
        /* Hide scrollbar but keep functionality */
        scrollbar-width: none;
        -ms-overflow-style: none;
    }
    
    .filter-buttons::-webkit-scrollbar {
        display: none;
    }
    
    .filter-btn {
        padding: var(--spacing-sm) var(--spacing-md);
        font-size: var(--font-size-xs);
        min-width: 70px;
        flex-shrink: 0;
        border-radius: 20px;
    }
    
    .filter-btn:hover {
        transform: translateY(-1px) scale(1.01);
    }
    
    .filter-btn.active:hover {
        transform: translateY(-1px) scale(1.01);
    }
}

@media (max-width: 480px) {
    .filter-buttons {
        padding: 0 var(--spacing-sm) var(--spacing-xs) var(--spacing-sm);
        gap: var(--spacing-xs);
    }
    
    .filter-btn {
        padding: var(--spacing-xs) var(--spacing-sm);
        min-width: 60px;
        font-size: 11px;
    }
}

.photo-grid {
    columns: 4;
    column-gap: 0;
    column-fill: balance;
    margin: 0;
    padding: 0;
    transition: opacity 0.3s cubic-bezier(0.4, 0, 0.2, 1), 
                transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.photo-item {
    position: relative;
    cursor: pointer;
    overflow: hidden;
    transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1), 
                z-index 0.3s ease,
                box-shadow 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    background: var(--bg-secondary);
    display: inline-block;
    width: 100%;
    margin-bottom: 0;
    break-inside: avoid;
    border-radius: 8px;
    animation: fadeInUp 0.6s cubic-bezier(0.4, 0, 0.2, 1) forwards;
    opacity: 0;
    transform: translateY(20px);
}

@keyframes fadeInUp {
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.photo-item:nth-child(1) { animation-delay: 0.1s; }
.photo-item:nth-child(2) { animation-delay: 0.15s; }
.photo-item:nth-child(3) { animation-delay: 0.2s; }
.photo-item:nth-child(4) { animation-delay: 0.25s; }
.photo-item:nth-child(5) { animation-delay: 0.3s; }
.photo-item:nth-child(6) { animation-delay: 0.35s; }
.photo-item:nth-child(7) { animation-delay: 0.4s; }
.photo-item:nth-child(8) { animation-delay: 0.45s; }

.photo-item img {
    transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1),
                opacity 0.3s ease;
}

.photo-item:hover {
    transform: scale(1.02);
    z-index: 10;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
}

.photo-item img {
    width: 100%;
    height: auto;
    object-fit: cover;
    display: block;
    transition: brightness 0.3s ease;
}

/* Hover Caption Overlay */
.photo-overlay {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    background: linear-gradient(transparent, rgba(0, 0, 0, 0.8));
    color: white;
    padding: var(--spacing-md);
    transform: translateY(100%);
    transition: transform 0.3s ease;
    pointer-events: none;
}

.photo-item:hover .photo-overlay {
    transform: translateY(0);
}

.photo-overlay-title {
    font-weight: 600;
    font-size: var(--font-size-sm);
    margin-bottom: 4px;
}

.photo-overlay-caption {
    font-size: var(--font-size-xs);
    opacity: 0.9;
    margin-bottom: 4px;
}

.photo-overlay-meta {
    font-size: var(--font-size-xs);
    opacity: 0.7;
    font-style: italic;
}

/* Multi-Category Photo Badges */
.photo-categories {
    margin-top: var(--spacing-xs);
    display: flex;
    flex-wrap: wrap;
    gap: 4px;
}

.category-badge {
    background: rgba(219, 112, 147, 0.8);
    color: white;
    font-size: 10px;
    font-weight: 600;
    padding: 2px 6px;
    border-radius: 8px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    backdrop-filter: blur(4px);
    border: 1px solid rgba(255, 255, 255, 0.2);
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
}

/* Multi-category photo indicator */
.photo-item.multi-category {
    position: relative;
}

.photo-item.multi-category::before {
    content: '';
    position: absolute;
    top: 8px;
    right: 8px;
    width: 8px;
    height: 8px;
    background: var(--accent-color);
    border-radius: 50%;
    z-index: 5;
    box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.8), 0 1px 3px rgba(0, 0, 0, 0.3);
    animation: pulse 2s infinite;
}

@keyframes pulse {
    0%, 100% {
        opacity: 1;
        transform: scale(1);
    }
    50% {
        opacity: 0.7;
        transform: scale(1.1);
    }
}

/* Error Message Styling */
.error-message {
    text-align: center;
    padding: var(--spacing-2xl);
    color: var(--text-secondary);
    font-size: var(--font-size-lg);
    grid-column: 1 / -1;
    background: var(--bg-secondary);
    border-radius: 12px;
    border: 2px dashed var(--border-color);
    margin: var(--spacing-lg) auto;
    max-width: 400px;
    opacity: 0.8;
    animation: fadeIn 0.5s ease-in-out;
}

@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(10px);
    }
    to {
        opacity: 0.8;
        transform: translateY(0);
    }
}

.photo-item:hover img {
    brightness: 1.1;
}

/* ====== LIGHTBOX STYLES ====== */
.lightbox {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.95);
    backdrop-filter: blur(10px);
    display: none;
    justify-content: center;
    align-items: center;
    z-index: 1000;
    cursor: pointer;
}

.lightbox.active {
    display: flex;
}

.lightbox-content {
    position: relative;
    max-width: min(80vw, 1200px);
    max-height: 90vh;
    width: auto;
    height: auto;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 20px;
}

.lightbox-image {
    max-width: min(75vw, 1000px);
    max-height: 80vh;
    width: auto;
    height: auto;
    object-fit: contain;
    border-radius: 8px;
    transition: opacity 0.3s cubic-bezier(0.4, 0, 0.2, 1),
                transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.6);
}

/* Lightbox Navigation */
.nav-arrow {
    position: fixed;
    top: 50%;
    transform: translateY(-50%);
    background: var(--glass-bg-primary);
    backdrop-filter: var(--glass-blur-medium);
    -webkit-backdrop-filter: var(--glass-blur-medium);
    border: var(--glass-border);
    box-shadow: var(--glass-shadow-medium);
    color: white;
    width: 50px;
    height: 50px;
    border-radius: 50%;
    font-size: 20px;
    cursor: pointer;
    transition: var(--glass-transition);
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0.7;
    z-index: 1001;
}

.nav-arrow:hover {
    background: var(--glass-bg-tertiary);
    backdrop-filter: var(--glass-blur-strong);
    -webkit-backdrop-filter: var(--glass-blur-strong);
    opacity: 1;
    transform: translateY(-50%) scale(1.1);
    box-shadow: var(--glass-shadow-strong);
}

.nav-arrow.prev {
    left: 30px;
}

.nav-arrow.next {
    right: 30px;
}

/* Close Button */
.lightbox-close {
    position: fixed;
    top: 30px;
    right: 30px;
    background: var(--glass-bg-primary);
    backdrop-filter: var(--glass-blur-medium);
    -webkit-backdrop-filter: var(--glass-blur-medium);
    border: var(--glass-border);
    box-shadow: var(--glass-shadow-medium);
    color: white;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    font-size: 18px;
    cursor: pointer;
    transition: var(--glass-transition);
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0.7;
    z-index: 1001;
}

.lightbox-close:hover {
    background: var(--glass-bg-tertiary);
    backdrop-filter: var(--glass-blur-strong);
    -webkit-backdrop-filter: var(--glass-blur-strong);
    opacity: 1;
    transform: scale(1.1);
    box-shadow: var(--glass-shadow-strong);
}

/* Lightbox Caption */
.lightbox-caption {
    position: fixed;
    bottom: 30px;
    left: 30px;
    background: rgba(0, 0, 0, 0.8);
    color: white;
    padding: var(--spacing-sm) var(--spacing-md);
    border-radius: var(--border-radius);
    backdrop-filter: blur(10px);
    max-width: 400px;
    opacity: 0;
    transform: translateY(20px);
    transition: all 0.3s ease;
    z-index: 1001;
}

.lightbox.active .lightbox-caption {
    opacity: 1;
    transform: translateY(0);
}

.lightbox-caption-title {
    font-weight: 600;
    font-size: var(--font-size-sm);
    margin-bottom: 4px;
}

.lightbox-caption-text {
    font-size: var(--font-size-xs);
    opacity: 0.9;
    margin-bottom: 4px;
}

.lightbox-caption-meta {
    font-size: var(--font-size-xs);
    opacity: 0.7;
    font-style: italic;
}

/* Error Messages */
.error-message {
    text-align: center;
    color: var(--text-secondary);
    font-size: var(--font-size-lg);
    padding: var(--spacing-2xl);
    background: var(--bg-secondary);
    border-radius: var(--border-radius);
    margin: var(--spacing-xl) 0;
}

/* ====== RESPONSIVE DESIGN ====== */
@media (max-width: 1200px) {
    .photo-grid {
        columns: 3;
    }
}

@media (max-width: 768px) {
    .header {
        padding: 0.75rem var(--spacing-sm);
    }
    
    .nav-links {
        display: none;
    }
    
    .hero-container {
        grid-template-columns: 1fr;
        gap: var(--spacing-lg);
        text-align: center;
    }
    
    .hero-text {
        order: 2;
    }
    
    .hero-image {
        order: 1;
    }
    
    .hero-title {
        font-size: var(--font-size-3xl);
    }
    
    .page-title {
        font-size: var(--font-size-3xl);
        margin-bottom: var(--spacing-lg);
    }
    
    .about-section,
    .info-container {
        grid-template-columns: 1fr;
        gap: var(--spacing-lg);
    }
    
    .image-grid {
        grid-template-columns: 1fr;
    }
    
    .photo-grid {
        columns: 2;
    }
    
    /* Mobile lightbox adjustments */
    .lightbox-content {
        max-width: 95vw;
        max-height: 85vh;
        padding: 15px;
    }
    
    .lightbox-image {
        max-width: 90vw;
        max-height: 75vh;
        border-radius: 6px;
    }
    
    .nav-arrow {
        width: 40px;
        height: 40px;
        font-size: 16px;
    }
    
    .nav-arrow.prev {
        left: 15px;
    }
    
    .nav-arrow.next {
        right: 15px;
    }
    
    .lightbox-close {
        top: 15px;
        right: 15px;
        width: 35px;
        height: 35px;
        font-size: 16px;
    }
    
    .lightbox-caption {
        bottom: 15px;
        left: 15px;
        right: 15px;
        max-width: none;
    }
}

@media (max-width: 480px) {
    .photo-grid {
        columns: 1;
    }
    
    .hero-title {
        font-size: var(--font-size-2xl);
    }
    
    .page-title {
        font-size: var(--font-size-2xl);
    }
}

/* ====== UTILITY CLASSES ====== */
/* Glass Morphism Utility Classes - Apple 2025 Liquid Glass System */

/* Base Glass Components */
.glass-primary {
    background: var(--glass-bg-primary);
    backdrop-filter: var(--glass-blur-medium);
    -webkit-backdrop-filter: var(--glass-blur-medium);
    border: var(--glass-border);
    box-shadow: var(--glass-shadow-medium);
    border-radius: var(--border-radius);
}

.glass-secondary {
    background: var(--glass-bg-secondary);
    backdrop-filter: var(--glass-blur-light);
    -webkit-backdrop-filter: var(--glass-blur-light);
    border: var(--glass-border);
    box-shadow: var(--glass-shadow-soft);
    border-radius: var(--border-radius);
}

.glass-accent {
    background: var(--glass-bg-accent);
    backdrop-filter: var(--glass-blur-medium);
    -webkit-backdrop-filter: var(--glass-blur-medium);
    border: var(--glass-border-strong);
    box-shadow: var(--glass-shadow-medium);
    border-radius: var(--border-radius);
}

.glass-tertiary {
    background: var(--glass-bg-tertiary);
    backdrop-filter: var(--glass-blur-strong);
    -webkit-backdrop-filter: var(--glass-blur-strong);
    border: var(--glass-border-strong);
    box-shadow: var(--glass-shadow-strong);
    border-radius: var(--border-radius);
}

/* Glass Interaction States */
.glass-hover {
    transition: var(--glass-transition);
    position: relative;
    overflow: hidden;
}

.glass-hover:hover {
    background: var(--glass-bg-tertiary);
    backdrop-filter: var(--glass-blur-strong);
    -webkit-backdrop-filter: var(--glass-blur-strong);
    transform: translateY(-2px);
    box-shadow: var(--glass-shadow-strong);
}

.glass-hover::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 1px;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
    opacity: 0;
    transition: var(--glass-transition);
}

.glass-hover:hover::before {
    opacity: 1;
}

/* Glass Enhanced Components */
.glass-card {
    background: var(--glass-bg-primary);
    backdrop-filter: var(--glass-blur-medium);
    -webkit-backdrop-filter: var(--glass-blur-medium);
    border: var(--glass-border);
    border-radius: var(--border-radius-lg);
    box-shadow: var(--glass-shadow-medium);
    transition: var(--glass-transition);
    position: relative;
    overflow: hidden;
}

.glass-card:hover {
    background: var(--glass-bg-tertiary);
    backdrop-filter: var(--glass-blur-strong);
    -webkit-backdrop-filter: var(--glass-blur-strong);
    transform: translateY(-4px) scale(1.02);
    box-shadow: var(--glass-shadow-strong);
}

.glass-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 1px;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
    opacity: 0;
    transition: var(--glass-transition);
}

.glass-card:hover::before {
    opacity: 1;
}

/* Glass Navigation Items */
.glass-nav-item {
    position: relative;
    transition: var(--glass-transition);
}

.glass-nav-item::before {
    content: '';
    position: absolute;
    bottom: 0;
    left: 50%;
    width: 0;
    height: 2px;
    background: var(--accent-blue);
    transition: var(--glass-transition);
    transform: translateX(-50%);
}

.glass-nav-item:hover::before {
    width: 100%;
}

/* Glass Button System */
.glass-button {
    background: var(--glass-bg-accent);
    backdrop-filter: var(--glass-blur-medium);
    -webkit-backdrop-filter: var(--glass-blur-medium);
    border: var(--glass-border-strong);
    border-radius: var(--border-radius);
    padding: var(--spacing-sm) var(--spacing-md);
    color: var(--text-primary);
    font-weight: 500;
    transition: var(--glass-transition);
    cursor: pointer;
    text-decoration: none;
    display: inline-block;
}

.glass-button:hover {
    background: var(--glass-bg-tertiary);
    backdrop-filter: var(--glass-blur-strong);
    -webkit-backdrop-filter: var(--glass-blur-strong);
    transform: translateY(-1px);
    box-shadow: var(--glass-shadow-medium);
    color: var(--text-primary);
}

/* Glass Input System */
.glass-input {
    background: var(--glass-bg-secondary);
    backdrop-filter: var(--glass-blur-light);
    -webkit-backdrop-filter: var(--glass-blur-light);
    border: var(--glass-border);
    border-radius: var(--border-radius);
    padding: var(--spacing-sm);
    color: var(--text-primary);
    transition: var(--glass-transition);
    width: 100%;
}

.glass-input:focus {
    background: var(--glass-bg-primary);
    backdrop-filter: var(--glass-blur-medium);
    -webkit-backdrop-filter: var(--glass-blur-medium);
    border-color: var(--accent-blue);
    outline: none;
    box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.2);
}

.glass-input::placeholder {
    color: var(--text-muted);
}

/* Dynamic Glass Effects - Scroll-based Enhancement */
.glass-scroll-enhanced {
    backdrop-filter: var(--dynamic-blur, var(--glass-blur-strong));
    -webkit-backdrop-filter: var(--dynamic-blur, var(--glass-blur-strong));
    background: rgba(255, 255, 255, var(--dynamic-glass-opacity, 0.15));
    transition: backdrop-filter 0.3s ease, background 0.3s ease;
}

.header-scrolled {
    backdrop-filter: var(--glass-blur-intense);
    -webkit-backdrop-filter: var(--glass-blur-intense);
    box-shadow: var(--glass-shadow-strong);
    border-bottom: var(--glass-border-strong);
}

/* Glass elements in view optimization */
.glass-in-view {
    will-change: backdrop-filter, transform;
}

/* Book theme dynamic glass adaptations */
:root[data-theme="book"] .glass-scroll-enhanced {
    background: rgba(45, 27, 22, var(--dynamic-glass-opacity, 0.12));
}

:root[data-theme="book"] .header-scrolled {
    backdrop-filter: var(--glass-blur-intense);
    -webkit-backdrop-filter: var(--glass-blur-intense);
    box-shadow: 0 8px 32px rgba(45, 27, 22, 0.2);
    border-bottom: 1px solid rgba(45, 27, 22, 0.3);
}

/* ====== ACCESSIBILITY ENHANCEMENTS ====== */

/* Reduced Motion Support - Respect user's motion preferences */
@media (prefers-reduced-motion: reduce) {
    /* Disable all glass transitions and animations */
    .glass-hover,
    .glass-card,
    .glass-button,
    .glass-nav-item,
    .card-glass-enhanced,
    .onesite-card,
    .experience-card,
    .education-card,
    .publication-card,
    .interest-card,
    .project-card,
    .filter-btn,
    .hero-content-glass,
    .nav-links a,
    .mobile-menu-button {
        transition: none !important;
        transform: none !important;
        animation: none !important;
    }
    
    /* Remove hover transforms */
    .glass-hover:hover,
    .glass-card:hover,
    .card-glass-enhanced:hover,
    .onesite-card:hover,
    .experience-card:hover,
    .education-card:hover,
    .publication-card:hover,
    .interest-card:hover,
    .project-card:hover,
    .filter-btn:hover,
    .hero-content-glass:hover,
    .glass-button:hover,
    .mobile-menu-button:hover {
        transform: none !important;
    }
    
    /* Disable dynamic glass effects */
    .glass-scroll-enhanced {
        backdrop-filter: var(--glass-blur-medium) !important;
        -webkit-backdrop-filter: var(--glass-blur-medium) !important;
        transition: none !important;
    }
    
    /* Static header for reduced motion */
    .header-scrolled {
        backdrop-filter: var(--glass-blur-strong) !important;
        -webkit-backdrop-filter: var(--glass-blur-strong) !important;
        transition: none !important;
    }
    
    /* Remove all animations and transitions from theme toggle */
    .theme-toggle-btn {
        transition: none !important;
    }
    
    /* Disable floating animations */
    * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
    }
}

/* High Contrast Mode Support - Fallback for accessibility */
@media (prefers-contrast: high) {
    /* Remove glass effects for high contrast */
    .glass-primary,
    .glass-secondary,
    .glass-accent,
    .glass-tertiary,
    .glass-card,
    .glass-button,
    .onesite-card,
    .experience-card,
    .education-card,
    .publication-card,
    .interest-card,
    .project-card,
    .filter-btn,
    .hero-content-glass,
    .content-container,
    .content-section,
    .header {
        backdrop-filter: none !important;
        -webkit-backdrop-filter: none !important;
        background: var(--bg-content) !important;
        border: 2px solid var(--text-primary) !important;
        box-shadow: none !important;
    }
    
    /* High contrast navigation */
    .nav-links a {
        background: transparent !important;
        border: 1px solid var(--text-primary) !important;
        backdrop-filter: none !important;
        -webkit-backdrop-filter: none !important;
    }
    
    /* High contrast buttons */
    .glass-button,
    .filter-btn {
        background: var(--bg-primary) !important;
        color: var(--text-primary) !important;
        border: 2px solid var(--text-primary) !important;
        backdrop-filter: none !important;
        -webkit-backdrop-filter: none !important;
    }
    
    /* High contrast active states */
    .filter-btn.active {
        background: var(--text-primary) !important;
        color: var(--bg-primary) !important;
        border: 2px solid var(--text-primary) !important;
    }
    
    /* High contrast hover states */
    .glass-button:hover,
    .filter-btn:hover,
    .nav-links a:hover {
        background: var(--text-primary) !important;
        color: var(--bg-primary) !important;
    }
}

/* Color Independence - Ensure information is not conveyed by color alone */
.glass-status-indicator {
    position: relative;
}

.glass-status-indicator::after {
    content: attr(data-status);
    position: absolute;
    top: -8px;
    right: -8px;
    font-size: 10px;
    padding: 2px 6px;
    border-radius: 10px;
    background: var(--glass-bg-accent);
    backdrop-filter: var(--glass-blur-light);
    -webkit-backdrop-filter: var(--glass-blur-light);
    border: 1px solid var(--text-primary);
    color: var(--text-primary);
    font-weight: bold;
    white-space: nowrap;
}

/* Focus Indicators for Glass Elements */
.glass-button:focus,
.filter-btn:focus,
.glass-input:focus,
.nav-links a:focus,
.mobile-menu-button:focus,
.theme-toggle-btn:focus {
    outline: 3px solid var(--accent-blue) !important;
    outline-offset: 2px !important;
}

/* High contrast focus indicators */
@media (prefers-contrast: high) {
    .glass-button:focus,
    .filter-btn:focus,
    .glass-input:focus,
    .nav-links a:focus,
    .mobile-menu-button:focus,
    .theme-toggle-btn:focus {
        outline: 4px solid var(--text-primary) !important;
        outline-offset: 2px !important;
    }
}

/* Screen Reader Support */
.sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
}

/* Skip to Content Link */
.skip-link {
    position: absolute;
    top: -40px;
    left: 6px;
    background: var(--glass-bg-primary);
    backdrop-filter: var(--glass-blur-strong);
    -webkit-backdrop-filter: var(--glass-blur-strong);
    color: var(--text-primary);
    padding: 8px;
    border-radius: var(--border-radius);
    text-decoration: none;
    z-index: 1000;
    border: var(--glass-border);
    transition: var(--glass-transition);
}

.skip-link:focus {
    top: 6px;
    outline: 3px solid var(--accent-blue);
    outline-offset: 2px;
}

/* ====== PERFORMANCE OPTIMIZATIONS ====== */

/* CSS Containment for performance */
.glass-container,
.onesite-card,
.experience-card,
.education-card,
.publication-card,
.interest-card,
.project-card,
.filter-btn,
.hero-content-glass,
.content-container {
    contain: layout style paint;
    will-change: backdrop-filter, transform;
}

/* Intersection observer optimization */
.glass-lazy {
    backdrop-filter: none;
    -webkit-backdrop-filter: none;
    transition: var(--glass-transition);
}

.glass-lazy.glass-in-view {
    backdrop-filter: var(--glass-blur-medium);
    -webkit-backdrop-filter: var(--glass-blur-medium);
}

/* GPU Acceleration for smooth animations */
.glass-card,
.glass-hover,
.onesite-card,
.experience-card,
.education-card,
.publication-card,
.interest-card,
.project-card,
.filter-btn,
.hero-content-glass {
    transform: translateZ(0);
    backface-visibility: hidden;
    perspective: 1000px;
}

/* ====== ENHANCED LIQUID GLASS UTILITY CLASSES ====== */

/* Enhanced Card Component with Specular Highlights */
.card-glass-enhanced {
    background: var(--liquid-glass-bg-primary);
    backdrop-filter: var(--liquid-glass-blur-medium);
    -webkit-backdrop-filter: var(--liquid-glass-blur-medium);
    border: var(--liquid-glass-border);
    border-radius: var(--border-radius-lg);
    box-shadow: var(--liquid-glass-shadow-medium);
    transition: var(--liquid-glass-transition-medium);
    position: relative;
    overflow: hidden;
    contain: var(--liquid-glass-contain);
}

.card-glass-enhanced::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 1px;
    background: var(--liquid-glass-highlight);
    opacity: 0;
    transition: var(--liquid-glass-transition-medium);
}

.card-glass-enhanced::after {
    content: '';
    position: absolute;
    top: -50%;
    right: -50%;
    width: 200%;
    height: 200%;
    background: var(--liquid-glass-refraction);
    opacity: 0;
    transform: rotate(45deg);
    transition: var(--liquid-glass-transition-slow);
    pointer-events: none;
}

.card-glass-enhanced:hover {
    background: var(--liquid-glass-bg-tertiary);
    backdrop-filter: var(--liquid-glass-blur-strong);
    -webkit-backdrop-filter: var(--liquid-glass-blur-strong);
    transform: translateY(-4px) scale(1.02);
    box-shadow: var(--liquid-glass-shadow-strong);
    border-color: var(--liquid-glass-border-accent);
}

.card-glass-enhanced:hover::before {
    opacity: 1;
}

.card-glass-enhanced:hover::after {
    opacity: 0.1;
    transform: rotate(45deg) translate(10px, 10px);
}

/* Enhanced Header Navigation */
.header-glass-enhanced {
    background: var(--liquid-glass-bg-primary);
    backdrop-filter: var(--liquid-glass-blur-strong);
    -webkit-backdrop-filter: var(--liquid-glass-blur-strong);
    border-bottom: var(--liquid-glass-border);
    box-shadow: var(--liquid-glass-shadow-soft);
    position: relative;
    contain: var(--liquid-glass-contain);
}

.header-glass-enhanced::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 1px;
    background: var(--liquid-glass-highlight-intense);
    opacity: 0.6;
}

/* Enhanced Navigation Items */
.nav-glass-item-enhanced {
    position: relative;
    transition: var(--liquid-glass-transition-medium);
    padding: var(--spacing-sm) var(--spacing-md);
    border-radius: var(--border-radius);
    overflow: hidden;
}

.nav-glass-item-enhanced::before {
    content: '';
    position: absolute;
    bottom: 0;
    left: 50%;
    width: 0;
    height: 2px;
    background: linear-gradient(90deg, transparent, rgba(var(--page-accent-rgb), 1), transparent);
    transition: var(--liquid-glass-transition-medium);
    transform: translateX(-50%);
}

.nav-glass-item-enhanced::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: var(--liquid-glass-bg-interactive);
    backdrop-filter: var(--liquid-glass-blur-light);
    -webkit-backdrop-filter: var(--liquid-glass-blur-light);
    opacity: 0;
    transition: var(--liquid-glass-transition-fast);
    border-radius: var(--border-radius);
}

.nav-glass-item-enhanced:hover::before {
    width: 80%;
}

.nav-glass-item-enhanced:hover::after {
    opacity: 1;
}

/* Dynamic Scroll-Based Glass Effects */
.glass-scroll-dynamic {
    transition: var(--liquid-glass-transition-medium);
    will-change: var(--liquid-glass-will-change);
}

.glass-scroll-dynamic.scrolled {
    backdrop-filter: var(--liquid-glass-blur-intense);
    -webkit-backdrop-filter: var(--liquid-glass-blur-intense);
    background: var(--liquid-glass-bg-tertiary);
    box-shadow: var(--liquid-glass-shadow-ultra);
}

/* Context-Aware Glass Adaptation */
.glass-content-overlay {
    background: var(--liquid-glass-bg-primary);
    backdrop-filter: var(--liquid-glass-blur-medium);
    -webkit-backdrop-filter: var(--liquid-glass-blur-medium);
    transition: var(--liquid-glass-transition-medium);
}

.glass-content-overlay[data-content="text"] {
    background: var(--liquid-glass-bg-secondary);
    backdrop-filter: var(--liquid-glass-blur-light);
    -webkit-backdrop-filter: var(--liquid-glass-blur-light);
}

.glass-content-overlay[data-content="image"] {
    background: var(--liquid-glass-bg-tertiary);
    backdrop-filter: var(--liquid-glass-blur-strong);
    -webkit-backdrop-filter: var(--liquid-glass-blur-strong);
}

.glass-content-overlay[data-content="interactive"] {
    background: var(--liquid-glass-bg-interactive);
    backdrop-filter: var(--liquid-glass-blur-medium);
    -webkit-backdrop-filter: var(--liquid-glass-blur-medium);
    border: var(--liquid-glass-border-accent);
}

/* Enhanced Interactive Elements */
.button-glass-enhanced {
    background: var(--liquid-glass-bg-accent);
    backdrop-filter: var(--liquid-glass-blur-medium);
    -webkit-backdrop-filter: var(--liquid-glass-blur-medium);
    border: var(--liquid-glass-border-strong);
    border-radius: var(--border-radius);
    padding: var(--spacing-sm) var(--spacing-md);
    color: var(--text-primary);
    font-weight: 500;
    transition: var(--liquid-glass-transition-medium);
    cursor: pointer;
    position: relative;
    overflow: hidden;
    contain: var(--liquid-glass-contain);
}

.button-glass-enhanced::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: var(--liquid-glass-highlight);
    transition: var(--liquid-glass-transition-medium);
}

.button-glass-enhanced:hover {
    background: var(--liquid-glass-bg-tertiary);
    backdrop-filter: var(--liquid-glass-blur-strong);
    -webkit-backdrop-filter: var(--liquid-glass-blur-strong);
    transform: translateY(-1px);
    box-shadow: var(--liquid-glass-shadow-medium);
    border-color: rgba(var(--page-accent-rgb), 0.5);
}

.button-glass-enhanced:hover::before {
    left: 100%;
}

.input-glass-enhanced {
    background: var(--liquid-glass-bg-secondary);
    backdrop-filter: var(--liquid-glass-blur-light);
    -webkit-backdrop-filter: var(--liquid-glass-blur-light);
    border: var(--liquid-glass-border);
    border-radius: var(--border-radius);
    padding: var(--spacing-sm);
    color: var(--text-primary);
    transition: var(--liquid-glass-transition-medium);
    position: relative;
}

.input-glass-enhanced:focus {
    background: var(--liquid-glass-bg-primary);
    backdrop-filter: var(--liquid-glass-blur-medium);
    -webkit-backdrop-filter: var(--liquid-glass-blur-medium);
    border-color: rgba(var(--page-accent-rgb), 0.6);
    outline: none;
    box-shadow: 0 0 0 3px rgba(var(--page-accent-rgb), 0.2);
    transform: scale(1.02);
}

/* ====== STAGGERED ANIMATION SYSTEM - STATE-OF-THE-ART CONTENT REVEALS ====== */

/* Base Animation Keyframes */
@keyframes slideInFromBottom {
    0% {
        opacity: 0;
        transform: translateY(24px) scale(0.96);
    }
    100% {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

@keyframes slideInFromLeft {
    0% {
        opacity: 0;
        transform: translateX(-24px) scale(0.96);
    }
    100% {
        opacity: 1;
        transform: translateX(0) scale(1);
    }
}

@keyframes slideInFromRight {
    0% {
        opacity: 0;
        transform: translateX(24px) scale(0.96);
    }
    100% {
        opacity: 1;
        transform: translateX(0) scale(1);
    }
}

@keyframes fadeInScale {
    0% {
        opacity: 0;
        transform: scale(0.92);
        backdrop-filter: blur(0px);
    }
    100% {
        opacity: 1;
        transform: scale(1);
        backdrop-filter: var(--liquid-glass-blur-medium);
    }
}

@keyframes glassReveal {
    0% {
        opacity: 0;
        transform: translateY(16px) scale(0.95);
        backdrop-filter: blur(0px);
        background: transparent;
    }
    50% {
        opacity: 0.7;
        backdrop-filter: var(--liquid-glass-blur-light);
    }
    100% {
        opacity: 1;
        transform: translateY(0) scale(1);
        backdrop-filter: var(--liquid-glass-blur-medium);
        background: var(--liquid-glass-bg-primary);
    }
}

@keyframes elasticEntry {
    0% {
        opacity: 0;
        transform: translateY(32px) scale(0.8);
    }
    60% {
        opacity: 0.8;
        transform: translateY(-4px) scale(1.02);
    }
    100% {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

/* Staggered Animation Base Classes */
.stagger-container {
    --stagger-delay: var(--stagger-delay-standard);
    --stagger-duration: var(--timing-standard);
    --stagger-easing: var(--ease-content-enter);
}

.stagger-container.tight {
    --stagger-delay: var(--stagger-delay-tight);
}

.stagger-container.relaxed {
    --stagger-delay: var(--stagger-delay-relaxed);
}

.stagger-container.dramatic {
    --stagger-delay: var(--stagger-delay-dramatic);
    --stagger-duration: var(--timing-deliberate);
    --stagger-easing: var(--ease-spring-gentle);
}

/* Staggered Animation Items */
.stagger-item {
    opacity: 0;
    animation: fadeInScale var(--stagger-duration) var(--stagger-easing) forwards;
    animation-delay: calc(var(--stagger-index, 0) * var(--stagger-delay));
}

.stagger-item.slide-up {
    animation-name: slideInFromBottom;
}

.stagger-item.slide-left {
    animation-name: slideInFromLeft;
}

.stagger-item.slide-right {
    animation-name: slideInFromRight;
}

.stagger-item.glass-reveal {
    animation-name: glassReveal;
}

.stagger-item.elastic {
    animation-name: elasticEntry;
    animation-duration: var(--timing-deliberate);
    animation-timing-function: var(--ease-spring-bouncy);
}

/* Specialized Grid Staggering */
.grid-stagger-2x2 .stagger-item:nth-child(1) { --stagger-index: 0; }
.grid-stagger-2x2 .stagger-item:nth-child(2) { --stagger-index: 1; }
.grid-stagger-2x2 .stagger-item:nth-child(3) { --stagger-index: 2; }
.grid-stagger-2x2 .stagger-item:nth-child(4) { --stagger-index: 3; }

.grid-stagger-3x3 .stagger-item:nth-child(1) { --stagger-index: 0; }
.grid-stagger-3x3 .stagger-item:nth-child(2) { --stagger-index: 1; }
.grid-stagger-3x3 .stagger-item:nth-child(3) { --stagger-index: 2; }
.grid-stagger-3x3 .stagger-item:nth-child(4) { --stagger-index: 1; }
.grid-stagger-3x3 .stagger-item:nth-child(5) { --stagger-index: 2; }
.grid-stagger-3x3 .stagger-item:nth-child(6) { --stagger-index: 3; }
.grid-stagger-3x3 .stagger-item:nth-child(7) { --stagger-index: 2; }
.grid-stagger-3x3 .stagger-item:nth-child(8) { --stagger-index: 3; }
.grid-stagger-3x3 .stagger-item:nth-child(9) { --stagger-index: 4; }

/* List Staggering */
.list-stagger .stagger-item:nth-child(1) { --stagger-index: 0; }
.list-stagger .stagger-item:nth-child(2) { --stagger-index: 1; }
.list-stagger .stagger-item:nth-child(3) { --stagger-index: 2; }
.list-stagger .stagger-item:nth-child(4) { --stagger-index: 3; }
.list-stagger .stagger-item:nth-child(5) { --stagger-index: 4; }
.list-stagger .stagger-item:nth-child(6) { --stagger-index: 5; }
.list-stagger .stagger-item:nth-child(7) { --stagger-index: 6; }
.list-stagger .stagger-item:nth-child(8) { --stagger-index: 7; }
.list-stagger .stagger-item:nth-child(9) { --stagger-index: 8; }
.list-stagger .stagger-item:nth-child(10) { --stagger-index: 9; }

/* Card Grid Staggering (for project cards, experience cards, etc.) */
.cards-stagger .stagger-item:nth-child(1) { --stagger-index: 0; }
.cards-stagger .stagger-item:nth-child(2) { --stagger-index: 1; }
.cards-stagger .stagger-item:nth-child(3) { --stagger-index: 2; }
.cards-stagger .stagger-item:nth-child(4) { --stagger-index: 3; }
.cards-stagger .stagger-item:nth-child(5) { --stagger-index: 4; }
.cards-stagger .stagger-item:nth-child(6) { --stagger-index: 5; }
.cards-stagger .stagger-item:nth-child(7) { --stagger-index: 6; }
.cards-stagger .stagger-item:nth-child(8) { --stagger-index: 7; }

/* Navigation Staggering */
.nav-stagger .stagger-item:nth-child(1) { --stagger-index: 0; }
.nav-stagger .stagger-item:nth-child(2) { --stagger-index: 1; }
.nav-stagger .stagger-item:nth-child(3) { --stagger-index: 2; }
.nav-stagger .stagger-item:nth-child(4) { --stagger-index: 3; }
.nav-stagger .stagger-item:nth-child(5) { --stagger-index: 4; }
.nav-stagger .stagger-item:nth-child(6) { --stagger-index: 5; }
.nav-stagger .stagger-item:nth-child(7) { --stagger-index: 6; }

/* Progressive Enhancement - Disable on Reduced Motion */
@media (prefers-reduced-motion: reduce) {
    .stagger-item {
        opacity: 1;
        animation: none;
        transform: none;
    }
}

/* Performance Optimization */
.stagger-item {
    will-change: transform, opacity, backdrop-filter;
    backface-visibility: hidden;
    perspective: 1000px;
}

.stagger-item.animation-complete {
    will-change: auto;
}

/* ====== MICRO-INTERACTION FEEDBACK SYSTEM - STATE-OF-THE-ART GUI ====== */

/* Hover Enhancement System */
.micro-hover {
    position: relative;
    transition: var(--transition-hover);
    cursor: pointer;
    overflow: hidden;
}

.micro-hover::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
    transition: var(--transition-hover);
    pointer-events: none;
    z-index: 1;
}

.micro-hover:hover {
    transform: translateY(-2px) scale(1.02);
    filter: brightness(1.05);
    box-shadow: var(--liquid-glass-shadow-medium);
}

.micro-hover:hover::before {
    left: 100%;
    transition: left var(--timing-standard) var(--ease-slide-enter);
}

/* Magnetic Hover Effect */
.magnetic-hover {
    position: relative;
    transition: var(--transition-hover);
    transform-style: preserve-3d;
}

.magnetic-hover:hover {
    transform: translateZ(8px) scale(1.05);
}

.magnetic-hover::after {
    content: '';
    position: absolute;
    top: -2px;
    left: -2px;
    right: -2px;
    bottom: -2px;
    background: linear-gradient(45deg, 
        rgba(var(--page-accent-rgb), 0.1), 
        rgba(var(--page-accent-rgb), 0.05),
        rgba(var(--page-accent-rgb), 0.1)
    );
    border-radius: inherit;
    opacity: 0;
    transition: var(--transition-hover);
    z-index: -1;
    filter: blur(4px);
}

.magnetic-hover:hover::after {
    opacity: 1;
}

/* Ripple Effect System */
.ripple-effect {
    position: relative;
    overflow: hidden;
}

.ripple-effect::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    border-radius: 50%;
    background: radial-gradient(circle, rgba(255, 255, 255, 0.3) 0%, transparent 70%);
    transform: translate(-50%, -50%);
    transition: width var(--timing-quick) var(--ease-apple-smooth), 
                height var(--timing-quick) var(--ease-apple-smooth);
    pointer-events: none;
    z-index: 1;
}

.ripple-effect:active::before {
    width: 200px;
    height: 200px;
    transition: width var(--timing-micro-fast) var(--ease-apple-snappy), 
                height var(--timing-micro-fast) var(--ease-apple-snappy);
}

/* Focus Enhancement System */
.enhanced-focus {
    position: relative;
    transition: var(--transition-focus);
}

.enhanced-focus:focus-visible {
    outline: none;
    transform: scale(1.02);
}

.enhanced-focus:focus-visible::before {
    content: '';
    position: absolute;
    top: -3px;
    left: -3px;
    right: -3px;
    bottom: -3px;
    border: 2px solid rgba(var(--page-accent-rgb), 0.6);
    border-radius: calc(var(--border-radius) + 3px);
    background: rgba(var(--page-accent-rgb), 0.1);
    animation: focusPulse 2s var(--ease-apple-gentle) infinite;
}

@keyframes focusPulse {
    0%, 100% {
        box-shadow: 0 0 0 0 rgba(var(--page-accent-rgb), 0.4);
    }
    50% {
        box-shadow: 0 0 0 8px rgba(var(--page-accent-rgb), 0.1);
    }
}

/* Press State Enhancement */
.enhanced-press {
    transition: var(--transition-press);
    transform-style: preserve-3d;
}

.enhanced-press:active {
    transform: translateY(1px) scale(0.98);
    filter: brightness(0.9);
    transition: all var(--timing-micro-fast) var(--ease-press-enter);
}

/* Glass Glow Effect */
.glass-glow {
    position: relative;
    transition: var(--transition-hover);
}

.glass-glow::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: inherit;
    filter: blur(20px) brightness(1.5);
    opacity: 0;
    transition: var(--transition-hover);
    z-index: -1;
    border-radius: inherit;
}

.glass-glow:hover::after {
    opacity: 0.3;
}

/* Floating Animation */
.floating {
    animation: float 6s var(--ease-apple-gentle) infinite;
}

@keyframes float {
    0%, 100% {
        transform: translateY(0px);
    }
    50% {
        transform: translateY(-6px);
    }
}

/* Breathing Animation */
.breathing {
    animation: breathe 4s var(--ease-apple-gentle) infinite;
}

@keyframes breathe {
    0%, 100% {
        transform: scale(1);
        opacity: 1;
    }
    50% {
        transform: scale(1.02);
        opacity: 0.95;
    }
}

/* Subtle Shimmer Effect */
.shimmer {
    position: relative;
    overflow: hidden;
}

.shimmer::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(
        90deg,
        transparent,
        rgba(255, 255, 255, 0.2),
        rgba(255, 255, 255, 0.4),
        rgba(255, 255, 255, 0.2),
        transparent
    );
    animation: shimmer 3s linear infinite;
    pointer-events: none;
    z-index: 1;
}

@keyframes shimmer {
    0% {
        left: -100%;
    }
    100% {
        left: 100%;
    }
}

/* Tilt Effect on Hover */
.tilt-hover {
    transition: var(--transition-hover);
    transform-style: preserve-3d;
}

.tilt-hover:hover {
    transform: perspective(1000px) rotateX(5deg) rotateY(5deg) translateZ(10px);
}

/* Elastic Hover */
.elastic-hover {
    transition: var(--transition-spring);
}

.elastic-hover:hover {
    transform: scale(1.05);
    animation: elasticBounce 0.6s var(--ease-spring-bouncy);
}

@keyframes elasticBounce {
    0% {
        transform: scale(1);
    }
    30% {
        transform: scale(1.08);
    }
    50% {
        transform: scale(1.02);
    }
    70% {
        transform: scale(1.06);
    }
    100% {
        transform: scale(1.05);
    }
}

/* Smart Hover Prediction (requires JavaScript) */
.predictive-hover {
    transition: var(--transition-hover);
}

.predictive-hover.hover-predicted {
    transform: translateY(-1px) scale(1.01);
    opacity: 0.9;
}

/* Touch-Optimized Feedback */
.touch-feedback {
    position: relative;
    transition: var(--transition-press);
    -webkit-tap-highlight-color: transparent;
}

.touch-feedback:active {
    transform: scale(0.95);
    background: var(--liquid-glass-bg-interactive);
    backdrop-filter: var(--liquid-glass-blur-strong);
    -webkit-backdrop-filter: var(--liquid-glass-blur-strong);
}

/* Accessibility Enhancements */
@media (prefers-reduced-motion: reduce) {
    .micro-hover,
    .magnetic-hover,
    .enhanced-press,
    .glass-glow,
    .tilt-hover,
    .elastic-hover {
        transition: none;
        animation: none;
        transform: none;
    }
    
    .floating,
    .breathing,
    .shimmer {
        animation: none;
    }
    
    .micro-hover:hover,
    .magnetic-hover:hover,
    .tilt-hover:hover,
    .elastic-hover:hover {
        transform: none;
    }
}

/* High Contrast Mode Support */
@media (prefers-contrast: high) {
    .enhanced-focus:focus-visible::before {
        border-color: currentColor;
        background: transparent;
    }
    
    .micro-hover::before,
    .magnetic-hover::after,
    .glass-glow::after {
        display: none;
    }
}

/* ====== PHYSICS-BASED ANIMATION FRAMEWORK - NATURAL MOTION ====== */

/* Spring Physics Variables */
:root {
    /* Spring Tension (stiffness) - Higher values = tighter springs */
    --spring-tension-low: 0.3; /* Gentle, slow springs */
    --spring-tension-medium: 0.6; /* Balanced springs */
    --spring-tension-high: 0.9; /* Tight, responsive springs */
    
    /* Spring Damping (friction) - Higher values = less oscillation */
    --spring-damping-low: 0.4; /* Bouncy, oscillating */
    --spring-damping-medium: 0.7; /* Controlled bounce */
    --spring-damping-high: 0.9; /* Minimal oscillation */
    
    /* Momentum Physics */
    --momentum-decay: 0.95; /* How quickly momentum decreases */
    --momentum-threshold: 0.1; /* Minimum velocity to maintain animation */
    
    /* Inertia Settings */
    --inertia-light: 0.1; /* Quick response */
    --inertia-medium: 0.3; /* Balanced inertia */
    --inertia-heavy: 0.6; /* Slow, deliberate response */
}

/* Spring Animation System */
.spring-physics {
    --spring-tension: var(--spring-tension-medium);
    --spring-damping: var(--spring-damping-medium);
    transition: transform var(--timing-standard) cubic-bezier(0.34, 1.56, 0.64, 1);
}

.spring-physics.gentle {
    --spring-tension: var(--spring-tension-low);
    --spring-damping: var(--spring-damping-low);
    transition: transform var(--timing-deliberate) cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

.spring-physics.responsive {
    --spring-tension: var(--spring-tension-high);
    --spring-damping: var(--spring-damping-high);
    transition: transform var(--timing-quick) cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.spring-physics.bouncy {
    --spring-tension: var(--spring-tension-medium);
    --spring-damping: var(--spring-damping-low);
    transition: transform var(--timing-deliberate) cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

/* Physics-Based Hover States */
.physics-hover {
    transition: var(--transition-spring);
    transform-origin: center;
}

.physics-hover:hover {
    animation: springBounce 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

@keyframes springBounce {
    0% {
        transform: scale(1);
    }
    30% {
        transform: scale(1.15);
    }
    50% {
        transform: scale(0.95);
    }
    70% {
        transform: scale(1.08);
    }
    85% {
        transform: scale(0.98);
    }
    100% {
        transform: scale(1.05);
    }
}

/* Momentum Scroll Physics */
.momentum-scroll {
    scroll-behavior: smooth;
    transition: scroll-position var(--timing-standard) cubic-bezier(0.23, 1, 0.32, 1);
}

/* Elastic Resistance Effect */
.elastic-resistance {
    transition: transform var(--timing-quick) cubic-bezier(0.34, 1.56, 0.64, 1);
}

.elastic-resistance:active {
    transform: scale(0.92);
    animation: elasticRelease 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

@keyframes elasticRelease {
    0% {
        transform: scale(0.92);
    }
    50% {
        transform: scale(1.05);
    }
    100% {
        transform: scale(1);
    }
}

/* Pendulum Physics */
.pendulum {
    transform-origin: top center;
    animation: pendulumSwing 4s cubic-bezier(0.445, 0.05, 0.55, 0.95) infinite;
}

@keyframes pendulumSwing {
    0%, 100% {
        transform: rotate(0deg);
    }
    25% {
        transform: rotate(3deg);
    }
    75% {
        transform: rotate(-3deg);
    }
}

/* Orbital Motion */
.orbital {
    animation: orbit 8s linear infinite;
    transform-origin: center;
}

@keyframes orbit {
    0% {
        transform: rotate(0deg) translateX(20px) rotate(0deg);
    }
    100% {
        transform: rotate(360deg) translateX(20px) rotate(-360deg);
    }
}

/* Gravitational Pull Effect */
.gravity-pull {
    transition: var(--transition-spring);
    position: relative;
}

.gravity-pull:hover {
    animation: gravityEffect 1.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

@keyframes gravityEffect {
    0% {
        transform: translateY(0) scale(1);
    }
    30% {
        transform: translateY(-8px) scale(1.02);
    }
    60% {
        transform: translateY(2px) scale(0.98);
    }
    80% {
        transform: translateY(-1px) scale(1.01);
    }
    100% {
        transform: translateY(0) scale(1);
    }
}

/* Magnetic Attraction Physics */
.magnetic-physics {
    transition: transform var(--timing-standard) cubic-bezier(0.34, 1.56, 0.64, 1);
    will-change: transform;
}

.magnetic-physics.attracted {
    transform: scale(1.1) translateZ(5px);
    animation: magneticPulse 2s cubic-bezier(0.445, 0.05, 0.55, 0.95) infinite;
}

@keyframes magneticPulse {
    0%, 100% {
        transform: scale(1.1) translateZ(5px);
        filter: brightness(1);
    }
    50% {
        transform: scale(1.12) translateZ(8px);
        filter: brightness(1.1);
    }
}

/* Fluid Dynamics Simulation */
.fluid-motion {
    transition: all var(--timing-deliberate) cubic-bezier(0.23, 1, 0.32, 1);
}

.fluid-motion:hover {
    animation: fluidWave 1.5s cubic-bezier(0.23, 1, 0.32, 1) infinite;
}

@keyframes fluidWave {
    0%, 100% {
        transform: translateY(0) scaleX(1);
        border-radius: var(--border-radius-lg);
    }
    25% {
        transform: translateY(-2px) scaleX(1.02);
        border-radius: calc(var(--border-radius-lg) * 1.2);
    }
    50% {
        transform: translateY(0) scaleX(1);
        border-radius: calc(var(--border-radius-lg) * 0.8);
    }
    75% {
        transform: translateY(1px) scaleX(0.98);
        border-radius: calc(var(--border-radius-lg) * 1.1);
    }
}

/* Inertial Scroll Physics */
.inertial-scroll {
    scroll-behavior: smooth;
    overflow: hidden;
    position: relative;
}

.inertial-scroll::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 2px;
    background: linear-gradient(90deg, 
        rgba(var(--page-accent-rgb), 0.8),
        rgba(var(--page-accent-rgb), 0.4),
        rgba(var(--page-accent-rgb), 0.8)
    );
    transform: translateX(-100%);
    animation: scrollIndicator 2s cubic-bezier(0.23, 1, 0.32, 1) infinite;
}

@keyframes scrollIndicator {
    0% {
        transform: translateX(-100%);
    }
    100% {
        transform: translateX(100%);
    }
}

/* Physics-Based Loading States */
.physics-loading {
    position: relative;
    overflow: hidden;
}

.physics-loading::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(45deg,
        transparent 25%,
        rgba(255, 255, 255, 0.1) 25%,
        rgba(255, 255, 255, 0.1) 50%,
        transparent 50%,
        transparent 75%,
        rgba(255, 255, 255, 0.1) 75%
    );
    background-size: 20px 20px;
    animation: physicsShimmer 2s linear infinite;
}

@keyframes physicsShimmer {
    0% {
        background-position: -20px -20px;
    }
    100% {
        background-position: 40px 40px;
    }
}

/* Collision Detection Animation */
.collision-effect {
    transition: var(--transition-spring);
}

.collision-effect.collision-active {
    animation: collisionRipple 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

@keyframes collisionRipple {
    0% {
        transform: scale(1);
        box-shadow: 0 0 0 0 rgba(var(--page-accent-rgb), 0.7);
    }
    50% {
        transform: scale(1.05);
        box-shadow: 0 0 0 10px rgba(var(--page-accent-rgb), 0.3);
    }
    100% {
        transform: scale(1);
        box-shadow: 0 0 0 20px rgba(var(--page-accent-rgb), 0);
    }
}

/* Performance Optimization for Physics */
.physics-optimized {
    contain: layout style paint;
    will-change: transform, filter;
    backface-visibility: hidden;
    perspective: 1000px;
    transform: translateZ(0);
}

/* Accessibility Considerations */
@media (prefers-reduced-motion: reduce) {
    .spring-physics,
    .physics-hover,
    .elastic-resistance,
    .pendulum,
    .orbital,
    .gravity-pull,
    .magnetic-physics,
    .fluid-motion {
        animation: none !important;
        transition: none !important;
    }
    
    .physics-hover:hover,
    .gravity-pull:hover,
    .fluid-motion:hover {
        transform: none !important;
        animation: none !important;
    }
    
    .inertial-scroll::before,
    .physics-loading::after {
        display: none;
    }
}

/* ====== AMBIENT GLASS ANIMATIONS - LIVING INTERFACE ====== */

/* Ambient Breathing System */
.ambient-breathing {
    animation: ambientBreathe 8s var(--ease-apple-gentle) infinite;
}

.ambient-breathing.gentle {
    animation-duration: 12s;
}

.ambient-breathing.active {
    animation-duration: 6s;
}

.ambient-breathing.subtle {
    animation-duration: 16s;
}

@keyframes ambientBreathe {
    0%, 100% {
        backdrop-filter: var(--liquid-glass-blur-medium);
        -webkit-backdrop-filter: var(--liquid-glass-blur-medium);
        background: var(--liquid-glass-bg-primary);
        transform: scale(1);
    }
    50% {
        backdrop-filter: var(--liquid-glass-blur-strong);
        -webkit-backdrop-filter: var(--liquid-glass-blur-strong);
        background: var(--liquid-glass-bg-secondary);
        transform: scale(1.005);
    }
}

/* Ambient Floating System */
.ambient-floating {
    animation: ambientFloat 10s var(--ease-apple-gentle) infinite;
}

.ambient-floating.slow {
    animation-duration: 15s;
}

.ambient-floating.fast {
    animation-duration: 7s;
}

@keyframes ambientFloat {
    0%, 100% {
        transform: translateY(0px) translateX(0px) rotate(0deg);
    }
    25% {
        transform: translateY(-3px) translateX(1px) rotate(0.5deg);
    }
    50% {
        transform: translateY(-1px) translateX(-1px) rotate(0deg);
    }
    75% {
        transform: translateY(-4px) translateX(2px) rotate(-0.5deg);
    }
}

/* Ambient Glass Opacity Variations */
.ambient-opacity {
    animation: ambientOpacity 14s var(--ease-apple-gentle) infinite;
}

@keyframes ambientOpacity {
    0%, 100% {
        opacity: 1;
        background: var(--liquid-glass-bg-primary);
    }
    33% {
        opacity: 0.95;
        background: var(--liquid-glass-bg-secondary);
    }
    66% {
        opacity: 0.98;
        background: var(--liquid-glass-bg-tertiary);
    }
}

/* Ambient Light Reflection Effects */
.ambient-reflection {
    position: relative;
    overflow: hidden;
}

.ambient-reflection::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: conic-gradient(
        from 0deg,
        transparent 0deg,
        rgba(255, 255, 255, 0.05) 45deg,
        rgba(255, 255, 255, 0.1) 90deg,
        rgba(255, 255, 255, 0.05) 135deg,
        transparent 180deg,
        transparent 360deg
    );
    animation: ambientReflection 20s linear infinite;
    pointer-events: none;
    z-index: 1;
}

@keyframes ambientReflection {
    0% {
        transform: rotate(0deg);
    }
    100% {
        transform: rotate(360deg);
    }
}

/* Ambient Glass Morphing */
.ambient-morphing {
    animation: ambientMorph 18s var(--ease-apple-gentle) infinite;
}

@keyframes ambientMorph {
    0%, 100% {
        border-radius: var(--border-radius-lg);
        backdrop-filter: var(--liquid-glass-blur-medium) saturate(180%);
        -webkit-backdrop-filter: var(--liquid-glass-blur-medium) saturate(180%);
    }
    25% {
        border-radius: calc(var(--border-radius-lg) * 1.2);
        backdrop-filter: var(--liquid-glass-blur-light) saturate(160%);
        -webkit-backdrop-filter: var(--liquid-glass-blur-light) saturate(160%);
    }
    50% {
        border-radius: calc(var(--border-radius-lg) * 0.8);
        backdrop-filter: var(--liquid-glass-blur-strong) saturate(200%);
        -webkit-backdrop-filter: var(--liquid-glass-blur-strong) saturate(200%);
    }
    75% {
        border-radius: calc(var(--border-radius-lg) * 1.1);
        backdrop-filter: var(--liquid-glass-blur-medium) saturate(190%);
        -webkit-backdrop-filter: var(--liquid-glass-blur-medium) saturate(190%);
    }
}

/* Ambient Shimmer Waves */
.ambient-shimmer {
    position: relative;
    overflow: hidden;
}

.ambient-shimmer::after {
    content: '';
    position: absolute;
    top: 0;
    left: -200%;
    width: 200%;
    height: 100%;
    background: linear-gradient(
        45deg,
        transparent 30%,
        rgba(255, 255, 255, 0.03) 40%,
        rgba(255, 255, 255, 0.08) 50%,
        rgba(255, 255, 255, 0.03) 60%,
        transparent 70%
    );
    animation: ambientShimmer 25s var(--ease-apple-gentle) infinite;
    pointer-events: none;
    z-index: 2;
}

@keyframes ambientShimmer {
    0% {
        left: -200%;
    }
    100% {
        left: 200%;
    }
}

/* Ambient Pulse Effects */
.ambient-pulse {
    position: relative;
}

.ambient-pulse::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    border-radius: 50%;
    background: radial-gradient(
        circle,
        rgba(var(--page-accent-rgb), 0.1) 0%,
        rgba(var(--page-accent-rgb), 0.05) 50%,
        transparent 100%
    );
    transform: translate(-50%, -50%);
    animation: ambientPulse 12s var(--ease-apple-gentle) infinite;
    pointer-events: none;
    z-index: 0;
}

@keyframes ambientPulse {
    0%, 100% {
        width: 0;
        height: 0;
        opacity: 0;
    }
    50% {
        width: 120%;
        height: 120%;
        opacity: 1;
    }
}

/* Ambient Glass Distortion */
.ambient-distortion {
    animation: ambientDistort 22s var(--ease-apple-gentle) infinite;
}

@keyframes ambientDistort {
    0%, 100% {
        filter: 
            blur(0px) 
            brightness(1) 
            contrast(1) 
            saturate(1);
        backdrop-filter: var(--liquid-glass-blur-medium) saturate(180%);
        -webkit-backdrop-filter: var(--liquid-glass-blur-medium) saturate(180%);
    }
    25% {
        filter: 
            blur(0.5px) 
            brightness(1.02) 
            contrast(1.05) 
            saturate(1.1);
        backdrop-filter: var(--liquid-glass-blur-light) saturate(170%);
        -webkit-backdrop-filter: var(--liquid-glass-blur-light) saturate(170%);
    }
    50% {
        filter: 
            blur(0px) 
            brightness(0.98) 
            contrast(0.95) 
            saturate(0.9);
        backdrop-filter: var(--liquid-glass-blur-strong) saturate(190%);
        -webkit-backdrop-filter: var(--liquid-glass-blur-strong) saturate(190%);
    }
    75% {
        filter: 
            blur(0.3px) 
            brightness(1.01) 
            contrast(1.02) 
            saturate(1.05);
        backdrop-filter: var(--liquid-glass-blur-medium) saturate(185%);
        -webkit-backdrop-filter: var(--liquid-glass-blur-medium) saturate(185%);
    }
}

/* Ambient Depth Shifts */
.ambient-depth {
    animation: ambientDepth 16s var(--ease-apple-gentle) infinite;
}

@keyframes ambientDepth {
    0%, 100% {
        box-shadow: var(--liquid-glass-shadow-medium);
        transform: translateZ(0px);
    }
    33% {
        box-shadow: var(--liquid-glass-shadow-soft);
        transform: translateZ(2px);
    }
    66% {
        box-shadow: var(--liquid-glass-shadow-strong);
        transform: translateZ(-1px);
    }
}

/* Ambient Glass Ripples */
.ambient-ripples {
    position: relative;
    overflow: hidden;
}

.ambient-ripples::before,
.ambient-ripples::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    border-radius: 50%;
    border: 1px solid rgba(255, 255, 255, 0.1);
    transform: translate(-50%, -50%);
    pointer-events: none;
}

.ambient-ripples::before {
    animation: ambientRipple1 8s var(--ease-apple-gentle) infinite;
}

.ambient-ripples::after {
    animation: ambientRipple2 8s var(--ease-apple-gentle) infinite 4s;
}

@keyframes ambientRipple1 {
    0%, 100% {
        width: 0;
        height: 0;
        opacity: 0;
    }
    50% {
        width: 100px;
        height: 100px;
        opacity: 0.3;
    }
}

@keyframes ambientRipple2 {
    0%, 100% {
        width: 0;
        height: 0;
        opacity: 0;
    }
    50% {
        width: 150px;
        height: 150px;
        opacity: 0.2;
    }
}

/* Composite Ambient Effects */
.ambient-complete {
    animation: 
        ambientBreathe 8s var(--ease-apple-gentle) infinite,
        ambientFloat 10s var(--ease-apple-gentle) infinite 2s,
        ambientOpacity 14s var(--ease-apple-gentle) infinite 4s;
}

/* Performance-Optimized Ambient Classes */
.ambient-optimized {
    contain: layout style paint;
    will-change: transform, filter, backdrop-filter, opacity;
    backface-visibility: hidden;
    perspective: 1000px;
}

/* Adaptive Ambient Effects Based on Device */
@media (prefers-reduced-motion: reduce) {
    .ambient-breathing,
    .ambient-floating,
    .ambient-opacity,
    .ambient-morphing,
    .ambient-pulse,
    .ambient-distortion,
    .ambient-depth,
    .ambient-complete {
        animation: none !important;
    }
    
    .ambient-reflection::before,
    .ambient-shimmer::after,
    .ambient-ripples::before,
    .ambient-ripples::after {
        display: none;
    }
}

/* High Performance Device Enhancements */
@media (min-resolution: 2dppx) and (min-width: 1024px) {
    .ambient-breathing {
        animation-duration: 6s;
    }
    
    .ambient-reflection::before {
        animation-duration: 15s;
    }
    
    .ambient-shimmer::after {
        animation-duration: 20s;
    }
}

/* Low Power Mode Optimizations */
@media (prefers-reduced-data: reduce) {
    .ambient-reflection::before,
    .ambient-shimmer::after,
    .ambient-distortion {
        display: none;
        animation: none;
    }
}

/* Focus Accessibility - Pause Animations */
.ambient-breathing:focus-visible,
.ambient-floating:focus-visible,
.ambient-morphing:focus-visible {
    animation-play-state: paused;
}

/* ====== ADVANCED SPECULAR HIGHLIGHT SYSTEM - REAL-TIME LIGHT REFLECTION ====== */

/* Base Specular Highlight Container */
.specular-glass {
    position: relative;
    overflow: hidden;
    --cursor-x: 50%;
    --cursor-y: 50%;
    --highlight-intensity: 0.3;
    --highlight-size: 100px;
    --highlight-blur: 20px;
}

/* Primary Specular Highlight */
.specular-glass::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: radial-gradient(
        circle var(--highlight-size) at var(--cursor-x) var(--cursor-y),
        rgba(255, 255, 255, var(--highlight-intensity)) 0%,
        rgba(255, 255, 255, calc(var(--highlight-intensity) * 0.6)) 30%,
        rgba(255, 255, 255, calc(var(--highlight-intensity) * 0.2)) 60%,
        transparent 100%
    );
    filter: blur(var(--highlight-blur));
    opacity: 0;
    transition: opacity var(--timing-quick) var(--ease-apple-smooth);
    pointer-events: none;
    z-index: 10;
    mix-blend-mode: screen;
}

/* Secondary Specular Reflection */
.specular-glass::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: radial-gradient(
        ellipse calc(var(--highlight-size) * 2) calc(var(--highlight-size) * 0.5) at var(--cursor-x) var(--cursor-y),
        rgba(var(--page-accent-rgb), calc(var(--highlight-intensity) * 0.3)) 0%,
        rgba(var(--page-accent-rgb), calc(var(--highlight-intensity) * 0.1)) 50%,
        transparent 100%
    );
    filter: blur(calc(var(--highlight-blur) * 0.5));
    opacity: 0;
    transition: opacity var(--timing-quick) var(--ease-apple-smooth);
    pointer-events: none;
    z-index: 9;
    mix-blend-mode: overlay;
}

/* Active Specular States */
.specular-glass.specular-active::before {
    opacity: 1;
}

.specular-glass.specular-active::after {
    opacity: 0.8;
}

/* Specular Intensity Variants */
.specular-glass.subtle {
    --highlight-intensity: 0.15;
    --highlight-size: 80px;
    --highlight-blur: 25px;
}

.specular-glass.intense {
    --highlight-intensity: 0.5;
    --highlight-size: 120px;
    --highlight-blur: 15px;
}

.specular-glass.dramatic {
    --highlight-intensity: 0.7;
    --highlight-size: 150px;
    --highlight-blur: 10px;
}

/* Dynamic Specular Colors Based on Page Accent */
.specular-glass.accent-highlight::after {
    background: radial-gradient(
        ellipse calc(var(--highlight-size) * 1.5) calc(var(--highlight-size) * 0.7) at var(--cursor-x) var(--cursor-y),
        rgba(var(--page-accent-rgb), calc(var(--highlight-intensity) * 0.4)) 0%,
        rgba(var(--page-accent-rgb), calc(var(--highlight-intensity) * 0.2)) 40%,
        rgba(var(--page-accent-rgb), calc(var(--highlight-intensity) * 0.1)) 70%,
        transparent 100%
    );
}

/* Multi-Layer Specular System */
.specular-multilayer {
    position: relative;
    overflow: hidden;
    --cursor-x: 50%;
    --cursor-y: 50%;
}

/* Primary Light Source */
.specular-multilayer .specular-layer-1 {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: radial-gradient(
        circle 60px at var(--cursor-x) var(--cursor-y),
        rgba(255, 255, 255, 0.4) 0%,
        rgba(255, 255, 255, 0.2) 40%,
        transparent 100%
    );
    filter: blur(8px);
    opacity: 0;
    transition: opacity var(--timing-micro) linear;
    pointer-events: none;
    z-index: 12;
    mix-blend-mode: screen;
}

/* Secondary Reflection */
.specular-multilayer .specular-layer-2 {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: radial-gradient(
        ellipse 120px 40px at var(--cursor-x) var(--cursor-y),
        rgba(255, 255, 255, 0.2) 0%,
        rgba(255, 255, 255, 0.1) 60%,
        transparent 100%
    );
    filter: blur(15px);
    opacity: 0;
    transition: opacity var(--timing-micro) linear;
    pointer-events: none;
    z-index: 11;
    mix-blend-mode: soft-light;
}

/* Tertiary Ambient Glow */
.specular-multilayer .specular-layer-3 {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: radial-gradient(
        circle 200px at var(--cursor-x) var(--cursor-y),
        rgba(var(--page-accent-rgb), 0.1) 0%,
        rgba(var(--page-accent-rgb), 0.05) 50%,
        transparent 100%
    );
    filter: blur(30px);
    opacity: 0;
    transition: opacity var(--timing-quick) var(--ease-apple-smooth);
    pointer-events: none;
    z-index: 10;
    mix-blend-mode: multiply;
}

/* Active Multi-Layer States */
.specular-multilayer.active .specular-layer-1 {
    opacity: 1;
}

.specular-multilayer.active .specular-layer-2 {
    opacity: 0.8;
}

.specular-multilayer.active .specular-layer-3 {
    opacity: 0.6;
}

/* Fresnel Effect Simulation */
.fresnel-glass {
    position: relative;
    overflow: hidden;
    --cursor-x: 50%;
    --cursor-y: 50%;
    --view-angle: 0; /* 0-1, calculated by JavaScript */
}

.fresnel-glass::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(
        calc(var(--view-angle) * 180deg),
        rgba(255, 255, 255, calc(0.1 + var(--view-angle) * 0.3)) 0%,
        rgba(255, 255, 255, calc(0.05 + var(--view-angle) * 0.2)) 50%,
        rgba(255, 255, 255, calc(0.02 + var(--view-angle) * 0.1)) 100%
    );
    mix-blend-mode: screen;
    opacity: 0;
    transition: opacity var(--timing-quick) var(--ease-apple-smooth);
    pointer-events: none;
    z-index: 15;
}

.fresnel-glass.fresnel-active::before {
    opacity: 1;
}

/* Real-Time Refraction Simulation */
.refraction-glass {
    position: relative;
    overflow: hidden;
    --cursor-x: 50%;
    --cursor-y: 50%;
    --refraction-offset-x: 0px;
    --refraction-offset-y: 0px;
}

.refraction-glass::before {
    content: '';
    position: absolute;
    top: var(--refraction-offset-y);
    left: var(--refraction-offset-x);
    right: calc(-1 * var(--refraction-offset-x));
    bottom: calc(-1 * var(--refraction-offset-y));
    background: inherit;
    filter: blur(1px) brightness(1.1);
    opacity: 0.3;
    transition: 
        top var(--timing-micro) linear,
        left var(--timing-micro) linear,
        right var(--timing-micro) linear,
        bottom var(--timing-micro) linear;
    pointer-events: none;
    z-index: 8;
    mix-blend-mode: overlay;
}

/* Iridescent Glass Effect */
.iridescent-glass {
    position: relative;
    overflow: hidden;
    --cursor-x: 50%;
    --cursor-y: 50%;
    --hue-shift: 0deg;
}

.iridescent-glass::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: radial-gradient(
        circle 100px at var(--cursor-x) var(--cursor-y),
        hsla(calc(200deg + var(--hue-shift)), 60%, 70%, 0.2) 0%,
        hsla(calc(270deg + var(--hue-shift)), 60%, 70%, 0.1) 50%,
        transparent 100%
    );
    filter: blur(20px);
    opacity: 0;
    transition: opacity var(--timing-quick) var(--ease-apple-smooth);
    pointer-events: none;
    z-index: 13;
    mix-blend-mode: color-dodge;
}

.iridescent-glass.iridescent-active::after {
    opacity: 1;
}

/* Performance-Optimized Specular Classes */
.specular-optimized {
    contain: layout style paint;
    will-change: --cursor-x, --cursor-y, --highlight-intensity;
    backface-visibility: hidden;
    perspective: 1000px;
    transform: translateZ(0);
}

/* Cursor Distance-Based Intensity */
.specular-distance {
    --distance-factor: 1; /* 0-1, calculated by JavaScript */
    --highlight-intensity: calc(0.1 + var(--distance-factor) * 0.4);
    --highlight-size: calc(60px + var(--distance-factor) * 80px);
}

/* Edge Fade Effect */
.specular-edge-fade::before {
    mask: radial-gradient(
        circle at var(--cursor-x) var(--cursor-y),
        black 0%,
        black 60%,
        transparent 100%
    );
    -webkit-mask: radial-gradient(
        circle at var(--cursor-x) var(--cursor-y),
        black 0%,
        black 60%,
        transparent 100%
    );
}

/* Motion Blur for Fast Cursor Movement */
.specular-motion-blur::before {
    filter: blur(var(--highlight-blur)) 
           motion-blur(calc(var(--cursor-velocity, 0) * 2px));
}

/* Accessibility and Performance Considerations */
@media (prefers-reduced-motion: reduce) {
    .specular-glass::before,
    .specular-glass::after,
    .specular-multilayer .specular-layer-1,
    .specular-multilayer .specular-layer-2,
    .specular-multilayer .specular-layer-3,
    .fresnel-glass::before,
    .refraction-glass::before,
    .iridescent-glass::after {
        display: none;
    }
}

/* Low Power Mode - Disable Complex Effects */
@media (prefers-reduced-data: reduce) {
    .specular-multilayer .specular-layer-2,
    .specular-multilayer .specular-layer-3,
    .refraction-glass::before,
    .iridescent-glass::after {
        display: none;
    }
}

/* High Performance Enhancement */
@media (min-resolution: 2dppx) and (min-width: 1024px) {
    .specular-glass.intense {
        --highlight-intensity: 0.6;
        --highlight-size: 140px;
        --highlight-blur: 12px;
    }
}

/* Focus State - Maintain Specular Effects */
.specular-glass:focus-visible::before,
.specular-glass:focus-visible::after {
    opacity: 0.5;
}

/* ====== MULTI-LAYER DEPTH HIERARCHY WITH OPTICAL REFRACTION (PHASE 2.3) ====== */

/* Advanced Z-Index Depth Hierarchy - Apple Liquid Glass Specification */
:root {
    /* Depth Layer System */
    --depth-background: 1;
    --depth-glass-base: 10;
    --depth-glass-content: 20;
    --depth-glass-interactive: 30;
    --depth-glass-overlay: 40;
    --depth-specular-base: 50;
    --depth-specular-primary: 60;
    --depth-specular-secondary: 70;
    --depth-specular-highlight: 80;
    --depth-glass-modal: 90;
    --depth-glass-tooltip: 100;
    
    /* Optical Refraction Variables */
    --refraction-index: 1.5; /* Glass refraction index */
    --refraction-strength: 0.02; /* Refraction displacement strength */
    --refraction-blur: 1px; /* Refraction blur amount */
    --refraction-brightness: 1.1; /* Refraction brightness factor */
    
    /* Multi-layer Glass Opacity System */
    --glass-layer-1-opacity: 0.15; /* Base glass layer */
    --glass-layer-2-opacity: 0.08; /* Secondary glass layer */
    --glass-layer-3-opacity: 0.22; /* Tertiary glass layer */
    --glass-layer-4-opacity: 0.05; /* Quaternary ambient layer */
}

/* Base Multi-Layer Glass Container */
.multi-layer-glass {
    position: relative;
    overflow: hidden;
    contain: layout style paint;
    transform: translateZ(0);
    isolation: isolate;
}

/* Layer 1: Base Glass Foundation */
.multi-layer-glass::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: var(--liquid-glass-bg-primary);
    backdrop-filter: var(--liquid-glass-blur-medium);
    -webkit-backdrop-filter: var(--liquid-glass-blur-medium);
    border: var(--liquid-glass-border);
    z-index: var(--depth-glass-base);
    mix-blend-mode: normal;
    opacity: var(--glass-layer-1-opacity);
    transition: all var(--timing-standard) var(--ease-apple-smooth);
}

/* Layer 2: Secondary Glass Overlay */
.multi-layer-glass::after {
    content: '';
    position: absolute;
    top: 2px;
    left: 2px;
    right: 2px;
    bottom: 2px;
    background: var(--liquid-glass-bg-secondary);
    backdrop-filter: var(--liquid-glass-blur-light);
    -webkit-backdrop-filter: var(--liquid-glass-blur-light);
    border: var(--liquid-glass-border-strong);
    border-radius: inherit;
    z-index: var(--depth-glass-content);
    mix-blend-mode: multiply;
    opacity: var(--glass-layer-2-opacity);
    transition: all var(--timing-standard) var(--ease-apple-smooth);
}

/* Optical Refraction Layer System */
.optical-refraction {
    position: relative;
    overflow: hidden;
    --refraction-offset-x: 0px;
    --refraction-offset-y: 0px;
    --refraction-angle: 0deg;
}

/* Primary Refraction Layer */
.optical-refraction .refraction-layer-1 {
    position: absolute;
    top: var(--refraction-offset-y);
    left: var(--refraction-offset-x);
    right: calc(-1 * var(--refraction-offset-x));
    bottom: calc(-1 * var(--refraction-offset-y));
    background: inherit;
    backdrop-filter: var(--liquid-glass-blur-light);
    -webkit-backdrop-filter: var(--liquid-glass-blur-light);
    filter: blur(var(--refraction-blur)) brightness(var(--refraction-brightness));
    opacity: 0.4;
    z-index: var(--depth-glass-base);
    mix-blend-mode: overlay;
    transform: translateZ(0) rotate(var(--refraction-angle));
    transition: 
        top var(--timing-micro) linear,
        left var(--timing-micro) linear,
        right var(--timing-micro) linear,
        bottom var(--timing-micro) linear,
        transform var(--timing-quick) var(--ease-apple-smooth);
    pointer-events: none;
}

/* Secondary Refraction Layer */
.optical-refraction .refraction-layer-2 {
    position: absolute;
    top: calc(var(--refraction-offset-y) * 0.5);
    left: calc(var(--refraction-offset-x) * 0.5);
    right: calc(-0.5 * var(--refraction-offset-x));
    bottom: calc(-0.5 * var(--refraction-offset-y));
    background: inherit;
    backdrop-filter: blur(calc(var(--refraction-blur) * 2));
    -webkit-backdrop-filter: blur(calc(var(--refraction-blur) * 2));
    filter: brightness(calc(var(--refraction-brightness) * 0.9));
    opacity: 0.2;
    z-index: calc(var(--depth-glass-base) + 1);
    mix-blend-mode: soft-light;
    transform: translateZ(0) rotate(calc(var(--refraction-angle) * -0.5));
    transition: 
        top var(--timing-micro) linear,
        left var(--timing-micro) linear,
        right var(--timing-micro) linear,
        bottom var(--timing-micro) linear,
        transform var(--timing-quick) var(--ease-apple-smooth);
    pointer-events: none;
}

/* Depth-Aware Glass Hierarchy */
.depth-glass-1 { z-index: var(--depth-glass-base); }
.depth-glass-2 { z-index: var(--depth-glass-content); }
.depth-glass-3 { z-index: var(--depth-glass-interactive); }
.depth-glass-4 { z-index: var(--depth-glass-overlay); }
.depth-glass-5 { z-index: var(--depth-glass-modal); }

/* Advanced Glass Layering with Optical Effects */
.advanced-glass-stack {
    position: relative;
    transform-style: preserve-3d;
    perspective: 1000px;
}

/* Glass Stack Layer 1: Foundation */
.advanced-glass-stack .glass-stack-1 {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: var(--liquid-glass-bg-primary);
    backdrop-filter: var(--liquid-glass-blur-medium);
    -webkit-backdrop-filter: var(--liquid-glass-blur-medium);
    transform: translateZ(10px);
    z-index: var(--depth-glass-base);
    opacity: var(--glass-layer-1-opacity);
    border: var(--liquid-glass-border);
    box-shadow: var(--liquid-glass-shadow-soft);
}

/* Glass Stack Layer 2: Mid Layer */
.advanced-glass-stack .glass-stack-2 {
    position: absolute;
    top: 4px;
    left: 4px;
    right: 4px;
    bottom: 4px;
    background: var(--liquid-glass-bg-secondary);
    backdrop-filter: var(--liquid-glass-blur-light);
    -webkit-backdrop-filter: var(--liquid-glass-blur-light);
    transform: translateZ(20px);
    z-index: calc(var(--depth-glass-base) + 5);
    opacity: var(--glass-layer-2-opacity);
    border: var(--liquid-glass-border-strong);
    border-radius: inherit;
    box-shadow: var(--liquid-glass-shadow-medium);
}

/* Glass Stack Layer 3: Top Layer */
.advanced-glass-stack .glass-stack-3 {
    position: absolute;
    top: 8px;
    left: 8px;
    right: 8px;
    bottom: 8px;
    background: var(--liquid-glass-bg-tertiary);
    backdrop-filter: var(--liquid-glass-blur-strong);
    -webkit-backdrop-filter: var(--liquid-glass-blur-strong);
    transform: translateZ(30px);
    z-index: calc(var(--depth-glass-base) + 10);
    opacity: var(--glass-layer-3-opacity);
    border: var(--liquid-glass-border-accent);
    border-radius: inherit;
    box-shadow: var(--liquid-glass-shadow-strong);
}

/* Glass Stack Layer 4: Ambient Layer */
.advanced-glass-stack .glass-stack-ambient {
    position: absolute;
    top: -10px;
    left: -10px;
    right: -10px;
    bottom: -10px;
    background: rgba(var(--page-accent-rgb), var(--glass-layer-4-opacity));
    backdrop-filter: var(--liquid-glass-blur-ultra);
    -webkit-backdrop-filter: var(--liquid-glass-blur-ultra);
    transform: translateZ(5px);
    z-index: calc(var(--depth-glass-base) - 1);
    opacity: 0.6;
    border-radius: calc(var(--border-radius-lg) + 10px);
    filter: blur(15px);
    mix-blend-mode: multiply;
}

/* Dynamic Depth Adjustment */
.multi-layer-glass.depth-enhanced::before {
    transform: translateZ(15px) scale(1.02);
    opacity: calc(var(--glass-layer-1-opacity) * 1.3);
    backdrop-filter: var(--liquid-glass-blur-strong);
    -webkit-backdrop-filter: var(--liquid-glass-blur-strong);
}

.multi-layer-glass.depth-enhanced::after {
    transform: translateZ(25px) scale(1.01);
    opacity: calc(var(--glass-layer-2-opacity) * 1.5);
    backdrop-filter: var(--liquid-glass-blur-medium);
    -webkit-backdrop-filter: var(--liquid-glass-blur-medium);
}

/* Interactive Depth States */
.multi-layer-glass:hover {
    transform: translateZ(0) scale(1.02);
}

.multi-layer-glass:hover::before {
    transform: translateZ(20px) scale(1.03);
    opacity: calc(var(--glass-layer-1-opacity) * 1.4);
    backdrop-filter: var(--liquid-glass-blur-intense);
    -webkit-backdrop-filter: var(--liquid-glass-blur-intense);
}

.multi-layer-glass:hover::after {
    transform: translateZ(35px) scale(1.015);
    opacity: calc(var(--glass-layer-2-opacity) * 1.6);
    backdrop-filter: var(--liquid-glass-blur-strong);
    -webkit-backdrop-filter: var(--liquid-glass-blur-strong);
}

/* Optical Chromatic Aberration Effect */
.chromatic-aberration {
    position: relative;
    overflow: hidden;
}

.chromatic-aberration::before {
    content: '';
    position: absolute;
    top: 0;
    left: -1px;
    right: 1px;
    bottom: 0;
    background: inherit;
    filter: blur(0.5px) hue-rotate(2deg);
    opacity: 0.3;
    z-index: calc(var(--depth-glass-base) + 1);
    mix-blend-mode: multiply;
    pointer-events: none;
}

.chromatic-aberration::after {
    content: '';
    position: absolute;
    top: 0;
    left: 1px;
    right: -1px;
    bottom: 0;
    background: inherit;
    filter: blur(0.5px) hue-rotate(-2deg);
    opacity: 0.3;
    z-index: calc(var(--depth-glass-base) + 2);
    mix-blend-mode: screen;
    pointer-events: none;
}

/* Prismatic Glass Dispersion */
.prismatic-glass {
    position: relative;
    overflow: hidden;
}

.prismatic-glass .prism-layer-red {
    position: absolute;
    top: 0;
    left: -0.5px;
    right: 0.5px;
    bottom: 0;
    background: inherit;
    filter: blur(0.3px) sepia(1) hue-rotate(0deg) saturate(2);
    opacity: 0.15;
    z-index: calc(var(--depth-specular-base) + 1);
    mix-blend-mode: multiply;
    pointer-events: none;
}

.prismatic-glass .prism-layer-blue {
    position: absolute;
    top: 0;
    left: 0.5px;
    right: -0.5px;
    bottom: 0;
    background: inherit;
    filter: blur(0.3px) sepia(1) hue-rotate(240deg) saturate(2);
    opacity: 0.15;
    z-index: calc(var(--depth-specular-base) + 2);
    mix-blend-mode: screen;
    pointer-events: none;
}

/* Composite Glass System Integration */
.composite-glass {
    position: relative;
    isolation: isolate;
    transform-style: preserve-3d;
}

/* Apply multi-layer glass to existing components */
.project-card.multi-layer-glass,
.experience-card.multi-layer-glass,
.publication-card.multi-layer-glass,
.onesite-card.multi-layer-glass {
    border-radius: var(--border-radius-lg);
    box-shadow: var(--liquid-glass-shadow-medium);
    transition: all var(--timing-standard) var(--ease-apple-smooth);
}

/* Enhanced depth for interactive elements */
.project-card:hover.multi-layer-glass,
.experience-card:hover.multi-layer-glass,
.publication-card:hover.multi-layer-glass,
.onesite-card:hover.multi-layer-glass {
    transform: translateY(-8px) translateZ(10px) scale(1.02);
    box-shadow: var(--liquid-glass-shadow-ultra);
}

/* ====== CONTEXT-AWARE GLASS ADAPTATIONS (PHASE 2.4) ====== */

/* Context-Aware Glass Variables */
:root {
    /* Content-Type Adaptations */
    --glass-text-content: var(--liquid-glass-blur-light);
    --glass-image-content: var(--liquid-glass-blur-medium);
    --glass-interactive-content: var(--liquid-glass-blur-strong);
    --glass-media-content: var(--liquid-glass-blur-intense);
    
    /* Density-Based Adaptations */
    --glass-density-sparse: 0.08; /* Low content density */
    --glass-density-normal: 0.15; /* Normal content density */
    --glass-density-dense: 0.22;  /* High content density */
    
    /* Interaction State Variables */
    --glass-idle-opacity: 0.12;
    --glass-active-opacity: 0.18;
    --glass-focus-opacity: 0.25;
    
    /* Environmental Adaptation Variables */
    --glass-morning-tint: rgba(255, 249, 235, 0.1);
    --glass-afternoon-tint: rgba(255, 255, 255, 0.1);
    --glass-evening-tint: rgba(250, 240, 230, 0.1);
    --glass-night-tint: rgba(240, 240, 255, 0.1);
}

/* Content-Type Aware Glass System */
.glass-text-content {
    background: rgba(255, 255, 255, var(--glass-density-sparse));
    backdrop-filter: var(--glass-text-content);
    -webkit-backdrop-filter: var(--glass-text-content);
    border: 1px solid rgba(255, 255, 255, 0.15);
    mix-blend-mode: normal;
}

.glass-image-content {
    background: rgba(255, 255, 255, var(--glass-density-normal));
    backdrop-filter: var(--glass-image-content);
    -webkit-backdrop-filter: var(--glass-image-content);
    border: 1px solid rgba(255, 255, 255, 0.2);
    mix-blend-mode: multiply;
}

.glass-interactive-content {
    background: rgba(255, 255, 255, var(--glass-density-dense));
    backdrop-filter: var(--glass-interactive-content);
    -webkit-backdrop-filter: var(--glass-interactive-content);
    border: 1px solid rgba(255, 255, 255, 0.3);
    mix-blend-mode: overlay;
    transition: all var(--timing-standard) var(--ease-apple-smooth);
}

.glass-media-content {
    background: rgba(255, 255, 255, 0.05);
    backdrop-filter: var(--glass-media-content);
    -webkit-backdrop-filter: var(--glass-media-content);
    border: 1px solid rgba(255, 255, 255, 0.1);
    mix-blend-mode: screen;
}

/* Page Context Adaptations */
.page-home .context-glass {
    --glass-page-intensity: 1.0;
    --glass-accent-blend: rgba(var(--page-accent-rgb), 0.12);
    backdrop-filter: var(--liquid-glass-blur-medium) hue-rotate(0deg);
    -webkit-backdrop-filter: var(--liquid-glass-blur-medium) hue-rotate(0deg);
}

.page-about .context-glass {
    --glass-page-intensity: 0.8;
    --glass-accent-blend: rgba(var(--page-accent-rgb), 0.10);
    backdrop-filter: var(--liquid-glass-blur-light) hue-rotate(10deg);
    -webkit-backdrop-filter: var(--liquid-glass-blur-light) hue-rotate(10deg);
}

.page-research .context-glass {
    --glass-page-intensity: 1.2;
    --glass-accent-blend: rgba(var(--page-accent-rgb), 0.15);
    backdrop-filter: var(--liquid-glass-blur-strong) hue-rotate(-5deg);
    -webkit-backdrop-filter: var(--liquid-glass-blur-strong) hue-rotate(-5deg);
}

.page-projects .context-glass {
    --glass-page-intensity: 1.1;
    --glass-accent-blend: rgba(var(--page-accent-rgb), 0.14);
    backdrop-filter: var(--liquid-glass-blur-medium) hue-rotate(15deg);
    -webkit-backdrop-filter: var(--liquid-glass-blur-medium) hue-rotate(15deg);
}

.page-photography .context-glass {
    --glass-page-intensity: 0.6;
    --glass-accent-blend: rgba(var(--page-accent-rgb), 0.08);
    backdrop-filter: var(--liquid-glass-blur-light) hue-rotate(20deg);
    -webkit-backdrop-filter: var(--liquid-glass-blur-light) hue-rotate(20deg);
}

.page-blog .context-glass {
    --glass-page-intensity: 0.9;
    --glass-accent-blend: rgba(var(--page-accent-rgb), 0.11);
    backdrop-filter: var(--liquid-glass-blur-medium) hue-rotate(-10deg);
    -webkit-backdrop-filter: var(--liquid-glass-blur-medium) hue-rotate(-10deg);
}

/* Scroll Position Context Awareness */
.glass-scroll-context {
    --scroll-progress: 0; /* Updated by JavaScript */
    --scroll-glass-intensity: calc(0.8 + var(--scroll-progress) * 0.4);
    
    background: rgba(255, 255, 255, calc(var(--glass-density-normal) * var(--scroll-glass-intensity)));
    backdrop-filter: blur(calc(12px + var(--scroll-progress) * 18px)) saturate(calc(180% + var(--scroll-progress) * 40%));
    -webkit-backdrop-filter: blur(calc(12px + var(--scroll-progress) * 18px)) saturate(calc(180% + var(--scroll-progress) * 40%));
    border-color: rgba(255, 255, 255, calc(0.2 + var(--scroll-progress) * 0.2));
}

/* Viewport Size Context Adaptations */
@media (max-width: 768px) {
    .context-glass {
        --glass-mobile-reduction: 0.7;
        background: rgba(255, 255, 255, calc(var(--glass-density-normal) * var(--glass-mobile-reduction)));
        backdrop-filter: var(--liquid-glass-blur-light);
        -webkit-backdrop-filter: var(--liquid-glass-blur-light);
    }
}

@media (min-width: 1200px) {
    .context-glass {
        --glass-desktop-enhancement: 1.3;
        background: rgba(255, 255, 255, calc(var(--glass-density-normal) * var(--glass-desktop-enhancement)));
        backdrop-filter: var(--liquid-glass-blur-strong);
        -webkit-backdrop-filter: var(--liquid-glass-blur-strong);
    }
}

@media (min-width: 1920px) {
    .context-glass {
        --glass-ultra-enhancement: 1.5;
        background: rgba(255, 255, 255, calc(var(--glass-density-dense) * var(--glass-ultra-enhancement)));
        backdrop-filter: var(--liquid-glass-blur-ultra);
        -webkit-backdrop-filter: var(--liquid-glass-blur-ultra);
    }
}

/* Content Density Awareness */
.glass-density-sparse {
    --content-density: sparse;
    background: rgba(255, 255, 255, var(--glass-density-sparse));
    backdrop-filter: var(--liquid-glass-blur-light);
    -webkit-backdrop-filter: var(--liquid-glass-blur-light);
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.glass-density-normal {
    --content-density: normal;
    background: rgba(255, 255, 255, var(--glass-density-normal));
    backdrop-filter: var(--liquid-glass-blur-medium);
    -webkit-backdrop-filter: var(--liquid-glass-blur-medium);
    border: 1px solid rgba(255, 255, 255, 0.2);
}

.glass-density-dense {
    --content-density: dense;
    background: rgba(255, 255, 255, var(--glass-density-dense));
    backdrop-filter: var(--liquid-glass-blur-strong);
    -webkit-backdrop-filter: var(--liquid-glass-blur-strong);
    border: 1px solid rgba(255, 255, 255, 0.3);
}

/* Interaction State Context */
.glass-interaction-idle {
    background: rgba(255, 255, 255, var(--glass-idle-opacity));
    backdrop-filter: var(--liquid-glass-blur-light);
    -webkit-backdrop-filter: var(--liquid-glass-blur-light);
    transition: all var(--timing-standard) var(--ease-apple-smooth);
}

.glass-interaction-active {
    background: rgba(255, 255, 255, var(--glass-active-opacity));
    backdrop-filter: var(--liquid-glass-blur-medium);
    -webkit-backdrop-filter: var(--liquid-glass-blur-medium);
    transform: translateY(-2px) scale(1.01);
    box-shadow: var(--liquid-glass-shadow-medium);
}

.glass-interaction-focus {
    background: rgba(255, 255, 255, var(--glass-focus-opacity));
    backdrop-filter: var(--liquid-glass-blur-strong);
    -webkit-backdrop-filter: var(--liquid-glass-blur-strong);
    border-color: rgba(var(--page-accent-rgb), 0.4);
    box-shadow: 0 0 0 3px rgba(var(--page-accent-rgb), 0.2), var(--liquid-glass-shadow-strong);
}

/* Time-Based Environmental Adaptations */
.glass-time-morning {
    background: linear-gradient(135deg, 
        rgba(255, 249, 235, 0.15) 0%, 
        rgba(255, 255, 255, 0.08) 100%);
    backdrop-filter: var(--liquid-glass-blur-medium) sepia(0.1);
    -webkit-backdrop-filter: var(--liquid-glass-blur-medium) sepia(0.1);
}

.glass-time-afternoon {
    background: linear-gradient(135deg, 
        rgba(255, 255, 255, 0.18) 0%, 
        rgba(250, 250, 255, 0.12) 100%);
    backdrop-filter: var(--liquid-glass-blur-medium) saturate(200%);
    -webkit-backdrop-filter: var(--liquid-glass-blur-medium) saturate(200%);
}

.glass-time-evening {
    background: linear-gradient(135deg, 
        rgba(250, 240, 230, 0.16) 0%, 
        rgba(255, 245, 235, 0.10) 100%);
    backdrop-filter: var(--liquid-glass-blur-medium) sepia(0.15) hue-rotate(10deg);
    -webkit-backdrop-filter: var(--liquid-glass-blur-medium) sepia(0.15) hue-rotate(10deg);
}

.glass-time-night {
    background: linear-gradient(135deg, 
        rgba(240, 240, 255, 0.12) 0%, 
        rgba(245, 245, 250, 0.08) 100%);
    backdrop-filter: var(--liquid-glass-blur-strong) hue-rotate(-10deg);
    -webkit-backdrop-filter: var(--liquid-glass-blur-strong) hue-rotate(-10deg);
}

/* Weather-Responsive Glass (Simulated) */
.glass-weather-clear {
    backdrop-filter: var(--liquid-glass-blur-medium) saturate(220%) brightness(1.1);
    -webkit-backdrop-filter: var(--liquid-glass-blur-medium) saturate(220%) brightness(1.1);
}

.glass-weather-cloudy {
    backdrop-filter: var(--liquid-glass-blur-strong) saturate(160%) brightness(0.95);
    -webkit-backdrop-filter: var(--liquid-glass-blur-strong) saturate(160%) brightness(0.95);
}

.glass-weather-rainy {
    backdrop-filter: var(--liquid-glass-blur-intense) saturate(140%) brightness(0.9) hue-rotate(-5deg);
    -webkit-backdrop-filter: var(--liquid-glass-blur-intense) saturate(140%) brightness(0.9) hue-rotate(-5deg);
}

/* Focus and Attention Context */
.glass-attention-low {
    background: rgba(255, 255, 255, 0.05);
    backdrop-filter: var(--liquid-glass-blur-light);
    -webkit-backdrop-filter: var(--liquid-glass-blur-light);
    opacity: 0.7;
}

.glass-attention-medium {
    background: rgba(255, 255, 255, 0.12);
    backdrop-filter: var(--liquid-glass-blur-medium);
    -webkit-backdrop-filter: var(--liquid-glass-blur-medium);
    opacity: 0.9;
}

.glass-attention-high {
    background: rgba(255, 255, 255, 0.20);
    backdrop-filter: var(--liquid-glass-blur-strong);
    -webkit-backdrop-filter: var(--liquid-glass-blur-strong);
    opacity: 1.0;
    box-shadow: var(--liquid-glass-shadow-strong);
}

/* Reading Mode Context Adaptation */
.glass-reading-mode {
    background: rgba(255, 255, 255, 0.03);
    backdrop-filter: var(--liquid-glass-blur-light) saturate(120%);
    -webkit-backdrop-filter: var(--liquid-glass-blur-light) saturate(120%);
    border: 1px solid rgba(255, 255, 255, 0.08);
}

/* Performance-Based Context Switching */
.glass-performance-high {
    backdrop-filter: var(--liquid-glass-blur-ultra) saturate(220%);
    -webkit-backdrop-filter: var(--liquid-glass-blur-ultra) saturate(220%);
}

.glass-performance-medium {
    backdrop-filter: var(--liquid-glass-blur-strong) saturate(180%);
    -webkit-backdrop-filter: var(--liquid-glass-blur-strong) saturate(180%);
}

.glass-performance-low {
    backdrop-filter: var(--liquid-glass-blur-medium) saturate(140%);
    -webkit-backdrop-filter: var(--liquid-glass-blur-medium) saturate(140%);
}

/* Battery Level Context (For Mobile Devices) */
.glass-battery-critical {
    backdrop-filter: var(--liquid-glass-blur-light);
    -webkit-backdrop-filter: var(--liquid-glass-blur-light);
    background: rgba(255, 255, 255, 0.08);
}

.glass-battery-low {
    backdrop-filter: var(--liquid-glass-blur-medium);
    -webkit-backdrop-filter: var(--liquid-glass-blur-medium);
    background: rgba(255, 255, 255, 0.12);
}

.glass-battery-normal {
    backdrop-filter: var(--liquid-glass-blur-strong);
    -webkit-backdrop-filter: var(--liquid-glass-blur-strong);
    background: rgba(255, 255, 255, 0.15);
}

/* Theme Context Integration */
:root[data-theme="book"] .context-glass {
    background: rgba(45, 27, 22, var(--glass-density-normal));
    border-color: rgba(45, 27, 22, 0.2);
}

:root[data-theme="book"] .glass-text-content {
    background: rgba(45, 27, 22, var(--glass-density-sparse));
    border-color: rgba(45, 27, 22, 0.15);
}

:root[data-theme="book"] .glass-interactive-content {
    background: rgba(45, 27, 22, var(--glass-density-dense));
    border-color: rgba(45, 27, 22, 0.3);
}

/* Dynamic Context Classes for JavaScript Integration */
.context-adaptive {
    transition: all var(--timing-standard) var(--ease-apple-smooth);
}

.context-adaptive[data-content-type="text"] {
    backdrop-filter: var(--glass-text-content);
    -webkit-backdrop-filter: var(--glass-text-content);
}

.context-adaptive[data-content-type="image"] {
    backdrop-filter: var(--glass-image-content);
    -webkit-backdrop-filter: var(--glass-image-content);
}

.context-adaptive[data-content-type="interactive"] {
    backdrop-filter: var(--glass-interactive-content);
    -webkit-backdrop-filter: var(--glass-interactive-content);
}

.context-adaptive[data-content-type="media"] {
    backdrop-filter: var(--glass-media-content);
    -webkit-backdrop-filter: var(--glass-media-content);
}

.context-adaptive[data-density="sparse"] {
    background: rgba(255, 255, 255, var(--glass-density-sparse));
}

.context-adaptive[data-density="normal"] {
    background: rgba(255, 255, 255, var(--glass-density-normal));
}

.context-adaptive[data-density="dense"] {
    background: rgba(255, 255, 255, var(--glass-density-dense));
}

/* ====== SMOOTH SCROLL INTEGRATION WITH MOMENTUM (PHASE 3.1) ====== */

/* Advanced Smooth Scroll Foundation */
html {
    scroll-behavior: smooth;
    scroll-padding-top: 80px; /* Account for fixed header */
}

/* Momentum Scroll Variables */
:root {
    /* Scroll Physics */
    --scroll-momentum-easing: cubic-bezier(0.25, 0.46, 0.45, 0.94);
    --scroll-momentum-duration: 800ms;
    --scroll-velocity: 0; /* Updated by JavaScript */
    --scroll-direction: 1; /* 1 for down, -1 for up */
    --scroll-progress: 0; /* 0-1 scroll progress */
    
    /* Glass Scroll Variables */
    --glass-scroll-intensity: calc(1 + var(--scroll-velocity) * 0.3);
    --glass-scroll-blur: calc(12px + var(--scroll-velocity) * 8px);
    --glass-scroll-opacity: calc(0.15 + var(--scroll-velocity) * 0.1);
    
    /* Parallax Scroll Layers */
    --parallax-speed-1: 0.8; /* Slowest layer */
    --parallax-speed-2: 0.9; /* Medium layer */
    --parallax-speed-3: 1.0; /* Normal speed */
    --parallax-speed-4: 1.1; /* Fast layer */
    --parallax-speed-5: 1.2; /* Fastest layer */
}

/* Enhanced Smooth Scroll Container */
.smooth-scroll-container {
    position: relative;
    transform-style: preserve-3d;
    perspective: 1000px;
    contain: layout style paint;
}

/* Momentum Scroll Glass Effects */
.momentum-glass {
    background: rgba(255, 255, 255, var(--glass-scroll-opacity));
    backdrop-filter: blur(var(--glass-scroll-blur)) saturate(calc(180% + var(--scroll-velocity) * 20%));
    -webkit-backdrop-filter: blur(var(--glass-scroll-blur)) saturate(calc(180% + var(--scroll-velocity) * 20%));
    border-color: rgba(255, 255, 255, calc(0.2 + var(--scroll-velocity) * 0.1));
    transition: all var(--timing-micro) linear;
    transform: translateZ(0);
}

/* Scroll Velocity Glass Response */
.velocity-glass-low {
    --scroll-velocity: 0.1;
    backdrop-filter: var(--liquid-glass-blur-light);
    -webkit-backdrop-filter: var(--liquid-glass-blur-light);
}

.velocity-glass-medium {
    --scroll-velocity: 0.5;
    backdrop-filter: var(--liquid-glass-blur-medium);
    -webkit-backdrop-filter: var(--liquid-glass-blur-medium);
}

.velocity-glass-high {
    --scroll-velocity: 1.0;
    backdrop-filter: var(--liquid-glass-blur-strong);
    -webkit-backdrop-filter: var(--liquid-glass-blur-strong);
}

/* Parallax Glass Layers */
.parallax-glass-1 {
    transform: translateZ(calc(var(--scroll-progress) * -50px)) 
               translateY(calc(var(--scroll-progress) * -20px * var(--parallax-speed-1)));
    backdrop-filter: blur(calc(8px + var(--scroll-progress) * 4px));
    -webkit-backdrop-filter: blur(calc(8px + var(--scroll-progress) * 4px));
    opacity: calc(0.6 + var(--scroll-progress) * 0.3);
}

.parallax-glass-2 {
    transform: translateZ(calc(var(--scroll-progress) * -30px)) 
               translateY(calc(var(--scroll-progress) * -15px * var(--parallax-speed-2)));
    backdrop-filter: blur(calc(10px + var(--scroll-progress) * 6px));
    -webkit-backdrop-filter: blur(calc(10px + var(--scroll-progress) * 6px));
    opacity: calc(0.7 + var(--scroll-progress) * 0.2);
}

.parallax-glass-3 {
    transform: translateZ(calc(var(--scroll-progress) * -10px)) 
               translateY(calc(var(--scroll-progress) * -10px * var(--parallax-speed-3)));
    backdrop-filter: blur(calc(12px + var(--scroll-progress) * 8px));
    -webkit-backdrop-filter: blur(calc(12px + var(--scroll-progress) * 8px));
    opacity: calc(0.8 + var(--scroll-progress) * 0.15);
}

.parallax-glass-4 {
    transform: translateZ(calc(var(--scroll-progress) * 10px)) 
               translateY(calc(var(--scroll-progress) * -5px * var(--parallax-speed-4)));
    backdrop-filter: blur(calc(14px + var(--scroll-progress) * 10px));
    -webkit-backdrop-filter: blur(calc(14px + var(--scroll-progress) * 10px));
    opacity: calc(0.9 + var(--scroll-progress) * 0.1);
}

.parallax-glass-5 {
    transform: translateZ(calc(var(--scroll-progress) * 20px)) 
               translateY(calc(var(--scroll-progress) * -2px * var(--parallax-speed-5)));
    backdrop-filter: blur(calc(16px + var(--scroll-progress) * 12px));
    -webkit-backdrop-filter: blur(calc(16px + var(--scroll-progress) * 12px));
    opacity: calc(1.0 + var(--scroll-progress) * 0.05);
}

/* Scroll Direction Awareness */
.scroll-direction-down .momentum-glass {
    transform: translateY(calc(var(--scroll-velocity) * -2px)) scale(calc(1 + var(--scroll-velocity) * 0.01));
    box-shadow: var(--liquid-glass-shadow-medium);
}

.scroll-direction-up .momentum-glass {
    transform: translateY(calc(var(--scroll-velocity) * 2px)) scale(calc(1 - var(--scroll-velocity) * 0.01));
    box-shadow: var(--liquid-glass-shadow-soft);
}

/* Scroll Snap Integration */
.scroll-snap-container {
    scroll-snap-type: y mandatory;
    overflow-y: scroll;
    height: 100vh;
}

.scroll-snap-section {
    scroll-snap-align: start;
    scroll-snap-stop: always;
    position: relative;
    min-height: 100vh;
    transition: all var(--scroll-momentum-duration) var(--scroll-momentum-easing);
}

/* Glass Morphing During Scroll Snap */
.scroll-snap-section.snapping .glass-element {
    backdrop-filter: var(--liquid-glass-blur-ultra);
    -webkit-backdrop-filter: var(--liquid-glass-blur-ultra);
    background: rgba(255, 255, 255, 0.25);
    transform: scale(1.02);
    transition: all var(--scroll-momentum-duration) var(--scroll-momentum-easing);
}

/* Smooth Anchor Navigation */
.smooth-anchor-target {
    scroll-margin-top: 100px;
    position: relative;
}

.smooth-anchor-target::before {
    content: '';
    position: absolute;
    top: -50px;
    left: -20px;
    right: -20px;
    bottom: -20px;
    background: rgba(var(--page-accent-rgb), 0.05);
    backdrop-filter: var(--liquid-glass-blur-medium);
    -webkit-backdrop-filter: var(--liquid-glass-blur-medium);
    border-radius: var(--border-radius-lg);
    opacity: 0;
    transform: scale(0.95);
    transition: all var(--scroll-momentum-duration) var(--scroll-momentum-easing);
    pointer-events: none;
    z-index: -1;
}

.smooth-anchor-target.anchor-highlight::before {
    opacity: 1;
    transform: scale(1);
}

/* Advanced Scroll Progress Indicators */
.scroll-progress-glass {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 4px;
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: var(--liquid-glass-blur-light);
    -webkit-backdrop-filter: var(--liquid-glass-blur-light);
    z-index: 1000;
}

.scroll-progress-glass::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    height: 100%;
    width: calc(var(--scroll-progress) * 100%);
    background: linear-gradient(90deg, 
        rgba(var(--page-accent-rgb), 0.8) 0%,
        rgba(var(--page-accent-rgb), 0.6) 50%,
        rgba(var(--page-accent-rgb), 0.9) 100%);
    backdrop-filter: var(--liquid-glass-blur-strong);
    -webkit-backdrop-filter: var(--liquid-glass-blur-strong);
    transition: width var(--timing-micro) linear;
    box-shadow: 0 2px 8px rgba(var(--page-accent-rgb), 0.3);
}

/* Scroll-Based Glass Intensity Zones */
.scroll-zone-top {
    --zone-progress: calc(max(0, min(1, var(--scroll-progress) * 3)));
    backdrop-filter: blur(calc(8px + var(--zone-progress) * 12px));
    -webkit-backdrop-filter: blur(calc(8px + var(--zone-progress) * 12px));
}

.scroll-zone-middle {
    --zone-progress: calc(max(0, min(1, (var(--scroll-progress) - 0.33) * 3)));
    backdrop-filter: blur(calc(12px + var(--zone-progress) * 8px));
    -webkit-backdrop-filter: blur(calc(12px + var(--zone-progress) * 8px));
}

.scroll-zone-bottom {
    --zone-progress: calc(max(0, min(1, (var(--scroll-progress) - 0.66) * 3)));
    backdrop-filter: blur(calc(16px + var(--zone-progress) * 4px));
    -webkit-backdrop-filter: blur(calc(16px + var(--zone-progress) * 4px));
}

/* Header Scroll Integration */
.header.scroll-enhanced {
    backdrop-filter: blur(calc(10px + var(--scroll-progress) * 20px)) saturate(calc(180% + var(--scroll-progress) * 40%));
    -webkit-backdrop-filter: blur(calc(10px + var(--scroll-progress) * 20px)) saturate(calc(180% + var(--scroll-progress) * 40%));
    background: rgba(18, 18, 18, calc(0.85 + var(--scroll-progress) * 0.1));
    border-bottom-color: rgba(255, 255, 255, calc(0.1 + var(--scroll-progress) * 0.2));
    box-shadow: 0 4px calc(16px + var(--scroll-progress) * 16px) rgba(0, 0, 0, calc(0.1 + var(--scroll-progress) * 0.2));
}

/* Scroll Inertia Glass Effects */
.inertia-glass {
    --inertia-factor: 0; /* Set by JavaScript based on scroll inertia */
    transform: translateY(calc(var(--inertia-factor) * -5px)) 
               scale(calc(1 + var(--inertia-factor) * 0.02));
    backdrop-filter: blur(calc(12px + var(--inertia-factor) * 8px));
    -webkit-backdrop-filter: blur(calc(12px + var(--inertia-factor) * 8px));
    transition: transform var(--timing-standard) var(--ease-momentum),
                backdrop-filter var(--timing-quick) linear;
}

/* Mobile Scroll Optimizations */
@media (max-width: 768px) {
    .momentum-glass {
        --glass-scroll-blur: calc(8px + var(--scroll-velocity) * 4px); /* Reduced for mobile performance */
    }
    
    .parallax-glass-1,
    .parallax-glass-2,
    .parallax-glass-3,
    .parallax-glass-4,
    .parallax-glass-5 {
        transform: translateY(calc(var(--scroll-progress) * -5px)); /* Simplified parallax for mobile */
    }
}

/* Touch Device Scroll Enhancements */
@media (hover: none) and (pointer: coarse) {
    .scroll-snap-container {
        -webkit-overflow-scrolling: touch;
        scroll-behavior: smooth;
    }
    
    .momentum-glass {
        will-change: backdrop-filter, transform;
        backface-visibility: hidden;
    }
}

/* Reduced Motion Accessibility */
@media (prefers-reduced-motion: reduce) {
    html {
        scroll-behavior: auto;
    }
    
    .parallax-glass-1,
    .parallax-glass-2,
    .parallax-glass-3,
    .parallax-glass-4,
    .parallax-glass-5 {
        transform: none;
    }
    
    .scroll-snap-section {
        transition: none;
    }
    
    .smooth-anchor-target::before {
        transition: opacity var(--timing-standard) ease;
    }
}

/* High Performance Device Enhancements */
@media (min-resolution: 2dppx) and (min-width: 1024px) {
    .momentum-glass {
        --glass-scroll-blur: calc(16px + var(--scroll-velocity) * 12px);
        backdrop-filter: blur(var(--glass-scroll-blur)) saturate(calc(200% + var(--scroll-velocity) * 20%));
        -webkit-backdrop-filter: blur(var(--glass-scroll-blur)) saturate(calc(200% + var(--scroll-velocity) * 20%));
    }
}

/* ====== ADVANCED TOUCH GESTURE RECOGNITION (PHASE 3.2) ====== */

/* Touch Gesture Variables */
:root {
    /* Touch Physics */
    --touch-velocity: 0; /* Touch movement velocity */
    --touch-pressure: 0; /* Touch pressure intensity */
    --touch-count: 0; /* Number of active touches */
    --touch-distance: 0; /* Distance between touch points */
    --touch-angle: 0deg; /* Rotation angle from multi-touch */
    --touch-scale: 1; /* Pinch-to-zoom scale factor */
    
    /* Touch Trail Variables */
    --touch-trail-opacity: 0.6;
    --touch-trail-blur: 8px;
    --touch-trail-decay: 0.95;
    --touch-trail-size: 40px;
    
    /* Gesture Recognition Thresholds */
    --gesture-min-distance: 10px;
    --gesture-min-velocity: 0.1;
    --gesture-max-duration: 1000ms;
    
    /* Touch Glass Effect Variables */
    --touch-glass-intensity: calc(0.1 + var(--touch-pressure) * 0.2);
    --touch-glass-blur: calc(8px + var(--touch-pressure) * 12px);
    --touch-glass-scale: calc(0.98 + var(--touch-pressure) * 0.04);
    --touch-ripple-size: calc(20px + var(--touch-pressure) * 60px);
}

/* Touch-Responsive Glass Base */
.touch-glass {
    position: relative;
    overflow: hidden;
    contain: layout style paint;
    --touch-x: 50%;
    --touch-y: 50%;
    --touch-active: 0;
    --touch-pressure: 0;
    --touch-velocity: 0;
}

/* Touch Ripple Effect */
.touch-glass::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: radial-gradient(
        circle var(--touch-ripple-size) at var(--touch-x) var(--touch-y),
        rgba(255, 255, 255, calc(var(--touch-glass-intensity) * var(--touch-active))) 0%,
        rgba(255, 255, 255, calc(var(--touch-glass-intensity) * 0.5 * var(--touch-active))) 40%,
        rgba(255, 255, 255, calc(var(--touch-glass-intensity) * 0.2 * var(--touch-active))) 70%,
        transparent 100%
    );
    opacity: var(--touch-active);
    transform: scale(var(--touch-glass-scale));
    transition: 
        opacity var(--timing-quick) var(--ease-apple-smooth),
        transform var(--timing-quick) var(--ease-spring-gentle);
    pointer-events: none;
    z-index: 10;
    mix-blend-mode: screen;
}

/* Touch Pressure Depth Effect */
.touch-glass::after {
    content: '';
    position: absolute;
    top: calc(var(--touch-y) - var(--touch-ripple-size) / 2);
    left: calc(var(--touch-x) - var(--touch-ripple-size) / 2);
    width: var(--touch-ripple-size);
    height: var(--touch-ripple-size);
    background: radial-gradient(
        circle closest-side,
        rgba(var(--page-accent-rgb), calc(var(--touch-pressure) * 0.3)) 0%,
        rgba(var(--page-accent-rgb), calc(var(--touch-pressure) * 0.1)) 60%,
        transparent 100%
    );
    backdrop-filter: blur(calc(var(--touch-pressure) * 15px));
    -webkit-backdrop-filter: blur(calc(var(--touch-pressure) * 15px));
    border-radius: 50%;
    opacity: var(--touch-active);
    transform: 
        translateX(-50%) translateY(-50%) 
        scale(calc(0.5 + var(--touch-pressure) * 0.8));
    transition: 
        opacity var(--timing-quick) var(--ease-apple-smooth),
        transform var(--timing-micro) linear;
    pointer-events: none;
    z-index: 9;
    mix-blend-mode: overlay;
}

/* Multi-Touch Glass Layering */
.multi-touch-glass {
    position: relative;
    --touch-1-x: 50%;
    --touch-1-y: 50%;
    --touch-1-pressure: 0;
    --touch-2-x: 50%;
    --touch-2-y: 50%;
    --touch-2-pressure: 0;
    --multi-touch-distance: 0px;
    --multi-touch-angle: 0deg;
}

/* First Touch Layer */
.multi-touch-glass .touch-layer-1 {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: radial-gradient(
        circle 50px at var(--touch-1-x) var(--touch-1-y),
        rgba(255, 255, 255, calc(var(--touch-1-pressure) * 0.3)) 0%,
        rgba(255, 255, 255, calc(var(--touch-1-pressure) * 0.1)) 50%,
        transparent 100%
    );
    backdrop-filter: blur(calc(var(--touch-1-pressure) * 10px));
    -webkit-backdrop-filter: blur(calc(var(--touch-1-pressure) * 10px));
    opacity: var(--touch-1-pressure);
    transform: rotate(var(--multi-touch-angle));
    transition: all var(--timing-micro) linear;
    pointer-events: none;
    z-index: 12;
    mix-blend-mode: screen;
}

/* Second Touch Layer */
.multi-touch-glass .touch-layer-2 {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: radial-gradient(
        circle 50px at var(--touch-2-x) var(--touch-2-y),
        rgba(var(--page-accent-rgb), calc(var(--touch-2-pressure) * 0.25)) 0%,
        rgba(var(--page-accent-rgb), calc(var(--touch-2-pressure) * 0.08)) 50%,
        transparent 100%
    );
    backdrop-filter: blur(calc(var(--touch-2-pressure) * 12px));
    -webkit-backdrop-filter: blur(calc(var(--touch-2-pressure) * 12px));
    opacity: var(--touch-2-pressure);
    transform: rotate(calc(var(--multi-touch-angle) * -0.5));
    transition: all var(--timing-micro) linear;
    pointer-events: none;
    z-index: 11;
    mix-blend-mode: multiply;
}

/* Pinch-to-Zoom Glass Scaling */
.pinch-glass {
    transform-origin: center;
    transition: transform var(--timing-standard) var(--ease-spring-gentle);
}

.pinch-glass.pinching {
    transform: scale(var(--touch-scale)) rotate(var(--touch-angle));
    backdrop-filter: blur(calc(12px + var(--touch-scale) * 8px)) saturate(calc(180% + var(--touch-scale) * 40%));
    -webkit-backdrop-filter: blur(calc(12px + var(--touch-scale) * 8px)) saturate(calc(180% + var(--touch-scale) * 40%));
}

/* Swipe Gesture Glass Effects */
.swipe-glass {
    --swipe-direction: 0deg; /* 0=right, 90=down, 180=left, 270=up */
    --swipe-velocity: 0;
    --swipe-distance: 0px;
}

.swipe-glass.swiping {
    transform: 
        translateX(calc(cos(var(--swipe-direction)) * var(--swipe-distance) * 0.1))
        translateY(calc(sin(var(--swipe-direction)) * var(--swipe-distance) * 0.1))
        scale(calc(1 + var(--swipe-velocity) * 0.02));
    backdrop-filter: 
        blur(calc(12px + var(--swipe-velocity) * 8px))
        motion-blur(calc(var(--swipe-velocity) * 2px));
    -webkit-backdrop-filter: 
        blur(calc(12px + var(--swipe-velocity) * 8px));
    transition: transform var(--timing-quick) var(--ease-momentum);
}

/* Touch Trail System */
.touch-trail {
    position: fixed;
    width: var(--touch-trail-size);
    height: var(--touch-trail-size);
    background: radial-gradient(
        circle closest-side,
        rgba(255, 255, 255, var(--touch-trail-opacity)) 0%,
        rgba(255, 255, 255, calc(var(--touch-trail-opacity) * 0.5)) 40%,
        transparent 100%
    );
    backdrop-filter: blur(var(--touch-trail-blur));
    -webkit-backdrop-filter: blur(var(--touch-trail-blur));
    border-radius: 50%;
    pointer-events: none;
    z-index: 1000;
    mix-blend-mode: screen;
    transform: translateX(-50%) translateY(-50%);
    opacity: 0;
    transition: opacity var(--timing-quick) ease-out;
}

.touch-trail.active {
    opacity: 1;
}

.touch-trail.fading {
    opacity: 0;
    transform: translateX(-50%) translateY(-50%) scale(1.5);
    transition: 
        opacity var(--timing-standard) ease-out,
        transform var(--timing-standard) var(--ease-spring-gentle);
}

/* Pressure-Sensitive Glass Morphing */
.pressure-glass {
    --pressure-depth: calc(var(--touch-pressure) * 20px);
    --pressure-intensity: calc(var(--touch-pressure) * 0.4);
}

.pressure-glass.touch-active {
    transform: 
        perspective(1000px)
        rotateX(calc(var(--touch-pressure) * 2deg))
        rotateY(calc(var(--touch-pressure) * 1deg))
        translateZ(calc(var(--pressure-depth) * -1));
    background: rgba(255, 255, 255, calc(0.15 + var(--pressure-intensity)));
    backdrop-filter: 
        blur(calc(12px + var(--touch-pressure) * 18px))
        saturate(calc(180% + var(--touch-pressure) * 60%))
        brightness(calc(1 + var(--touch-pressure) * 0.2));
    -webkit-backdrop-filter: 
        blur(calc(12px + var(--touch-pressure) * 18px))
        saturate(calc(180% + var(--touch-pressure) * 60%))
        brightness(calc(1 + var(--touch-pressure) * 0.2));
    box-shadow: 
        0 calc(4px + var(--pressure-depth)) calc(16px + var(--pressure-depth)) rgba(0, 0, 0, calc(0.1 + var(--pressure-intensity))),
        inset 0 1px 2px rgba(255, 255, 255, calc(0.2 + var(--touch-pressure) * 0.3));
}

/* Haptic Feedback Simulation */
@keyframes haptic-light {
    0% { transform: scale(1); }
    50% { transform: scale(1.02); }
    100% { transform: scale(1); }
}

@keyframes haptic-medium {
    0% { transform: scale(1); }
    25% { transform: scale(0.98); }
    75% { transform: scale(1.04); }
    100% { transform: scale(1); }
}

@keyframes haptic-strong {
    0% { transform: scale(1); }
    20% { transform: scale(0.95); }
    40% { transform: scale(1.06); }
    60% { transform: scale(0.98); }
    80% { transform: scale(1.02); }
    100% { transform: scale(1); }
}

.haptic-light {
    animation: haptic-light 150ms var(--ease-spring-gentle);
}

.haptic-medium {
    animation: haptic-medium 250ms var(--ease-spring-bouncy);
}

.haptic-strong {
    animation: haptic-strong 400ms var(--ease-spring-bouncy);
}

/* Long Press Glass Effects */
.long-press-glass {
    --long-press-progress: 0; /* 0-1 progress of long press */
    --long-press-duration: 800ms;
}

.long-press-glass.long-pressing::before {
    content: '';
    position: absolute;
    top: var(--touch-y);
    left: var(--touch-x);
    width: calc(20px + var(--long-press-progress) * 60px);
    height: calc(20px + var(--long-press-progress) * 60px);
    background: radial-gradient(
        circle closest-side,
        rgba(var(--page-accent-rgb), calc(0.4 * var(--long-press-progress))) 0%,
        rgba(var(--page-accent-rgb), calc(0.2 * var(--long-press-progress))) 70%,
        transparent 100%
    );
    border: 2px solid rgba(var(--page-accent-rgb), calc(0.6 * var(--long-press-progress)));
    border-radius: 50%;
    transform: translateX(-50%) translateY(-50%);
    transition: all var(--timing-micro) linear;
    pointer-events: none;
    z-index: 15;
}

/* Force Touch Glass Depth */
.force-touch-glass {
    --force-level: 0; /* 0-1 force touch intensity */
    --force-depth: calc(var(--force-level) * 30px);
}

.force-touch-glass.force-active {
    transform: 
        perspective(800px)
        translateZ(calc(var(--force-depth) * -1))
        rotateX(calc(var(--force-level) * 3deg))
        scale(calc(1 + var(--force-level) * 0.05));
    backdrop-filter: 
        blur(calc(8px + var(--force-level) * 22px))
        saturate(calc(160% + var(--force-level) * 80%))
        contrast(calc(1 + var(--force-level) * 0.3));
    -webkit-backdrop-filter: 
        blur(calc(8px + var(--force-level) * 22px))
        saturate(calc(160% + var(--force-level) * 80%))
        contrast(calc(1 + var(--force-level) * 0.3));
    box-shadow: 
        0 calc(8px + var(--force-depth)) calc(32px + var(--force-depth)) rgba(0, 0, 0, calc(0.15 + var(--force-level) * 0.25)),
        inset 0 2px 4px rgba(255, 255, 255, calc(0.3 + var(--force-level) * 0.4));
}

/* Gesture Navigation Glass */
.gesture-nav-glass {
    --gesture-progress: 0; /* 0-1 gesture completion */
    --gesture-type: 'none'; /* swipe-left, swipe-right, swipe-up, swipe-down */
}

.gesture-nav-glass.gesture-active {
    backdrop-filter: 
        blur(calc(12px + var(--gesture-progress) * 8px))
        hue-rotate(calc(var(--gesture-progress) * 15deg));
    -webkit-backdrop-filter: 
        blur(calc(12px + var(--gesture-progress) * 8px))
        hue-rotate(calc(var(--gesture-progress) * 15deg));
    transform: scale(calc(1 + var(--gesture-progress) * 0.03));
}

/* Touch-Based Page Transitions */
.touch-transition-glass {
    --transition-progress: 0; /* 0-1 page transition progress */
    --transition-direction: 1; /* 1 for forward, -1 for backward */
}

.touch-transition-glass.transitioning {
    backdrop-filter: 
        blur(calc(20px + var(--transition-progress) * 20px))
        saturate(calc(200% + var(--transition-progress) * 50%));
    -webkit-backdrop-filter: 
        blur(calc(20px + var(--transition-progress) * 20px))
        saturate(calc(200% + var(--transition-progress) * 50%));
    transform: 
        translateX(calc(var(--transition-direction) * var(--transition-progress) * -100px))
        scale(calc(1 + var(--transition-progress) * 0.1));
    opacity: calc(1 - var(--transition-progress) * 0.3);
}

/* Touch Performance Optimizations */
.touch-optimized {
    touch-action: manipulation;
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    user-select: none;
    contain: layout style paint;
    will-change: transform, backdrop-filter, opacity;
    backface-visibility: hidden;
}

/* Mobile Touch Enhancements */
@media (hover: none) and (pointer: coarse) {
    .touch-glass {
        --touch-trail-size: 60px; /* Larger touch targets for mobile */
        --touch-ripple-size: calc(30px + var(--touch-pressure) * 80px);
    }
    
    .pressure-glass.touch-active {
        transform: 
            translateZ(calc(var(--pressure-depth) * -0.5)); /* Reduced 3D for mobile performance */
    }
}

/* High Refresh Rate Touch Optimization */
@media (min-resolution: 2dppx) and (min-width: 1024px) {
    .touch-glass {
        --touch-trail-decay: 0.98; /* Smoother decay on high-refresh displays */
    }
    
    .touch-trail {
        transition: opacity var(--timing-micro) ease-out;
    }
}

/* Reduce Motion Accessibility */
@media (prefers-reduced-motion: reduce) {
    .touch-glass::before,
    .touch-glass::after,
    .touch-trail,
    .pressure-glass,
    .haptic-light,
    .haptic-medium,
    .haptic-strong {
        animation: none;
        transition: opacity var(--timing-standard) ease;
    }
    
    .pinch-glass.pinching,
    .swipe-glass.swiping,
    .force-touch-glass.force-active {
        transform: none;
    }
}

/* ====== PREDICTIVE INTERACTION STATES (PHASE 3.3) ====== */

/* Predictive System Variables */
:root {
    /* Prediction Timing */
    --prediction-threshold: 150ms; /* Time before interaction for prediction */
    --prediction-fade-in: 200ms; /* Time for predictive state activation */
    --prediction-fade-out: 100ms; /* Time for predictive state deactivation */
    
    /* Intent Recognition Variables */
    --hover-intent-threshold: 300ms; /* Time to confirm hover intent */
    --scroll-intent-threshold: 50px; /* Distance to confirm scroll intent */
    --swipe-intent-threshold: 20px; /* Distance to confirm swipe intent */
    --click-intent-threshold: 100ms; /* Time from hover to likely click */
    
    /* Predictive State Intensities */
    --prediction-hover-intensity: 0.6; /* Intensity of predicted hover state */
    --prediction-click-intensity: 0.8; /* Intensity of predicted click state */
    --prediction-scroll-intensity: 0.4; /* Intensity of predicted scroll state */
    --prediction-swipe-intensity: 0.7; /* Intensity of predicted swipe state */
    
    /* Machine Learning Simulation Variables */
    --interaction-confidence: 0.5; /* 0-1 confidence in prediction */
    --behavior-pattern: 0; /* Current behavior pattern index */
    --velocity-prediction: 0; /* Predicted future velocity */
    --direction-prediction: 0deg; /* Predicted future direction */
}

/* Base Predictive Glass System */
.predictive-glass {
    position: relative;
    transition: all var(--prediction-fade-in) var(--ease-apple-smooth);
    --prediction-state: none; /* none, hover, click, scroll, swipe */
    --prediction-confidence: 0; /* 0-1 prediction confidence */
    --prediction-intensity: 0; /* Dynamic prediction intensity */
}

/* Predictive Hover State */
.predictive-glass.predict-hover {
    --prediction-state: hover;
    --prediction-intensity: calc(var(--prediction-hover-intensity) * var(--prediction-confidence));
    
    background: rgba(255, 255, 255, calc(0.15 + var(--prediction-intensity) * 0.1));
    backdrop-filter: 
        blur(calc(12px + var(--prediction-intensity) * 6px))
        saturate(calc(180% + var(--prediction-intensity) * 20%));
    -webkit-backdrop-filter: 
        blur(calc(12px + var(--prediction-intensity) * 6px))
        saturate(calc(180% + var(--prediction-intensity) * 20%));
    transform: translateY(calc(var(--prediction-intensity) * -1px)) scale(calc(1 + var(--prediction-intensity) * 0.01));
    box-shadow: 0 calc(4px + var(--prediction-intensity) * 4px) calc(16px + var(--prediction-intensity) * 8px) rgba(0, 0, 0, calc(0.1 + var(--prediction-intensity) * 0.05));
}

/* Predictive Click State */
.predictive-glass.predict-click {
    --prediction-state: click;
    --prediction-intensity: calc(var(--prediction-click-intensity) * var(--prediction-confidence));
    
    background: rgba(255, 255, 255, calc(0.18 + var(--prediction-intensity) * 0.12));
    backdrop-filter: 
        blur(calc(15px + var(--prediction-intensity) * 10px))
        saturate(calc(200% + var(--prediction-intensity) * 40%))
        brightness(calc(1 + var(--prediction-intensity) * 0.1));
    -webkit-backdrop-filter: 
        blur(calc(15px + var(--prediction-intensity) * 10px))
        saturate(calc(200% + var(--prediction-intensity) * 40%))
        brightness(calc(1 + var(--prediction-intensity) * 0.1));
    transform: 
        translateY(calc(var(--prediction-intensity) * -3px)) 
        scale(calc(1 + var(--prediction-intensity) * 0.02));
    box-shadow: 
        0 calc(6px + var(--prediction-intensity) * 8px) calc(24px + var(--prediction-intensity) * 16px) rgba(0, 0, 0, calc(0.12 + var(--prediction-intensity) * 0.08)),
        0 0 0 calc(var(--prediction-intensity) * 2px) rgba(var(--page-accent-rgb), calc(var(--prediction-intensity) * 0.3));
}

/* Predictive Scroll State */
.predictive-glass.predict-scroll {
    --prediction-state: scroll;
    --prediction-intensity: calc(var(--prediction-scroll-intensity) * var(--prediction-confidence));
    
    backdrop-filter: 
        blur(calc(12px + var(--prediction-intensity) * 8px))
        saturate(calc(180% + var(--prediction-intensity) * 30%));
    -webkit-backdrop-filter: 
        blur(calc(12px + var(--prediction-intensity) * 8px))
        saturate(calc(180% + var(--prediction-intensity) * 30%));
    transform: scale(calc(1 + var(--prediction-intensity) * 0.005));
}

/* Predictive Swipe State */
.predictive-glass.predict-swipe {
    --prediction-state: swipe;
    --prediction-intensity: calc(var(--prediction-swipe-intensity) * var(--prediction-confidence));
    
    backdrop-filter: 
        blur(calc(12px + var(--prediction-intensity) * 12px))
        saturate(calc(180% + var(--prediction-intensity) * 40%))
        hue-rotate(calc(var(--prediction-intensity) * 5deg));
    -webkit-backdrop-filter: 
        blur(calc(12px + var(--prediction-intensity) * 12px))
        saturate(calc(180% + var(--prediction-intensity) * 40%))
        hue-rotate(calc(var(--prediction-intensity) * 5deg));
    transform: 
        translateX(calc(cos(var(--direction-prediction)) * var(--prediction-intensity) * 2px))
        translateY(calc(sin(var(--direction-prediction)) * var(--prediction-intensity) * 2px))
        scale(calc(1 + var(--prediction-intensity) * 0.015));
}

/* Intent-Based Prediction Classes */
.hover-intent {
    --hover-intent-progress: 0; /* 0-1 progress toward hover */
    
    background: rgba(255, 255, 255, calc(0.12 + var(--hover-intent-progress) * 0.08));
    backdrop-filter: blur(calc(10px + var(--hover-intent-progress) * 8px));
    -webkit-backdrop-filter: blur(calc(10px + var(--hover-intent-progress) * 8px));
    transform: translateY(calc(var(--hover-intent-progress) * -2px)) scale(calc(1 + var(--hover-intent-progress) * 0.01));
    transition: all var(--timing-quick) var(--ease-apple-smooth);
}

.click-intent {
    --click-intent-progress: 0; /* 0-1 progress toward click */
    
    background: rgba(255, 255, 255, calc(0.15 + var(--click-intent-progress) * 0.1));
    backdrop-filter: 
        blur(calc(12px + var(--click-intent-progress) * 8px))
        saturate(calc(180% + var(--click-intent-progress) * 40%));
    -webkit-backdrop-filter: 
        blur(calc(12px + var(--click-intent-progress) * 8px))
        saturate(calc(180% + var(--click-intent-progress) * 40%));
    transform: scale(calc(1 + var(--click-intent-progress) * 0.02));
    box-shadow: 0 0 0 calc(var(--click-intent-progress) * 3px) rgba(var(--page-accent-rgb), calc(var(--click-intent-progress) * 0.2));
    transition: all var(--timing-micro) linear;
}

.scroll-intent {
    --scroll-intent-progress: 0; /* 0-1 progress toward scroll */
    --scroll-intent-direction: 1; /* 1 for down, -1 for up */
    
    backdrop-filter: 
        blur(calc(12px + var(--scroll-intent-progress) * 6px))
        saturate(calc(180% + var(--scroll-intent-progress) * 20%));
    -webkit-backdrop-filter: 
        blur(calc(12px + var(--scroll-intent-progress) * 6px))
        saturate(calc(180% + var(--scroll-intent-progress) * 20%));
    transform: 
        translateY(calc(var(--scroll-intent-direction) * var(--scroll-intent-progress) * -1px))
        scale(calc(1 + var(--scroll-intent-progress) * 0.005));
}

.swipe-intent {
    --swipe-intent-progress: 0; /* 0-1 progress toward swipe */
    --swipe-intent-direction: 0deg; /* Direction of intended swipe */
    
    backdrop-filter: 
        blur(calc(12px + var(--swipe-intent-progress) * 8px))
        saturate(calc(180% + var(--swipe-intent-progress) * 30%));
    -webkit-backdrop-filter: 
        blur(calc(12px + var(--swipe-intent-progress) * 8px))
        saturate(calc(180% + var(--swipe-intent-progress) * 30%));
    transform: 
        translateX(calc(cos(var(--swipe-intent-direction)) * var(--swipe-intent-progress) * 3px))
        translateY(calc(sin(var(--swipe-intent-direction)) * var(--swipe-intent-progress) * 3px))
        scale(calc(1 + var(--swipe-intent-progress) * 0.01));
}

/* Behavior Pattern Recognition */
.behavior-pattern-1 {
    /* Quick Navigator Pattern */
    --prediction-fade-in: 100ms; /* Faster response for quick users */
    --prediction-threshold: 100ms;
}

.behavior-pattern-2 {
    /* Deliberate Explorer Pattern */
    --prediction-fade-in: 300ms; /* Slower response for deliberate users */
    --prediction-threshold: 200ms;
}

.behavior-pattern-3 {
    /* Touch-Heavy User Pattern */
    --prediction-fade-in: 150ms;
    --prediction-threshold: 120ms;
}

.behavior-pattern-4 {
    /* Mouse-Precise User Pattern */
    --prediction-fade-in: 80ms;
    --prediction-threshold: 80ms;
}

/* Confidence-Based Prediction Intensity */
.prediction-confidence-low {
    --prediction-confidence: 0.3;
    transition-duration: calc(var(--prediction-fade-in) * 1.5);
}

.prediction-confidence-medium {
    --prediction-confidence: 0.6;
    transition-duration: var(--prediction-fade-in);
}

.prediction-confidence-high {
    --prediction-confidence: 0.9;
    transition-duration: calc(var(--prediction-fade-in) * 0.7);
}

/* Pre-Loading States */
.preload-content {
    opacity: 0;
    transform: translateY(20px) scale(0.95);
    transition: all var(--timing-standard) var(--ease-apple-smooth);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
}

.preload-content.ready {
    opacity: 1;
    transform: translateY(0) scale(1);
    backdrop-filter: blur(0px);
    -webkit-backdrop-filter: blur(0px);
}

/* Velocity-Based Predictions */
.velocity-prediction {
    --velocity-magnitude: 0; /* Current velocity magnitude */
    --velocity-direction: 0deg; /* Current velocity direction */
    --predicted-position-x: 0px; /* Predicted future X position */
    --predicted-position-y: 0px; /* Predicted future Y position */
}

.velocity-prediction::before {
    content: '';
    position: absolute;
    top: var(--predicted-position-y);
    left: var(--predicted-position-x);
    width: calc(20px + var(--velocity-magnitude) * 40px);
    height: calc(20px + var(--velocity-magnitude) * 40px);
    background: radial-gradient(
        circle closest-side,
        rgba(var(--page-accent-rgb), calc(0.1 * var(--velocity-magnitude))) 0%,
        rgba(var(--page-accent-rgb), calc(0.05 * var(--velocity-magnitude))) 70%,
        transparent 100%
    );
    border-radius: 50%;
    transform: translateX(-50%) translateY(-50%);
    opacity: var(--velocity-magnitude);
    transition: all var(--timing-micro) linear;
    pointer-events: none;
    z-index: 5;
}

/* Context-Aware Predictions */
.context-prediction-nav {
    /* Navigation context predictions */
    --nav-prediction-strength: 0; /* 0-1 strength of nav prediction */
}

.context-prediction-nav.nav-likely::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(90deg,
        transparent 0%,
        rgba(var(--page-accent-rgb), calc(0.05 * var(--nav-prediction-strength))) 50%,
        transparent 100%
    );
    opacity: var(--nav-prediction-strength);
    transition: opacity var(--prediction-fade-in) ease-out;
    pointer-events: none;
    z-index: 1;
}

.context-prediction-content {
    /* Content interaction predictions */
    --content-prediction-strength: 0; /* 0-1 strength of content prediction */
}

.context-prediction-content.content-likely {
    background: rgba(255, 255, 255, calc(0.12 + var(--content-prediction-strength) * 0.08));
    backdrop-filter: blur(calc(10px + var(--content-prediction-strength) * 8px));
    -webkit-backdrop-filter: blur(calc(10px + var(--content-prediction-strength) * 8px));
    transform: scale(calc(1 + var(--content-prediction-strength) * 0.01));
}

/* Smart Caching Visual Indicators */
.cache-state-loading {
    background: linear-gradient(90deg,
        rgba(255, 255, 255, 0.1) 0%,
        rgba(255, 255, 255, 0.2) 50%,
        rgba(255, 255, 255, 0.1) 100%
    );
    animation: cacheLoading 1.5s ease-in-out infinite;
}

@keyframes cacheLoading {
    0%, 100% {
        background-position: -200% 0;
    }
    50% {
        background-position: 200% 0;
    }
}

.cache-state-ready {
    background: rgba(var(--page-accent-rgb), 0.05);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    transition: all var(--timing-quick) ease-out;
}

.cache-state-ready::after {
    content: '';
    position: absolute;
    top: 5px;
    right: 5px;
    width: 8px;
    height: 8px;
    background: rgba(var(--page-accent-rgb), 0.6);
    border-radius: 50%;
    opacity: 0;
    animation: cacheReady 0.5s ease-out;
}

@keyframes cacheReady {
    0% {
        opacity: 0;
        transform: scale(0);
    }
    50% {
        opacity: 1;
        transform: scale(1.2);
    }
    100% {
        opacity: 0.6;
        transform: scale(1);
    }
}

/* Predictive Animation Sequences */
.predict-sequence-1 {
    /* Hover -> Click sequence prediction */
    animation: predictSequence1 var(--prediction-fade-in) var(--ease-apple-smooth) forwards;
}

@keyframes predictSequence1 {
    0% {
        backdrop-filter: blur(10px);
        transform: scale(1);
    }
    50% {
        backdrop-filter: blur(15px) saturate(150%);
        transform: scale(1.01);
    }
    100% {
        backdrop-filter: blur(18px) saturate(180%);
        transform: scale(1.02);
    }
}

.predict-sequence-2 {
    /* Scroll momentum prediction */
    animation: predictSequence2 var(--prediction-fade-in) var(--ease-momentum) forwards;
}

@keyframes predictSequence2 {
    0% {
        backdrop-filter: blur(12px);
        transform: translateY(0);
    }
    100% {
        backdrop-filter: blur(16px) saturate(200%);
        transform: translateY(-2px);
    }
}

/* Advanced Pattern Recognition States */
.pattern-recognition-active {
    --pattern-strength: 0; /* 0-1 strength of recognized pattern */
    
    position: relative;
    overflow: hidden;
}

.pattern-recognition-active::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg,
        transparent 0%,
        rgba(var(--page-accent-rgb), calc(0.1 * var(--pattern-strength))) 50%,
        transparent 100%
    );
    transition: left calc(var(--prediction-fade-in) * 2) ease-out;
    pointer-events: none;
    z-index: 10;
}

.pattern-recognition-active.pattern-detected::before {
    left: 100%;
}

/* Mobile Prediction Optimizations */
@media (hover: none) and (pointer: coarse) {
    .predictive-glass {
        --prediction-threshold: 200ms; /* Longer threshold for touch devices */
        --prediction-fade-in: 250ms;
    }
    
    .velocity-prediction::before {
        width: calc(30px + var(--velocity-magnitude) * 60px); /* Larger prediction targets for touch */
        height: calc(30px + var(--velocity-magnitude) * 60px);
    }
}

/* High Performance Prediction Enhancement */
@media (min-resolution: 2dppx) and (min-width: 1024px) {
    .predictive-glass {
        --prediction-threshold: 100ms; /* Faster predictions for high-performance devices */
        --prediction-fade-in: 150ms;
    }
    
    .prediction-confidence-high {
        --prediction-confidence: 0.95; /* Higher confidence on capable devices */
    }
}

/* Reduced Motion Accessibility */
@media (prefers-reduced-motion: reduce) {
    .predictive-glass,
    .hover-intent,
    .click-intent,
    .scroll-intent,
    .swipe-intent {
        transition: opacity var(--timing-standard) ease;
        transform: none !important;
        animation: none !important;
    }
    
    .velocity-prediction::before,
    .pattern-recognition-active::before {
        display: none;
    }
}

/* Optimize compositing layers */
.glass-scroll-enhanced,
.header-scrolled,
.momentum-glass,
.parallax-glass-1,
.parallax-glass-2,
.parallax-glass-3,
.parallax-glass-4,
.parallax-glass-5,
.scroll-progress-glass,
.touch-glass,
.multi-touch-glass,
.touch-trail,
.pressure-glass,
.pinch-glass,
.swipe-glass,
.long-press-glass,
.force-touch-glass,
.predictive-glass,
.hover-intent,
.click-intent,
.scroll-intent,
.swipe-intent,
.velocity-prediction {
    transform: translateZ(0);
    will-change: backdrop-filter, transform, opacity;
    contain: layout style paint;
}

/* ====== SEAMLESS PAGE TRANSITION SYSTEM ====== */
/* Phase 3.4: Ultra-Modern Page Morphing with Glass Integration */

/* Page Transition Container - Morphing Glass Overlay */
.page-transition-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    z-index: 9999;
    pointer-events: none;
    opacity: 0;
    background: var(--liquid-glass-bg-primary);
    backdrop-filter: var(--liquid-glass-blur-intense) hue-rotate(var(--transition-hue, 0deg));
    -webkit-backdrop-filter: var(--liquid-glass-blur-intense) hue-rotate(var(--transition-hue, 0deg));
    border: 1px solid rgba(255, 255, 255, 0.1);
    transition: all var(--timing-slower) var(--ease-apple-elastic);
    transform: scale(0.8) rotate(0.5deg);
    transform-origin: center;
    mix-blend-mode: multiply;
    contain: strict;
    will-change: transform, opacity, backdrop-filter;
}

.page-transition-overlay.active {
    opacity: 1;
    pointer-events: all;
    transform: scale(1) rotate(0deg);
    backdrop-filter: var(--liquid-glass-blur-ultra) hue-rotate(var(--transition-hue, 0deg)) saturate(220%);
    -webkit-backdrop-filter: var(--liquid-glass-blur-ultra) hue-rotate(var(--transition-hue, 0deg)) saturate(220%);
}

/* Morphing Glass Shapes for Page Transitions */
.page-transition-overlay::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 200px;
    height: 200px;
    background: var(--liquid-glass-highlight-intense);
    border-radius: 50%;
    transform: translate(-50%, -50%) scale(0);
    transition: transform var(--timing-slower) var(--ease-spring-bouncy);
    mix-blend-mode: overlay;
    filter: blur(20px);
}

.page-transition-overlay.active::before {
    transform: translate(-50%, -50%) scale(25);
    transition-delay: 0.1s;
}

.page-transition-overlay::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: 
        radial-gradient(circle at var(--cursor-x, 50%) var(--cursor-y, 50%), 
                       rgba(255, 255, 255, 0.15) 0%, 
                       transparent 50%),
        conic-gradient(from var(--transition-rotation, 0deg) at 50% 50%,
                      rgba(var(--page-accent-rgb), 0.1) 0deg,
                      transparent 60deg,
                      rgba(var(--page-accent-rgb), 0.05) 120deg,
                      transparent 180deg,
                      rgba(var(--page-accent-rgb), 0.1) 240deg,
                      transparent 300deg,
                      rgba(var(--page-accent-rgb), 0.1) 360deg);
    opacity: 0;
    transition: opacity var(--timing-slower) var(--ease-apple-smooth);
    animation: transitionRotate 2s var(--ease-momentum) infinite;
}

.page-transition-overlay.active::after {
    opacity: 0.8;
}

@keyframes transitionRotate {
    0% {
        --transition-rotation: 0deg;
        filter: hue-rotate(0deg);
    }
    50% {
        --transition-rotation: 180deg;
        filter: hue-rotate(10deg);
    }
    100% {
        --transition-rotation: 360deg;
        filter: hue-rotate(0deg);
    }
}

/* Advanced Page Transition States */
.page-transition-state-entering {
    animation: pageEnterMorph 1.2s var(--ease-spring-gentle) forwards;
}

.page-transition-state-leaving {
    animation: pageLeaveMorph 0.8s var(--ease-apple-snappy) forwards;
}

@keyframes pageEnterMorph {
    0% {
        opacity: 0;
        transform: scale(0.92) translateY(40px) rotateX(8deg);
        filter: blur(12px) brightness(0.7);
    }
    30% {
        opacity: 0.3;
        transform: scale(0.96) translateY(20px) rotateX(4deg);
        filter: blur(6px) brightness(0.85);
    }
    60% {
        opacity: 0.7;
        transform: scale(1.02) translateY(-5px) rotateX(-1deg);
        filter: blur(2px) brightness(1.05);
    }
    100% {
        opacity: 1;
        transform: scale(1) translateY(0) rotateX(0deg);
        filter: blur(0px) brightness(1);
    }
}

@keyframes pageLeaveMorph {
    0% {
        opacity: 1;
        transform: scale(1) translateY(0) rotateX(0deg);
        filter: blur(0px) brightness(1);
    }
    40% {
        opacity: 0.6;
        transform: scale(1.03) translateY(-10px) rotateX(-2deg);
        filter: blur(3px) brightness(1.1);
    }
    100% {
        opacity: 0;
        transform: scale(0.94) translateY(25px) rotateX(5deg);
        filter: blur(8px) brightness(0.8);
    }
}

/* Predictive Page Preloading Glass Indicator */
.page-preload-indicator {
    position: fixed;
    top: 20px;
    right: 20px;
    width: 4px;
    height: 40px;
    background: linear-gradient(180deg, 
                               rgba(var(--page-accent-rgb), 0.8) 0%, 
                               rgba(var(--page-accent-rgb), 0.3) 50%, 
                               transparent 100%);
    backdrop-filter: var(--liquid-glass-blur-light);
    -webkit-backdrop-filter: var(--liquid-glass-blur-light);
    border-radius: 2px;
    z-index: 1000;
    opacity: 0;
    transform: scaleY(0);
    transform-origin: top;
    transition: all var(--timing-standard) var(--ease-apple-smooth);
    box-shadow: 0 0 20px rgba(var(--page-accent-rgb), 0.3);
}

.page-preload-indicator.active {
    opacity: 1;
    transform: scaleY(1);
    animation: preloadPulse 1.5s var(--ease-momentum) infinite;
}

@keyframes preloadPulse {
    0%, 100% {
        box-shadow: 0 0 20px rgba(var(--page-accent-rgb), 0.3);
        filter: brightness(1);
    }
    50% {
        box-shadow: 0 0 40px rgba(var(--page-accent-rgb), 0.6);
        filter: brightness(1.3);
    }
}

/* Morphing Navigation Highlights During Transitions */
.nav-transition-highlight {
    position: absolute;
    bottom: 0;
    left: 0;
    height: 3px;
    background: linear-gradient(90deg, 
                               transparent 0%, 
                               rgba(var(--page-accent-rgb), 0.8) 20%, 
                               rgba(var(--page-accent-rgb), 1) 50%, 
                               rgba(var(--page-accent-rgb), 0.8) 80%, 
                               transparent 100%);
    backdrop-filter: var(--liquid-glass-blur-light);
    -webkit-backdrop-filter: var(--liquid-glass-blur-light);
    border-radius: 0 0 2px 2px;
    width: 0;
    transition: width var(--timing-slower) var(--ease-spring-gentle);
    box-shadow: 0 2px 10px rgba(var(--page-accent-rgb), 0.4);
    z-index: 2;
}

.nav-link.transition-target .nav-transition-highlight {
    width: 100%;
    animation: navHighlightFlow 2s var(--ease-momentum) infinite;
}

@keyframes navHighlightFlow {
    0%, 100% {
        background-position: 0% 50%;
        filter: hue-rotate(0deg);
    }
    50% {
        background-position: 100% 50%;
        filter: hue-rotate(5deg);
    }
}

/* Page Content Morphing Classes */
.page-content-morph {
    transition: all var(--timing-slower) var(--ease-spring-gentle);
    transform-style: preserve-3d;
    perspective: 1000px;
}

.page-content-morph.transitioning {
    transform: perspective(1200px) rotateY(3deg) scale(0.98);
    filter: blur(1px) brightness(0.95);
    opacity: 0.8;
}

/* Enhanced Glass Elements During Transitions */
.glass-transition-enhanced {
    transition: all var(--timing-slower) var(--ease-apple-elastic);
}

.page-transitioning .glass-transition-enhanced {
    backdrop-filter: var(--liquid-glass-blur-intense) hue-rotate(5deg) saturate(200%);
    -webkit-backdrop-filter: var(--liquid-glass-blur-intense) hue-rotate(5deg) saturate(200%);
    background: var(--liquid-glass-bg-tertiary);
    border-color: rgba(var(--page-accent-rgb), 0.4);
    box-shadow: var(--liquid-glass-shadow-ultra), 
                0 0 30px rgba(var(--page-accent-rgb), 0.2);
    transform: scale(1.01) translateZ(5px);
}

/* Staggered Element Transitions During Page Changes */
.stagger-page-transition {
    opacity: 0;
    transform: translateY(30px) scale(0.95);
    transition: all var(--timing-slower) var(--ease-spring-bouncy);
    transition-delay: calc(var(--stagger-index, 0) * 0.1s);
}

.page-transition-complete .stagger-page-transition {
    opacity: 1;
    transform: translateY(0) scale(1);
}

/* Performance Optimizations for Page Transitions */
.page-transition-container {
    contain: layout style paint;
    will-change: transform, opacity, backdrop-filter;
    transform: translateZ(0); /* Create compositing layer */
}

/* Accessibility Considerations */
@media (prefers-reduced-motion: reduce) {
    .page-transition-overlay,
    .page-transition-state-entering,
    .page-transition-state-leaving,
    .page-content-morph,
    .stagger-page-transition {
        animation: none !important;
        transition: opacity 0.2s ease !important;
        transform: none !important;
        filter: none !important;
    }
    
    .page-preload-indicator {
        animation: none !important;
        transition: opacity 0.1s ease !important;
    }
}

/* High Contrast Mode Support */
@media (prefers-contrast: high) {
    .page-transition-overlay {
        backdrop-filter: none !important;
        -webkit-backdrop-filter: none !important;
        background: var(--bg-primary) !important;
        border: 2px solid var(--text-primary) !important;
    }
    
    .page-preload-indicator {
        backdrop-filter: none !important;
        -webkit-backdrop-filter: none !important;
        background: var(--accent-red) !important;
        border: 1px solid var(--text-primary) !important;
    }
}

/* ====== 120FPS DISPLAY OPTIMIZATION SYSTEM ====== */
/* Phase 4.1: Ultra-High Refresh Rate Performance Enhancement */

/* High Refresh Rate Detection and Optimization */
:root {
    /* Dynamic timing variables for 120fps displays */
    --timing-120fps-micro: 8.33ms; /* 1/120th second */
    --timing-120fps-fast: 16.66ms; /* 2 frames at 120fps */
    --timing-120fps-standard: 33.33ms; /* 4 frames at 120fps */
    --timing-120fps-medium: 66.66ms; /* 8 frames at 120fps */
    --timing-120fps-slow: 133.33ms; /* 16 frames at 120fps */
    --timing-120fps-slower: 200ms; /* 24 frames at 120fps */
    
    /* Precision frame timing variables */
    --frame-duration: 16.67ms; /* Default 60fps */
    --refresh-rate: 60;
    --frame-budget: 13ms; /* Leave 3.67ms buffer for 60fps */
    --animation-precision: 1; /* Scale factor for precision */
    
    /* High-performance easing curves for 120fps */
    --ease-120fps-linear: linear;
    --ease-120fps-micro: cubic-bezier(0.25, 0.1, 0.25, 1);
    --ease-120fps-precision: cubic-bezier(0.4, 0.0, 0.2, 1);
    --ease-120fps-smooth: cubic-bezier(0.25, 0.46, 0.45, 0.94);
    --ease-120fps-spring: cubic-bezier(0.175, 0.885, 0.32, 1.275);
    
    /* Performance class indicators */
    --performance-tier: 'standard'; /* standard, high, premium */
    --gpu-acceleration: 'auto'; /* auto, force, disable */
    --animation-quality: 'high'; /* low, medium, high, ultra */
}

/* 120fps Display Optimizations */
@media (min-resolution: 120dpi) and (min-refresh-rate: 120hz) {
    :root {
        --frame-duration: 8.33ms;
        --refresh-rate: 120;
        --frame-budget: 6ms;
        --animation-precision: 2;
        --performance-tier: 'premium';
        --animation-quality: 'ultra';
    }
    
    /* Ultra-smooth animations for high refresh displays */
    .glass-120fps-optimized {
        animation-timing-function: var(--ease-120fps-precision);
        transition-timing-function: var(--ease-120fps-precision);
        transition-duration: calc(var(--timing-120fps-standard) * var(--animation-precision));
    }
    
    /* Micro-animations for 120fps precision */
    .glass-micro-animation {
        animation-duration: var(--timing-120fps-micro);
        animation-timing-function: var(--ease-120fps-linear);
        animation-fill-mode: both;
    }
    
    /* Enhanced specular highlights for high refresh */
    .specular-glass-120fps {
        backdrop-filter: var(--liquid-glass-blur-medium) saturate(200%) contrast(110%);
        -webkit-backdrop-filter: var(--liquid-glass-blur-medium) saturate(200%) contrast(110%);
        transition: all var(--timing-120fps-fast) var(--ease-120fps-precision);
    }
    
    .specular-glass-120fps:hover {
        backdrop-filter: var(--liquid-glass-blur-strong) saturate(220%) contrast(115%);
        -webkit-backdrop-filter: var(--liquid-glass-blur-strong) saturate(220%) contrast(115%);
        transition: all var(--timing-120fps-micro) var(--ease-120fps-precision);
    }
}

/* Variable Refresh Rate (VRR) Support */
@media (min-refresh-rate: 90hz) and (max-refresh-rate: 119hz) {
    :root {
        --frame-duration: 11.11ms; /* 90fps */
        --refresh-rate: 90;
        --frame-budget: 8ms;
        --animation-precision: 1.5;
        --performance-tier: 'high';
    }
}

@media (min-refresh-rate: 144hz) {
    :root {
        --frame-duration: 6.94ms; /* 144fps */
        --refresh-rate: 144;
        --frame-budget: 4ms;
        --animation-precision: 2.4;
        --performance-tier: 'premium';
        --animation-quality: 'ultra';
    }
    
    /* Ultra-precision animations for 144fps+ displays */
    .glass-ultra-precision {
        animation-duration: calc(var(--timing-120fps-micro) / 1.2);
        transition-duration: calc(var(--timing-120fps-fast) / 1.2);
        animation-timing-function: var(--ease-120fps-linear);
    }
}

/* Frame Rate Adaptive Classes */
.fps-adaptive-animation {
    animation-duration: calc(var(--frame-duration) * 4);
    transition-duration: calc(var(--frame-duration) * 2);
    animation-timing-function: var(--ease-120fps-precision);
}

.fps-adaptive-transition {
    transition: all calc(var(--frame-duration) * 3) var(--ease-120fps-smooth);
}

/* Precision Glass Effects for High Refresh Rates */
.precision-glass-effect {
    backdrop-filter: var(--liquid-glass-blur-medium);
    -webkit-backdrop-filter: var(--liquid-glass-blur-medium);
    transition: backdrop-filter calc(var(--frame-duration) * 2) var(--ease-120fps-precision),
                transform calc(var(--frame-duration) * 1.5) var(--ease-120fps-smooth),
                opacity calc(var(--frame-duration) * 1) var(--ease-120fps-linear);
}

.precision-glass-effect:hover {
    backdrop-filter: var(--liquid-glass-blur-strong) brightness(105%);
    -webkit-backdrop-filter: var(--liquid-glass-blur-strong) brightness(105%);
    transform: translateY(-1px) scale(1.005);
}

/* Ultra-Smooth Staggered Animations */
.stagger-120fps {
    opacity: 0;
    transform: translateY(calc(var(--stagger-distance, 20px) * var(--animation-precision)));
    animation: staggerReveal120fps calc(var(--frame-duration) * 8) var(--ease-120fps-spring) forwards;
    animation-delay: calc(var(--stagger-index, 0) * var(--frame-duration) * 0.5);
}

@keyframes staggerReveal120fps {
    0% {
        opacity: 0;
        transform: translateY(calc(var(--stagger-distance, 20px) * var(--animation-precision))) scale(0.98);
        filter: blur(calc(2px * var(--animation-precision)));
    }
    25% {
        opacity: 0.3;
        transform: translateY(calc(var(--stagger-distance, 20px) * var(--animation-precision) * 0.6)) scale(0.99);
        filter: blur(calc(1px * var(--animation-precision)));
    }
    60% {
        opacity: 0.8;
        transform: translateY(calc(var(--stagger-distance, 20px) * var(--animation-precision) * -0.1)) scale(1.01);
        filter: blur(0px);
    }
    100% {
        opacity: 1;
        transform: translateY(0) scale(1);
        filter: blur(0px);
    }
}

/* High-Performance Glass Morphing */
.morphing-glass-120fps {
    background: var(--liquid-glass-bg-primary);
    backdrop-filter: var(--liquid-glass-blur-medium);
    -webkit-backdrop-filter: var(--liquid-glass-blur-medium);
    border-radius: var(--border-radius-lg);
    transition: all calc(var(--frame-duration) * 4) var(--ease-120fps-precision);
    contain: layout style paint;
    will-change: transform, backdrop-filter, border-radius;
    transform: translateZ(0); /* Force hardware acceleration */
}

.morphing-glass-120fps:hover {
    background: var(--liquid-glass-bg-tertiary);
    backdrop-filter: var(--liquid-glass-blur-strong) saturate(200%);
    -webkit-backdrop-filter: var(--liquid-glass-blur-strong) saturate(200%);
    border-radius: calc(var(--border-radius-lg) * 1.5);
    transform: translateZ(2px) translateY(-2px) scale(1.02);
}

/* Precision Micro-Interactions */
.micro-120fps {
    transition: all calc(var(--frame-duration) * 1) var(--ease-120fps-linear);
}

.micro-120fps:hover {
    transform: scale(1.008) translateZ(1px);
    filter: brightness(102%);
}

.micro-120fps:active {
    transform: scale(0.996) translateZ(-1px);
    filter: brightness(98%);
    transition-duration: calc(var(--frame-duration) * 0.5);
}

/* Frame-Perfect Animation Keyframes */
@keyframes precisionFloat120fps {
    0%, 100% {
        transform: translateY(0) rotate(0deg) scale(1);
    }
    25% {
        transform: translateY(-2px) rotate(0.5deg) scale(1.002);
    }
    50% {
        transform: translateY(-4px) rotate(1deg) scale(1.004);
    }
    75% {
        transform: translateY(-2px) rotate(0.5deg) scale(1.002);
    }
}

.precision-float-120fps {
    animation: precisionFloat120fps calc(var(--frame-duration) * 180) var(--ease-120fps-smooth) infinite;
}

/* Advanced Performance Monitoring Indicators */
.performance-indicator {
    position: fixed;
    top: 10px;
    left: 10px;
    width: 8px;
    height: 8px;
    border-radius: 50%;
    z-index: 10000;
    opacity: 0;
    transition: opacity var(--timing-standard) ease;
    pointer-events: none;
}

.performance-indicator.fps-60 {
    background: #10B981; /* Green - Standard 60fps */
}

.performance-indicator.fps-90 {
    background: #3B82F6; /* Blue - High 90fps */
}

.performance-indicator.fps-120 {
    background: #8B5CF6; /* Purple - Premium 120fps */
}

.performance-indicator.fps-144 {
    background: #F59E0B; /* Amber - Ultra 144fps+ */
}

.performance-indicator.show {
    opacity: 0.6;
}

/* GPU-Accelerated Transform Layers */
.gpu-layer {
    transform: translateZ(0);
    backface-visibility: hidden;
    perspective: 1000px;
    will-change: transform;
}

.gpu-layer-complex {
    transform: translate3d(0, 0, 0);
    backface-visibility: hidden;
    perspective: 1000px;
    contain: layout style paint;
    will-change: transform, opacity, backdrop-filter;
}

/* Frame Budget Optimization Classes */
.budget-optimized {
    /* Optimized for consistent frame timing */
    animation-duration: calc(var(--frame-duration) * floor(var(--target-frames, 4)));
    transition-duration: calc(var(--frame-duration) * floor(var(--target-frames, 2)));
}

/* Adaptive Quality Based on Performance */
.adaptive-quality-low {
    backdrop-filter: blur(6px);
    -webkit-backdrop-filter: blur(6px);
    transition-duration: 100ms;
    animation: none;
}

.adaptive-quality-medium {
    backdrop-filter: var(--liquid-glass-blur-light);
    -webkit-backdrop-filter: var(--liquid-glass-blur-light);
    transition-duration: calc(var(--frame-duration) * 3);
}

.adaptive-quality-high {
    backdrop-filter: var(--liquid-glass-blur-medium);
    -webkit-backdrop-filter: var(--liquid-glass-blur-medium);
    transition-duration: calc(var(--frame-duration) * 2);
}

.adaptive-quality-ultra {
    backdrop-filter: var(--liquid-glass-blur-strong) saturate(180%) contrast(105%);
    -webkit-backdrop-filter: var(--liquid-glass-blur-strong) saturate(180%) contrast(105%);
    transition-duration: calc(var(--frame-duration) * 1.5);
}

/* ====== ADAPTIVE PERFORMANCE SCALING SYSTEM ====== */
/* Phase 4.2: Intelligent Multi-Factor Performance Optimization */

/* Advanced Performance Scaling Variables */
:root {
    /* Dynamic scaling factors */
    --performance-scale: 1.0;
    --thermal-scale: 1.0;
    --battery-scale: 1.0;
    --memory-scale: 1.0;
    --network-scale: 1.0;
    --user-preference-scale: 1.0;
    
    /* Composite scaling factor */
    --adaptive-scale: calc(
        var(--performance-scale) * 
        var(--thermal-scale) * 
        var(--battery-scale) * 
        var(--memory-scale) * 
        var(--network-scale) * 
        var(--user-preference-scale)
    );
    
    /* Scaled animation timings */
    --adaptive-duration-micro: calc(var(--timing-120fps-micro) / var(--adaptive-scale));
    --adaptive-duration-fast: calc(var(--timing-120fps-fast) / var(--adaptive-scale));
    --adaptive-duration-standard: calc(var(--timing-120fps-standard) / var(--adaptive-scale));
    --adaptive-duration-medium: calc(var(--timing-120fps-medium) / var(--adaptive-scale));
    --adaptive-duration-slow: calc(var(--timing-120fps-slow) / var(--adaptive-scale));
    
    /* Adaptive blur intensities */
    --adaptive-blur-light: calc(8px * var(--adaptive-scale));
    --adaptive-blur-medium: calc(12px * var(--adaptive-scale));
    --adaptive-blur-strong: calc(20px * var(--adaptive-scale));
    --adaptive-blur-intense: calc(30px * var(--adaptive-scale));
    
    /* Performance tier indicators */
    --tier-thermal: 'normal'; /* normal, warm, hot, critical */
    --tier-battery: 'high'; /* high, medium, low, critical */
    --tier-memory: 'available'; /* available, limited, constrained, critical */
    --tier-network: 'fast'; /* fast, medium, slow, offline */
}

/* Thermal Performance Scaling */
.thermal-normal {
    --thermal-scale: 1.0;
}

.thermal-warm {
    --thermal-scale: 0.9;
    /* Reduce complex effects to prevent overheating */
    animation-duration: calc(var(--adaptive-duration-standard) * 1.2);
    backdrop-filter: blur(calc(var(--adaptive-blur-medium) * 0.8));
}

.thermal-hot {
    --thermal-scale: 0.7;
    /* Significantly reduce effects */
    animation-duration: calc(var(--adaptive-duration-standard) * 1.5);
    backdrop-filter: blur(calc(var(--adaptive-blur-light) * 0.8));
    transition-duration: 200ms;
}

.thermal-critical {
    --thermal-scale: 0.4;
    /* Minimal effects only */
    animation: none !important;
    backdrop-filter: blur(4px) !important;
    transition-duration: 300ms !important;
    transform: none !important;
}

/* Battery-Aware Performance Scaling */
.battery-high {
    --battery-scale: 1.0;
}

.battery-medium {
    --battery-scale: 0.85;
    /* Moderate power savings */
    animation-iteration-count: finite;
    animation-duration: calc(var(--adaptive-duration-standard) * 1.2);
}

.battery-low {
    --battery-scale: 0.6;
    /* Aggressive power savings */
    animation-duration: calc(var(--adaptive-duration-standard) * 1.8);
    backdrop-filter: blur(calc(var(--adaptive-blur-light) * 0.6));
    transition-duration: 250ms;
}

.battery-critical {
    --battery-scale: 0.3;
    /* Emergency power savings */
    animation: none !important;
    backdrop-filter: none !important;
    transition: opacity 0.1s ease !important;
    transform: none !important;
    will-change: auto !important;
}

/* Memory Pressure Scaling */
.memory-available {
    --memory-scale: 1.0;
}

.memory-limited {
    --memory-scale: 0.8;
    /* Reduce memory-intensive effects */
    contain: layout style;
    backdrop-filter: blur(calc(var(--adaptive-blur-medium) * 0.8));
}

.memory-constrained {
    --memory-scale: 0.5;
    /* Minimal memory usage */
    contain: strict;
    backdrop-filter: blur(6px);
    box-shadow: none;
    border: 1px solid rgba(255, 255, 255, 0.2);
}

.memory-critical {
    --memory-scale: 0.2;
    /* Emergency fallback */
    backdrop-filter: none !important;
    background: var(--bg-secondary) !important;
    border: 1px solid var(--text-secondary) !important;
    box-shadow: none !important;
    animation: none !important;
    transition: none !important;
}

/* Network-Aware Scaling */
.network-fast {
    --network-scale: 1.0;
}

.network-medium {
    --network-scale: 0.9;
    /* Slightly reduce preloading effects */
}

.network-slow {
    --network-scale: 0.7;
    /* Reduce network-dependent animations */
    animation-delay: calc(var(--animation-delay, 0s) * 1.5);
}

.network-offline {
    --network-scale: 0.6;
    /* Disable network-dependent features */
    opacity: 0.8;
    filter: grayscale(0.2);
}

/* User Preference Learning Scaling */
.user-performance-focused {
    --user-preference-scale: 1.2;
    /* Enhanced performance for users who prefer speed */
    animation-duration: calc(var(--adaptive-duration-fast) * 0.8);
    transition-duration: calc(var(--adaptive-duration-fast) * 0.8);
}

.user-beauty-focused {
    --user-preference-scale: 0.8;
    /* Enhanced visual quality for users who prefer aesthetics */
    backdrop-filter: blur(calc(var(--adaptive-blur-strong) * 1.2)) saturate(200%);
    animation-duration: calc(var(--adaptive-duration-medium) * 1.2);
}

.user-efficiency-focused {
    --user-preference-scale: 1.1;
    /* Balanced approach for productivity users */
    animation-duration: calc(var(--adaptive-duration-standard) * 0.9);
    backdrop-filter: blur(calc(var(--adaptive-blur-medium) * 1.1));
}

/* Progressive Enhancement Scaling */
.progressive-level-1 {
    /* Basic glass effects */
    backdrop-filter: blur(6px);
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.2);
    transition: all 150ms ease;
}

.progressive-level-2 {
    /* Enhanced glass effects */
    backdrop-filter: blur(10px) saturate(150%);
    background: var(--liquid-glass-bg-primary);
    border: var(--liquid-glass-border);
    transition: all 120ms var(--ease-apple-smooth);
    box-shadow: var(--liquid-glass-shadow-soft);
}

.progressive-level-3 {
    /* Advanced glass effects */
    backdrop-filter: var(--liquid-glass-blur-medium);
    background: var(--liquid-glass-bg-secondary);
    border: var(--liquid-glass-border-strong);
    transition: all 100ms var(--ease-apple-standard);
    box-shadow: var(--liquid-glass-shadow-medium);
}

.progressive-level-4 {
    /* Premium glass effects */
    backdrop-filter: var(--liquid-glass-blur-strong) saturate(180%);
    background: var(--liquid-glass-bg-tertiary);
    border: var(--liquid-glass-border-accent);
    transition: all 80ms var(--ease-apple-snappy);
    box-shadow: var(--liquid-glass-shadow-strong);
}

.progressive-level-5 {
    /* Ultra premium glass effects */
    backdrop-filter: var(--liquid-glass-blur-ultra) saturate(200%) contrast(105%);
    background: var(--liquid-glass-bg-accent);
    border: var(--liquid-glass-border-accent);
    transition: all 60ms var(--ease-apple-elastic);
    box-shadow: var(--liquid-glass-shadow-ultra);
    position: relative;
    overflow: hidden;
}

.progressive-level-5::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: var(--liquid-glass-highlight);
    opacity: 0;
    transition: opacity 40ms var(--ease-apple-precision);
    pointer-events: none;
}

.progressive-level-5:hover::before {
    opacity: 1;
}

/* Contextual Performance Scaling */
.context-homepage {
    /* Enhanced effects for homepage */
    --context-scale: 1.1;
    animation-duration: calc(var(--adaptive-duration-standard) * 0.9);
    backdrop-filter: blur(calc(var(--adaptive-blur-medium) * 1.1));
}

.context-portfolio {
    /* Balanced effects for portfolio pages */
    --context-scale: 1.0;
}

.context-blog {
    /* Reading-optimized effects */
    --context-scale: 0.9;
    backdrop-filter: blur(calc(var(--adaptive-blur-light) * 1.2));
    animation-duration: calc(var(--adaptive-duration-medium) * 1.1);
}

.context-gallery {
    /* Image-focused effects */
    --context-scale: 0.8;
    backdrop-filter: blur(calc(var(--adaptive-blur-strong) * 0.8));
    animation-duration: calc(var(--adaptive-duration-slow) * 1.2);
}

/* Adaptive Complexity Management */
.complexity-minimal {
    /* Minimal visual complexity */
    backdrop-filter: blur(4px);
    background: rgba(255, 255, 255, 0.08);
    border: 1px solid rgba(255, 255, 255, 0.15);
    transition: all 200ms ease;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.complexity-moderate {
    /* Moderate visual complexity */
    backdrop-filter: blur(8px) saturate(150%);
    background: var(--liquid-glass-bg-primary);
    border: var(--liquid-glass-border);
    transition: all 150ms var(--ease-apple-smooth);
    box-shadow: var(--liquid-glass-shadow-soft);
}

.complexity-rich {
    /* Rich visual complexity */
    backdrop-filter: var(--liquid-glass-blur-medium);
    background: var(--liquid-glass-bg-secondary);
    border: var(--liquid-glass-border-strong);
    transition: all 100ms var(--ease-apple-standard);
    box-shadow: var(--liquid-glass-shadow-medium);
}

.complexity-ultra {
    /* Ultra-rich visual complexity */
    backdrop-filter: var(--liquid-glass-blur-strong) saturate(180%) contrast(105%);
    background: var(--liquid-glass-bg-tertiary);
    border: var(--liquid-glass-border-accent);
    transition: all 80ms var(--ease-apple-snappy);
    box-shadow: var(--liquid-glass-shadow-strong);
    position: relative;
    overflow: hidden;
}

/* Adaptive Animation Quality */
.anim-quality-disabled {
    animation: none !important;
    transition: opacity 0.1s ease !important;
}

.anim-quality-minimal {
    animation-duration: 300ms !important;
    animation-timing-function: ease !important;
    transition-duration: 200ms !important;
    transition-timing-function: ease !important;
}

.anim-quality-standard {
    animation-duration: calc(var(--adaptive-duration-standard));
    animation-timing-function: var(--ease-apple-smooth);
    transition-duration: calc(var(--adaptive-duration-fast));
    transition-timing-function: var(--ease-apple-standard);
}

.anim-quality-enhanced {
    animation-duration: calc(var(--adaptive-duration-fast));
    animation-timing-function: var(--ease-apple-snappy);
    transition-duration: calc(var(--adaptive-duration-micro));
    transition-timing-function: var(--ease-apple-elastic);
}

/* Smart Performance Indicators */
.perf-indicator-thermal {
    position: fixed;
    top: 50px;
    left: 10px;
    width: 6px;
    height: 6px;
    border-radius: 50%;
    z-index: 9999;
    transition: all 0.3s ease;
}

.perf-indicator-thermal.normal { background: #10B981; }
.perf-indicator-thermal.warm { background: #F59E0B; }
.perf-indicator-thermal.hot { background: #EF4444; }
.perf-indicator-thermal.critical { background: #DC2626; animation: pulse 1s infinite; }

.perf-indicator-battery {
    position: fixed;
    top: 65px;
    left: 10px;
    width: 6px;
    height: 6px;
    border-radius: 50%;
    z-index: 9999;
    transition: all 0.3s ease;
}

.perf-indicator-battery.high { background: #10B981; }
.perf-indicator-battery.medium { background: #F59E0B; }
.perf-indicator-battery.low { background: #EF4444; }
.perf-indicator-battery.critical { background: #DC2626; animation: pulse 1s infinite; }

@keyframes pulse {
    0%, 100% { opacity: 1; transform: scale(1); }
    50% { opacity: 0.5; transform: scale(0.8); }
}

/* Emergency Performance Mode */
.emergency-performance {
    animation: none !important;
    backdrop-filter: none !important;
    background: var(--bg-secondary) !important;
    border: 1px solid var(--text-secondary) !important;
    box-shadow: none !important;
    transition: opacity 0.1s ease !important;
    transform: none !important;
    will-change: auto !important;
    contain: none !important;
}

/* ====== WEBGL ENHANCEMENTS FOR PREMIUM DEVICES ====== */
/* Phase 4.3: Hardware-Accelerated Glass Effects */

/* WebGL Canvas Integration */
.webgl-glass-container {
    position: relative;
    overflow: hidden;
    isolation: isolate;
}

.webgl-glass-canvas {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 1;
    opacity: 0;
    transition: opacity 1s ease;
    mix-blend-mode: screen;
}

.webgl-glass-canvas.active {
    opacity: 1;
}

.webgl-glass-content {
    position: relative;
    z-index: 2;
    background: transparent;
}

/* WebGL-Enhanced Glass Effects */
.webgl-enhanced-glass {
    position: relative;
    background: rgba(255, 255, 255, 0.05);
    backdrop-filter: blur(2px);
    -webkit-backdrop-filter: blur(2px);
    transition: all var(--timing-standard) var(--ease-apple-smooth);
}

.webgl-enhanced-glass.webgl-active {
    backdrop-filter: none;
    -webkit-backdrop-filter: none;
    background: transparent;
}

/* 3D Glass Transformations */
.glass-3d-transform {
    transform-style: preserve-3d;
    perspective: 1200px;
    transition: all var(--timing-medium) var(--ease-spring-gentle);
}

.glass-3d-transform:hover {
    transform: perspective(1200px) rotateY(2deg) rotateX(1deg) translateZ(5px);
}

/* Premium Particle Effect Containers */
.particle-glass-effect {
    position: relative;
    overflow: hidden;
}

.particle-glass-effect::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(45deg, 
                               transparent 40%, 
                               rgba(255, 255, 255, 0.1) 50%, 
                               transparent 60%);
    opacity: 0;
    transition: all var(--timing-fast) var(--ease-apple-snappy);
    pointer-events: none;
    z-index: 3;
}

.particle-glass-effect.particles-active::before {
    opacity: 0;
}

/* Real-Time Reflection Surfaces */
.reflection-glass-surface {
    position: relative;
    background: transparent;
    border: 1px solid rgba(255, 255, 255, 0.1);
    overflow: hidden;
}

.reflection-glass-surface::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(135deg, 
                               rgba(255, 255, 255, 0.2) 0%, 
                               transparent 50%, 
                               rgba(255, 255, 255, 0.1) 100%);
    opacity: 0;
    transition: opacity var(--timing-fast) var(--ease-apple-precision);
    pointer-events: none;
    z-index: 1;
}

.reflection-glass-surface.webgl-reflections-active::after {
    opacity: 0;
}

/* Advanced Shader-Based Glass */
.shader-glass-effect {
    position: relative;
    background: rgba(255, 255, 255, 0.08);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    border: 1px solid rgba(255, 255, 255, 0.2);
    transition: all var(--timing-standard) var(--ease-apple-smooth);
}

.shader-glass-effect.webgl-shaders-active {
    background: transparent;
    backdrop-filter: none;
    -webkit-backdrop-filter: none;
    border: 1px solid transparent;
}

/* Premium Device Optimizations */
.premium-webgl-enabled {
    /* Enhanced effects for premium devices */
    transform: translateZ(0);
    will-change: transform, opacity;
    backface-visibility: hidden;
}

.premium-webgl-enabled .glass-primary,
.premium-webgl-enabled .glass-secondary,
.premium-webgl-enabled .glass-accent {
    position: relative;
    z-index: 1;
}

/* WebGL Performance Indicators */
.webgl-performance-indicator {
    position: fixed;
    top: 80px;
    left: 10px;
    width: 6px;
    height: 6px;
    border-radius: 50%;
    z-index: 10000;
    opacity: 0;
    transition: opacity 0.3s ease;
}

.webgl-performance-indicator.webgl-disabled {
    background: #6B7280; /* Gray - WebGL disabled */
}

.webgl-performance-indicator.webgl-basic {
    background: #10B981; /* Green - Basic WebGL */
}

.webgl-performance-indicator.webgl-enhanced {
    background: #3B82F6; /* Blue - Enhanced WebGL */
}

.webgl-performance-indicator.webgl-premium {
    background: #8B5CF6; /* Purple - Premium WebGL */
}

.webgl-performance-indicator.show {
    opacity: 0.6;
}

/* WebGL Fallback States */
.webgl-fallback-active .webgl-enhanced-glass {
    backdrop-filter: var(--liquid-glass-blur-medium);
    -webkit-backdrop-filter: var(--liquid-glass-blur-medium);
    background: var(--liquid-glass-bg-primary);
    border: var(--liquid-glass-border);
}

.webgl-fallback-active .shader-glass-effect {
    backdrop-filter: var(--liquid-glass-blur-strong);
    -webkit-backdrop-filter: var(--liquid-glass-blur-strong);
    background: var(--liquid-glass-bg-secondary);
    border: var(--liquid-glass-border-strong);
}

.webgl-fallback-active .reflection-glass-surface::after {
    opacity: 0.6;
}

/* High-End Device Exclusive Effects */
@media (min-resolution: 2dppx) {
    .webgl-retina-enhanced {
        /* Enhanced effects for retina displays */
        filter: contrast(1.05) saturate(1.1);
    }
}

/* Performance-Gated WebGL Classes */
.webgl-tier-basic {
    /* Basic WebGL effects */
    --webgl-complexity: 0.5;
    --webgl-particle-count: 50;
    --webgl-shader-quality: 'low';
}

.webgl-tier-enhanced {
    /* Enhanced WebGL effects */
    --webgl-complexity: 0.8;
    --webgl-particle-count: 150;
    --webgl-shader-quality: 'medium';
}

.webgl-tier-premium {
    /* Premium WebGL effects */
    --webgl-complexity: 1.0;
    --webgl-particle-count: 300;
    --webgl-shader-quality: 'high';
}

/* Advanced Glass Morphing with WebGL Support */
.morphing-webgl-glass {
    position: relative;
    transform-style: preserve-3d;
    transition: all var(--timing-medium) var(--ease-spring-gentle);
}

.morphing-webgl-glass:hover {
    transform: perspective(1000px) rotateY(3deg) rotateX(2deg) scale(1.02);
}

.morphing-webgl-glass.webgl-morphing-active {
    /* WebGL takes over morphing */
    transform: none;
    transition: none;
}

/* Depth-Based Glass Layers */
.depth-glass-layer-1 {
    z-index: 10;
    transform: translateZ(5px);
}

.depth-glass-layer-2 {
    z-index: 20;
    transform: translateZ(10px);
}

.depth-glass-layer-3 {
    z-index: 30;
    transform: translateZ(15px);
}

.depth-glass-layer-4 {
    z-index: 40;
    transform: translateZ(20px);
}

/* Real-Time Lighting Effects */
.dynamic-lighting-glass {
    position: relative;
    background: rgba(255, 255, 255, 0.1);
    transition: all var(--timing-fast) var(--ease-apple-precision);
}

.dynamic-lighting-glass::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: radial-gradient(circle at var(--light-x, 50%) var(--light-y, 50%), 
                               rgba(255, 255, 255, 0.3) 0%, 
                               transparent 60%);
    opacity: 0;
    transition: opacity var(--timing-fast) var(--ease-apple-linear);
    pointer-events: none;
    z-index: 1;
}

.dynamic-lighting-glass.lighting-active::before {
    opacity: 1;
}

.dynamic-lighting-glass.webgl-lighting-active::before {
    opacity: 0;
}

/* WebGL Canvas Positioning */
.webgl-overlay-canvas {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    pointer-events: none;
    z-index: 5;
    mix-blend-mode: screen;
    opacity: 0;
    transition: opacity 1s ease;
}

.webgl-overlay-canvas.active {
    opacity: 0.8;
}

/* Emergency WebGL Disable */
.webgl-emergency-disable .webgl-enhanced-glass,
.webgl-emergency-disable .shader-glass-effect,
.webgl-emergency-disable .morphing-webgl-glass {
    backdrop-filter: blur(4px) !important;
    -webkit-backdrop-filter: blur(4px) !important;
    background: rgba(255, 255, 255, 0.1) !important;
    border: 1px solid rgba(255, 255, 255, 0.2) !important;
    transform: none !important;
    transition: all 0.2s ease !important;
}

.webgl-emergency-disable .webgl-glass-canvas,
.webgl-emergency-disable .webgl-overlay-canvas {
    display: none !important;
}

/* Accessibility: Respect reduced motion preferences */
@media (prefers-reduced-motion: reduce) {
    .glass-3d-transform,
    .morphing-webgl-glass {
        transform: none !important;
        transition: opacity 0.2s ease !important;
    }
    
    .webgl-glass-canvas,
    .webgl-overlay-canvas {
        animation: none !important;
    }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
    .webgl-enhanced-glass,
    .shader-glass-effect {
        backdrop-filter: none !important;
        -webkit-backdrop-filter: none !important;
        background: var(--bg-secondary) !important;
        border: 2px solid var(--text-primary) !important;
    }
    
    .webgl-glass-canvas,
    .webgl-overlay-canvas {
        display: none !important;
    }
}

/* ====== FINAL POLISH AND CROSS-BROWSER TESTING ====== */
/* Phase 4.4: Comprehensive Compatibility, Performance, and Accessibility */

/* Advanced Cross-Browser Compatibility */

/* Firefox-specific optimizations */
@-moz-document url-prefix() {
    .glass-primary,
    .glass-secondary,
    .glass-accent,
    .glass-tertiary {
        /* Firefox backdrop-filter is disabled by default */
        background: rgba(255, 255, 255, 0.15) !important;
        border: 2px solid rgba(255, 255, 255, 0.3) !important;
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15) !important;
    }
    
    /* Enhanced borders for Firefox */
    .webgl-enhanced-glass,
    .shader-glass-effect {
        background: rgba(255, 255, 255, 0.12) !important;
        border: 2px solid rgba(255, 255, 255, 0.25) !important;
    }
}

/* Safari-specific optimizations */
@supports (-webkit-backdrop-filter: blur(1px)) {
    .safari-enhanced {
        -webkit-backdrop-filter: var(--liquid-glass-blur-medium) saturate(180%);
        backdrop-filter: var(--liquid-glass-blur-medium) saturate(180%);
    }
    
    /* Safari WebKit optimizations */
    .glass-primary,
    .glass-secondary,
    .glass-accent {
        -webkit-transform: translateZ(0);
        -webkit-backface-visibility: hidden;
        -webkit-perspective: 1000px;
    }
}

/* Edge/Chromium-specific optimizations */
@supports (backdrop-filter: blur(1px)) and (not (-webkit-backdrop-filter: blur(1px))) {
    .edge-optimized {
        /* Edge-specific glass enhancements */
        backdrop-filter: var(--liquid-glass-blur-medium) contrast(105%);
    }
}

/* Internet Explorer fallbacks (if needed) */
@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {
    .glass-primary,
    .glass-secondary,
    .glass-accent,
    .glass-tertiary {
        background: var(--bg-secondary) !important;
        border: 2px solid rgba(255, 255, 255, 0.4) !important;
        box-shadow: 0 4px 16px rgba(0, 0, 0, 0.3) !important;
        filter: none !important;
        backdrop-filter: none !important;
        -webkit-backdrop-filter: none !important;
    }
}

/* Comprehensive Accessibility Enhancements */

/* Motion sensitivity - Complete disable */
@media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        transform: none !important;
    }
    
    .webgl-glass-canvas,
    .webgl-overlay-canvas {
        display: none !important;
    }
    
    .page-transition-overlay {
        display: none !important;
    }
    
    .performance-indicator,
    .webgl-performance-indicator {
        animation: none !important;
    }
}

/* High contrast mode - Complete support */
@media (prefers-contrast: high) {
    .glass-primary,
    .glass-secondary,
    .glass-accent,
    .glass-tertiary,
    .webgl-enhanced-glass,
    .shader-glass-effect {
        backdrop-filter: none !important;
        -webkit-backdrop-filter: none !important;
        background: var(--bg-content) !important;
        border: 3px solid var(--text-primary) !important;
        box-shadow: 0 0 0 2px var(--accent-red) !important;
    }
    
    .button-glass,
    .project-link {
        background: var(--accent-red) !important;
        color: var(--bg-primary) !important;
        border: 2px solid var(--text-primary) !important;
    }
    
    .nav-links a:hover,
    .nav-links a:focus {
        background: var(--accent-red) !important;
        color: var(--bg-primary) !important;
        outline: 3px solid var(--text-primary) !important;
    }
}

/* Reduced transparency support */
@media (prefers-reduced-transparency: reduce) {
    .glass-primary,
    .glass-secondary,
    .glass-accent,
    .glass-tertiary {
        backdrop-filter: none !important;
        -webkit-backdrop-filter: none !important;
        background: var(--bg-content) !important;
        opacity: 1 !important;
    }
    
    .webgl-glass-canvas,
    .webgl-overlay-canvas {
        opacity: 0 !important;
    }
}

/* Color blindness support */
@media (prefers-color-scheme: dark) {
    .accessibility-enhanced {
        /* Enhanced contrast for dark mode */
        filter: contrast(1.1) brightness(1.05);
    }
}

/* Focus management enhancements */
.focus-visible {
    outline: 3px solid var(--accent-red) !important;
    outline-offset: 2px !important;
    border-radius: var(--border-radius) !important;
}

.focus-visible.glass-primary,
.focus-visible.glass-secondary {
    backdrop-filter: var(--liquid-glass-blur-strong) !important;
    -webkit-backdrop-filter: var(--liquid-glass-blur-strong) !important;
    background: rgba(var(--page-accent-rgb), 0.2) !important;
}

/* Screen reader optimizations */
.sr-only {
    position: absolute !important;
    width: 1px !important;
    height: 1px !important;
    padding: 0 !important;
    margin: -1px !important;
    overflow: hidden !important;
    clip: rect(0, 0, 0, 0) !important;
    white-space: nowrap !important;
    border: 0 !important;
}

/* Performance optimization classes */
.perf-optimized {
    contain: layout style paint;
    will-change: auto;
    transform: translateZ(0);
    backface-visibility: hidden;
}

.perf-critical {
    contain: strict;
    content-visibility: auto;
    contain-intrinsic-size: 0 500px;
}

/* Low-end device optimizations */
@media (max-width: 768px) and (max-resolution: 1dppx) {
    .mobile-optimized {
        backdrop-filter: blur(4px) !important;
        -webkit-backdrop-filter: blur(4px) !important;
        animation-duration: 200ms !important;
        transition-duration: 150ms !important;
    }
    
    .webgl-glass-canvas,
    .particle-glass-effect,
    .advanced-glass-effect {
        display: none !important;
    }
}

/* Print media optimizations */
@media print {
    .glass-primary,
    .glass-secondary,
    .glass-accent,
    .glass-tertiary {
        backdrop-filter: none !important;
        -webkit-backdrop-filter: none !important;
        background: white !important;
        border: 1px solid black !important;
        box-shadow: none !important;
        color: black !important;
    }
    
    .webgl-glass-canvas,
    .webgl-overlay-canvas,
    .performance-indicator,
    .webgl-performance-indicator {
        display: none !important;
    }
    
    .page-transition-overlay {
        display: none !important;
    }
}

/* Error state styling */
.glass-error-state {
    background: rgba(220, 38, 38, 0.1) !important;
    border: 2px solid rgba(220, 38, 38, 0.5) !important;
    backdrop-filter: blur(4px) !important;
    -webkit-backdrop-filter: blur(4px) !important;
    position: relative;
}

.glass-error-state::before {
    content: '⚠️ Performance Issue';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: rgba(220, 38, 38, 0.9);
    color: white;
    padding: 0.5rem 1rem;
    border-radius: var(--border-radius);
    font-size: var(--font-size-sm);
    z-index: 1000;
    opacity: 0;
    animation: errorPulse 2s ease-in-out infinite;
}

@keyframes errorPulse {
    0%, 100% { opacity: 0; }
    50% { opacity: 1; }
}

/* Debug mode styling */
.debug-mode .glass-primary,
.debug-mode .glass-secondary {
    position: relative;
}

.debug-mode .glass-primary::after,
.debug-mode .glass-secondary::after {
    content: attr(class);
    position: absolute;
    top: 0;
    left: 0;
    background: rgba(0, 255, 0, 0.8);
    color: black;
    font-size: 10px;
    padding: 2px 4px;
    border-radius: 2px;
    z-index: 10000;
    pointer-events: none;
    font-family: monospace;
}

/* Performance monitoring indicators */
.performance-monitor {
    position: fixed;
    top: 10px;
    right: 10px;
    display: flex;
    flex-direction: column;
    gap: 5px;
    z-index: 10000;
    font-family: monospace;
    font-size: 10px;
    opacity: 0;
    transition: opacity 0.3s ease;
}

.performance-monitor.show {
    opacity: 1;
}

.perf-metric {
    background: rgba(0, 0, 0, 0.8);
    color: white;
    padding: 2px 6px;
    border-radius: 3px;
    white-space: nowrap;
}

.perf-metric.good { border-left: 3px solid #10B981; }
.perf-metric.warning { border-left: 3px solid #F59E0B; }
.perf-metric.error { border-left: 3px solid #EF4444; }

/* Comprehensive fallback system */
.fallback-mode {
    /* Complete fallback to basic styling */
    background: var(--bg-secondary) !important;
    border: 1px solid rgba(255, 255, 255, 0.2) !important;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15) !important;
    backdrop-filter: none !important;
    -webkit-backdrop-filter: none !important;
    animation: none !important;
    transition: opacity 0.2s ease, transform 0.2s ease !important;
    transform: none !important;
}

/* Browser feature detection */
.supports-backdrop-filter {
    /* Enhanced effects for supporting browsers */
}

.no-backdrop-filter {
    /* Fallback effects for non-supporting browsers */
    background: rgba(255, 255, 255, 0.95) !important;
    border: 2px solid rgba(255, 255, 255, 0.4) !important;
}

.supports-webgl {
    /* WebGL-enhanced effects */
}

.no-webgl {
    /* CSS-only effects */
    backdrop-filter: var(--liquid-glass-blur-medium) !important;
    -webkit-backdrop-filter: var(--liquid-glass-blur-medium) !important;
}

/* Memory leak prevention */
.memory-optimized {
    contain: layout style;
    will-change: auto;
}

.memory-optimized:hover {
    will-change: transform, opacity;
}

.memory-optimized:not(:hover) {
    will-change: auto;
}

/* Critical performance path */
.critical-path {
    /* Highest priority for rendering */
    contain: layout style paint;
    transform: translateZ(0);
    backface-visibility: hidden;
    perspective: 1000px;
    isolation: isolate;
}

/* Network-aware optimizations */
.slow-connection .webgl-glass-canvas,
.slow-connection .particle-glass-effect {
    display: none !important;
}

.slow-connection .glass-primary,
.slow-connection .glass-secondary {
    backdrop-filter: blur(6px) !important;
    -webkit-backdrop-filter: blur(6px) !important;
    transition-duration: 300ms !important;
}

/* Battery optimization */
.low-battery .webgl-glass-canvas,
.low-battery .advanced-glass-effect {
    display: none !important;
}

.low-battery .glass-primary {
    backdrop-filter: blur(4px) !important;
    -webkit-backdrop-filter: blur(4px) !important;
    animation: none !important;
}

/* Final comprehensive error recovery */
.system-error {
    /* Emergency fallback state */
    background: var(--bg-primary) !important;
    border: 1px solid var(--text-secondary) !important;
    box-shadow: none !important;
    backdrop-filter: none !important;
    -webkit-backdrop-filter: none !important;
    animation: none !important;
    transition: none !important;
    transform: none !important;
    opacity: 1 !important;
    contain: none !important;
    will-change: auto !important;
    isolation: auto !important;
    mix-blend-mode: normal !important;
    filter: none !important;
}

/* ====== CROSS-BROWSER COMPATIBILITY ====== */

/* Legacy browser support */
.no-js .glass-primary,
.no-js .glass-secondary {
    background: var(--bg-secondary);
    border: 1px solid rgba(255, 255, 255, 0.3);
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);
}

/* Feature detection classes */
.supports-grid {
    /* Modern grid-supporting browsers */
}

.no-grid {
    /* Flexbox fallback */
    display: flex;
    flex-wrap: wrap;
}

.supports-custom-properties {
    /* CSS custom properties supported */
}

.no-custom-properties {
    /* Static fallback values */
    background: rgba(255, 255, 255, 0.15);
    border: 1px solid rgba(255, 255, 255, 0.25);
}

/* Browser-specific hacks */
_:-ms-fullscreen, :root .ie-hack {
    /* Internet Explorer specific */
    background: #2a2a2a;
    border: 1px solid #555;
}

@supports (-moz-appearance: none) {
    /* Firefox specific */
    .firefox-hack {
        background: rgba(255, 255, 255, 0.12);
    }
}

/* Final safety net */
* {
    /* Prevent common issues */
    box-sizing: border-box;
    max-width: 100%;
}

img {
    height: auto;
    max-width: 100%;
}

button {
    cursor: pointer;
    border: none;
    background: none;
    padding: 0;
    margin: 0;
}

a {
    text-decoration: none;
    color: inherit;
}

a:focus,
button:focus,
input:focus,
textarea:focus,
select:focus {
    outline: 2px solid var(--accent-red);
    outline-offset: 2px;
}

/* ====== PHASE 5: REVOLUTIONARY AI-POWERED INTERFACE ====== */
/* Phase 5.1: AI-Powered Dynamic Interface Adaptation with Machine Learning */

/* AI-Driven Dynamic Variables */
:root {
    /* AI Learning System Variables */
    --ai-learning-rate: 0.1;
    --ai-adaptation-speed: 1.0;
    --ai-confidence-threshold: 0.7;
    --ai-neural-complexity: 0.5;
    --ai-pattern-strength: 0.0;
    
    /* Dynamic Interface Morphing */
    --ai-morph-intensity: 0.0;
    --ai-color-adaptation: 0deg;
    --ai-spatial-adaptation: 1.0;
    --ai-timing-adaptation: 1.0;
    --ai-complexity-adaptation: 1.0;
    
    /* Behavioral Pattern Recognition */
    --ai-user-energy: 0.5; /* 0-1 scale */
    --ai-user-focus: 0.5; /* 0-1 scale */
    --ai-user-stress: 0.0; /* 0-1 scale */
    --ai-user-creativity: 0.5; /* 0-1 scale */
    --ai-user-efficiency: 0.5; /* 0-1 scale */
    
    /* Neural Network Simulation */
    --ai-layer-1-activation: 0.0;
    --ai-layer-2-activation: 0.0;
    --ai-layer-3-activation: 0.0;
    --ai-output-confidence: 0.0;
    
    /* Evolutionary Algorithm Variables */
    --ai-generation: 1;
    --ai-fitness-score: 0.5;
    --ai-mutation-rate: 0.05;
    --ai-crossover-probability: 0.8;
}

/* AI-Powered Adaptive Glass System */
.ai-adaptive-glass {
    background: rgba(255, 255, 255, calc(0.1 + var(--ai-pattern-strength) * 0.1));
    backdrop-filter: blur(calc(8px + var(--ai-neural-complexity) * 12px)) 
                    saturate(calc(150% + var(--ai-user-energy) * 50%)) 
                    hue-rotate(var(--ai-color-adaptation));
    -webkit-backdrop-filter: blur(calc(8px + var(--ai-neural-complexity) * 12px)) 
                            saturate(calc(150% + var(--ai-user-energy) * 50%)) 
                            hue-rotate(var(--ai-color-adaptation));
    border: 1px solid rgba(255, 255, 255, calc(0.2 + var(--ai-confidence-threshold) * 0.2));
    border-radius: calc(var(--border-radius-lg) * var(--ai-spatial-adaptation));
    transition: all calc(var(--timing-standard) / var(--ai-timing-adaptation)) 
                var(--ease-apple-elastic);
    transform: scale(calc(1 + var(--ai-morph-intensity) * 0.02));
    box-shadow: 0 calc(4px * var(--ai-complexity-adaptation)) 
                  calc(16px * var(--ai-complexity-adaptation)) 
                  rgba(0, 0, 0, calc(0.1 + var(--ai-user-stress) * 0.15));
}

.ai-adaptive-glass:hover {
    backdrop-filter: blur(calc(12px + var(--ai-neural-complexity) * 18px)) 
                    saturate(calc(180% + var(--ai-user-energy) * 60%)) 
                    hue-rotate(calc(var(--ai-color-adaptation) + 5deg));
    -webkit-backdrop-filter: blur(calc(12px + var(--ai-neural-complexity) * 18px)) 
                            saturate(calc(180% + var(--ai-user-energy) * 60%)) 
                            hue-rotate(calc(var(--ai-color-adaptation) + 5deg));
    transform: scale(calc(1.02 + var(--ai-morph-intensity) * 0.03)) 
               translateY(calc(-2px * var(--ai-spatial-adaptation)));
}

/* Neural Network Visual Representation */
.ai-neural-visualization {
    position: relative;
    overflow: hidden;
}

.ai-neural-visualization::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: 
        radial-gradient(circle at 20% 30%, 
                       rgba(var(--page-accent-rgb), calc(var(--ai-layer-1-activation) * 0.3)) 0%, 
                       transparent 50%),
        radial-gradient(circle at 80% 20%, 
                       rgba(var(--page-accent-rgb), calc(var(--ai-layer-2-activation) * 0.3)) 0%, 
                       transparent 50%),
        radial-gradient(circle at 50% 80%, 
                       rgba(var(--page-accent-rgb), calc(var(--ai-layer-3-activation) * 0.3)) 0%, 
                       transparent 50%);
    opacity: var(--ai-output-confidence);
    animation: neuralPulse calc(2s / var(--ai-adaptation-speed)) ease-in-out infinite;
    pointer-events: none;
    z-index: 1;
}

@keyframes neuralPulse {
    0%, 100% {
        opacity: var(--ai-output-confidence);
        transform: scale(1);
    }
    25% {
        opacity: calc(var(--ai-output-confidence) * 0.7);
        transform: scale(1.02);
    }
    50% {
        opacity: calc(var(--ai-output-confidence) * 1.3);
        transform: scale(0.98);
    }
    75% {
        opacity: calc(var(--ai-output-confidence) * 0.9);
        transform: scale(1.01);
    }
}

/* Behavioral Pattern Responsive Classes */
.ai-high-energy {
    /* User showing high energy - more vibrant effects */
    animation-duration: calc(var(--timing-fast) * 0.8);
    backdrop-filter: blur(calc(var(--adaptive-blur-strong) * 1.2)) saturate(200%) brightness(110%);
    -webkit-backdrop-filter: blur(calc(var(--adaptive-blur-strong) * 1.2)) saturate(200%) brightness(110%);
}

.ai-low-energy {
    /* User showing low energy - calmer effects */
    animation-duration: calc(var(--timing-slower) * 1.3);
    backdrop-filter: blur(var(--adaptive-blur-light)) saturate(140%) brightness(95%);
    -webkit-backdrop-filter: blur(var(--adaptive-blur-light)) saturate(140%) brightness(95%);
    opacity: 0.9;
}

.ai-high-focus {
    /* User in focused state - minimal distractions */
    backdrop-filter: blur(var(--adaptive-blur-medium)) saturate(160%);
    -webkit-backdrop-filter: blur(var(--adaptive-blur-medium)) saturate(160%);
    animation: none;
    transition-duration: var(--timing-fast);
}

.ai-high-stress {
    /* User showing stress - soothing effects */
    backdrop-filter: blur(calc(var(--adaptive-blur-medium) * 1.5)) saturate(120%) hue-rotate(10deg);
    -webkit-backdrop-filter: blur(calc(var(--adaptive-blur-medium) * 1.5)) saturate(120%) hue-rotate(10deg);
    animation-duration: calc(var(--timing-slower) * 1.5);
    border-radius: calc(var(--border-radius-lg) * 1.3);
}

.ai-creative-mode {
    /* User in creative state - inspiring effects */
    backdrop-filter: blur(var(--adaptive-blur-strong)) saturate(220%) hue-rotate(var(--ai-color-adaptation));
    -webkit-backdrop-filter: blur(var(--adaptive-blur-strong)) saturate(220%) hue-rotate(var(--ai-color-adaptation));
    animation: creativeBreathing calc(4s / var(--ai-adaptation-speed)) ease-in-out infinite;
}

@keyframes creativeBreathing {
    0%, 100% {
        backdrop-filter: blur(var(--adaptive-blur-strong)) saturate(220%) hue-rotate(var(--ai-color-adaptation));
        transform: scale(1);
    }
    50% {
        backdrop-filter: blur(calc(var(--adaptive-blur-strong) * 1.2)) saturate(250%) hue-rotate(calc(var(--ai-color-adaptation) + 15deg));
        transform: scale(1.01);
    }
}

.ai-efficiency-mode {
    /* User optimizing for efficiency - streamlined effects */
    backdrop-filter: blur(var(--adaptive-blur-light)) saturate(150%);
    -webkit-backdrop-filter: blur(var(--adaptive-blur-light)) saturate(150%);
    transition-duration: calc(var(--timing-fast) * 0.7);
    animation: none;
    border-radius: var(--border-radius);
}

/* AI Learning Progress Indicators */
.ai-learning-indicator {
    position: fixed;
    top: 95px;
    left: 10px;
    width: 6px;
    height: calc(6px + var(--ai-learning-rate) * 20px);
    background: linear-gradient(180deg, 
                               rgba(var(--page-accent-rgb), 1) 0%, 
                               rgba(var(--page-accent-rgb), calc(var(--ai-confidence-threshold))) 50%, 
                               transparent 100%);
    border-radius: 3px;
    z-index: 10000;
    opacity: 0;
    transition: all 0.5s ease;
    box-shadow: 0 0 calc(10px * var(--ai-pattern-strength)) rgba(var(--page-accent-rgb), 0.6);
}

.ai-learning-indicator.active {
    opacity: 0.8;
    animation: aiLearningPulse calc(1s / var(--ai-adaptation-speed)) ease-in-out infinite;
}

@keyframes aiLearningPulse {
    0%, 100% {
        transform: scaleY(1);
        box-shadow: 0 0 calc(10px * var(--ai-pattern-strength)) rgba(var(--page-accent-rgb), 0.6);
    }
    50% {
        transform: scaleY(calc(1 + var(--ai-neural-complexity) * 0.5));
        box-shadow: 0 0 calc(20px * var(--ai-pattern-strength)) rgba(var(--page-accent-rgb), 0.8);
    }
}

/* Evolutionary Interface Generations */
.ai-generation-1 {
    /* Basic AI adaptation */
    --ai-complexity-adaptation: 0.5;
    backdrop-filter: blur(8px) saturate(150%);
    -webkit-backdrop-filter: blur(8px) saturate(150%);
}

.ai-generation-2 {
    /* Intermediate AI adaptation */
    --ai-complexity-adaptation: 0.7;
    backdrop-filter: blur(10px) saturate(170%);
    -webkit-backdrop-filter: blur(10px) saturate(170%);
}

.ai-generation-3 {
    /* Advanced AI adaptation */
    --ai-complexity-adaptation: 0.9;
    backdrop-filter: blur(12px) saturate(190%);
    -webkit-backdrop-filter: blur(12px) saturate(190%);
}

.ai-generation-4 {
    /* Evolved AI adaptation */
    --ai-complexity-adaptation: 1.1;
    backdrop-filter: blur(15px) saturate(210%) contrast(105%);
    -webkit-backdrop-filter: blur(15px) saturate(210%) contrast(105%);
}

.ai-generation-5 {
    /* Revolutionary AI adaptation */
    --ai-complexity-adaptation: 1.3;
    backdrop-filter: blur(18px) saturate(230%) contrast(110%) hue-rotate(5deg);
    -webkit-backdrop-filter: blur(18px) saturate(230%) contrast(110%) hue-rotate(5deg);
    position: relative;
    overflow: hidden;
}

.ai-generation-5::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: conic-gradient(from var(--ai-color-adaptation) at 50% 50%,
                              rgba(255, 255, 255, 0.1) 0deg,
                              transparent 60deg,
                              rgba(255, 255, 255, 0.05) 120deg,
                              transparent 180deg,
                              rgba(255, 255, 255, 0.1) 240deg,
                              transparent 300deg,
                              rgba(255, 255, 255, 0.1) 360deg);
    opacity: var(--ai-output-confidence);
    animation: revolutionaryRotate calc(8s / var(--ai-adaptation-speed)) linear infinite;
    pointer-events: none;
    z-index: 1;
}

@keyframes revolutionaryRotate {
    0% {
        transform: rotate(0deg);
        filter: hue-rotate(0deg);
    }
    50% {
        transform: rotate(180deg);
        filter: hue-rotate(10deg);
    }
    100% {
        transform: rotate(360deg);
        filter: hue-rotate(0deg);
    }
}

/* Predictive Interface Morphing */
.ai-predictive-morph {
    transition: all calc(var(--timing-standard) * var(--ai-adaptation-speed)) 
                cubic-bezier(calc(0.25 + var(--ai-neural-complexity) * 0.2), 
                           calc(0.46 + var(--ai-pattern-strength) * 0.3), 
                           calc(0.45 - var(--ai-user-stress) * 0.2), 
                           calc(0.94 + var(--ai-confidence-threshold) * 0.06));
}

.ai-predictive-morph.predicted-hover {
    /* AI predicts user will hover - pre-animate */
    backdrop-filter: blur(calc(var(--adaptive-blur-medium) * 1.1)) saturate(calc(160% + var(--ai-user-energy) * 20%));
    -webkit-backdrop-filter: blur(calc(var(--adaptive-blur-medium) * 1.1)) saturate(calc(160% + var(--ai-user-energy) * 20%));
    transform: translateY(calc(-1px * var(--ai-spatial-adaptation)));
    opacity: calc(1 + var(--ai-morph-intensity) * 0.1);
}

.ai-predictive-morph.predicted-click {
    /* AI predicts user will click - prepare for interaction */
    backdrop-filter: blur(calc(var(--adaptive-blur-strong) * 0.9)) saturate(calc(180% + var(--ai-user-energy) * 30%));
    -webkit-backdrop-filter: blur(calc(var(--adaptive-blur-strong) * 0.9)) saturate(calc(180% + var(--ai-user-energy) * 30%));
    transform: scale(calc(1.01 + var(--ai-morph-intensity) * 0.02));
    border: 2px solid rgba(var(--page-accent-rgb), calc(0.3 + var(--ai-confidence-threshold) * 0.3));
}

/* Dynamic Content Adaptation */
.ai-content-aware {
    /* AI adapts based on content type and user context */
    backdrop-filter: blur(calc(var(--adaptive-blur-medium) * var(--ai-complexity-adaptation))) 
                    saturate(calc(150% + var(--ai-user-creativity) * 50%)) 
                    brightness(calc(100% + var(--ai-user-energy) * 10%));
    -webkit-backdrop-filter: blur(calc(var(--adaptive-blur-medium) * var(--ai-complexity-adaptation))) 
                            saturate(calc(150% + var(--ai-user-creativity) * 50%)) 
                            brightness(calc(100% + var(--ai-user-energy) * 10%));
}

.ai-content-aware[data-content="text"] {
    /* Optimized for reading */
    backdrop-filter: blur(calc(var(--adaptive-blur-light) * (1 + var(--ai-user-focus) * 0.5))) saturate(140%);
    -webkit-backdrop-filter: blur(calc(var(--adaptive-blur-light) * (1 + var(--ai-user-focus) * 0.5))) saturate(140%);
}

.ai-content-aware[data-content="media"] {
    /* Optimized for visual content */
    backdrop-filter: blur(calc(var(--adaptive-blur-strong) * (1 - var(--ai-user-focus) * 0.3))) saturate(calc(200% + var(--ai-user-creativity) * 50%));
    -webkit-backdrop-filter: blur(calc(var(--adaptive-blur-strong) * (1 - var(--ai-user-focus) * 0.3))) saturate(calc(200% + var(--ai-user-creativity) * 50%));
}

.ai-content-aware[data-content="interactive"] {
    /* Optimized for interaction */
    backdrop-filter: blur(calc(var(--adaptive-blur-medium) * (1 + var(--ai-user-efficiency) * 0.3))) saturate(calc(170% + var(--ai-user-energy) * 30%));
    -webkit-backdrop-filter: blur(calc(var(--adaptive-blur-medium) * (1 + var(--ai-user-efficiency) * 0.3))) saturate(calc(170% + var(--ai-user-energy) * 30%));
}

/* AI Confidence Visualization */
.ai-confidence-indicator {
    position: relative;
}

.ai-confidence-indicator::before {
    content: '';
    position: absolute;
    top: -2px;
    left: -2px;
    right: -2px;
    bottom: -2px;
    background: linear-gradient(45deg, 
                               rgba(var(--page-accent-rgb), calc(var(--ai-confidence-threshold) * 0.3)) 0%, 
                               transparent 50%, 
                               rgba(var(--page-accent-rgb), calc(var(--ai-confidence-threshold) * 0.2)) 100%);
    border-radius: inherit;
    opacity: var(--ai-output-confidence);
    z-index: -1;
    animation: confidencePulse calc(3s / var(--ai-adaptation-speed)) ease-in-out infinite;
}

@keyframes confidencePulse {
    0%, 100% {
        opacity: var(--ai-output-confidence);
        transform: scale(1);
    }
    50% {
        opacity: calc(var(--ai-output-confidence) * 1.5);
        transform: scale(1.02);
    }
}

/* Machine Learning Progress Classes */
.ai-learning-phase-1 {
    /* Data collection phase */
    backdrop-filter: blur(6px) saturate(130%);
    -webkit-backdrop-filter: blur(6px) saturate(130%);
    animation: learningPhase1 4s ease-in-out infinite;
}

.ai-learning-phase-2 {
    /* Pattern recognition phase */
    backdrop-filter: blur(8px) saturate(150%);
    -webkit-backdrop-filter: blur(8px) saturate(150%);
    animation: learningPhase2 3s ease-in-out infinite;
}

.ai-learning-phase-3 {
    /* Adaptation phase */
    backdrop-filter: blur(10px) saturate(170%);
    -webkit-backdrop-filter: blur(10px) saturate(170%);
    animation: learningPhase3 2s ease-in-out infinite;
}

.ai-learning-phase-4 {
    /* Optimization phase */
    backdrop-filter: blur(12px) saturate(190%) contrast(102%);
    -webkit-backdrop-filter: blur(12px) saturate(190%) contrast(102%);
    animation: learningPhase4 1.5s ease-in-out infinite;
}

@keyframes learningPhase1 {
    0%, 100% { filter: brightness(100%); }
    50% { filter: brightness(102%); }
}

@keyframes learningPhase2 {
    0%, 100% { filter: brightness(100%) hue-rotate(0deg); }
    50% { filter: brightness(103%) hue-rotate(2deg); }
}

@keyframes learningPhase3 {
    0%, 100% { filter: brightness(100%) hue-rotate(0deg); }
    50% { filter: brightness(105%) hue-rotate(3deg); }
}

@keyframes learningPhase4 {
    0%, 100% { filter: brightness(100%) hue-rotate(0deg) saturate(100%); }
    50% { filter: brightness(107%) hue-rotate(5deg) saturate(110%); }
}

/* Emergency AI Override */
.ai-emergency-override {
    /* AI detects critical situation - safety mode */
    backdrop-filter: blur(4px) saturate(100%) !important;
    -webkit-backdrop-filter: blur(4px) saturate(100%) !important;
    background: rgba(220, 38, 38, 0.1) !important;
    border: 2px solid rgba(220, 38, 38, 0.5) !important;
    animation: emergencyPulse 1s ease-in-out infinite !important;
    transition: all 0.1s ease !important;
}

@keyframes emergencyPulse {
    0%, 100% {
        border-color: rgba(220, 38, 38, 0.5);
        box-shadow: 0 0 0 0 rgba(220, 38, 38, 0.4);
    }
    50% {
        border-color: rgba(220, 38, 38, 0.8);
        box-shadow: 0 0 0 4px rgba(220, 38, 38, 0.2);
    }
}

/* ====== PHASE 5.2: ADVANCED BIOMETRIC INTEGRATION ====== */
/* Revolutionary Stress-Responsive UI with Physiological Monitoring */

/* Biometric System Variables */
:root {
    /* Heart Rate Variability (HRV) */
    --bio-heart-rate: 70; /* BPM */
    --bio-hrv-score: 0.5; /* 0-1 normalized */
    --bio-heart-coherence: 0.5; /* 0-1 coherence measure */
    --bio-stress-level: 0.0; /* 0-1 stress indicator */
    
    /* Respiratory Parameters */
    --bio-breathing-rate: 15; /* Breaths per minute */
    --bio-breathing-depth: 0.5; /* 0-1 normalized */
    --bio-breathing-rhythm: 0.5; /* 0-1 regularity */
    --bio-oxygen-saturation: 0.98; /* 0-1 estimated */
    
    /* Neurological Indicators */
    --bio-focus-level: 0.5; /* 0-1 concentration */
    --bio-cognitive-load: 0.3; /* 0-1 mental workload */
    --bio-attention-span: 0.7; /* 0-1 sustained attention */
    --bio-mental-fatigue: 0.0; /* 0-1 fatigue level */
    
    /* Facial Expression Analysis */
    --bio-facial-stress: 0.0; /* 0-1 stress indicators */
    --bio-eye-strain: 0.0; /* 0-1 digital eye strain */
    --bio-blink-rate: 15; /* Blinks per minute */
    --bio-micro-expressions: 0.0; /* 0-1 emotional intensity */
    
    /* Environmental Biometrics */
    --bio-ambient-light: 500; /* Lux */
    --bio-screen-brightness: 0.8; /* 0-1 normalized */
    --bio-color-temperature: 6500; /* Kelvin */
    --bio-circadian-phase: 0.5; /* 0-1 day cycle */
    
    /* Physiological Adaptation Variables */
    --bio-adaptation-intensity: 0.0;
    --bio-calming-factor: 0.0;
    --bio-energizing-factor: 0.0;
    --bio-focus-enhancement: 0.0;
    --bio-fatigue-compensation: 0.0;
}

/* Heart Rate Responsive Glass */
.bio-heart-responsive {
    background: rgba(255, 255, 255, calc(0.1 + var(--bio-hrv-score) * 0.1));
    backdrop-filter: blur(calc(8px + var(--bio-heart-coherence) * 8px)) 
                    saturate(calc(150% + var(--bio-heart-coherence) * 30%));
    -webkit-backdrop-filter: blur(calc(8px + var(--bio-heart-coherence) * 8px)) 
                            saturate(calc(150% + var(--bio-heart-coherence) * 30%));
    border: 1px solid rgba(255, 255, 255, calc(0.2 + var(--bio-heart-coherence) * 0.2));
    animation: heartRhythm calc(60s / var(--bio-heart-rate)) ease-in-out infinite;
    transition: all calc(var(--timing-standard) * (2 - var(--bio-hrv-score))) ease;
}

@keyframes heartRhythm {
    0%, 100% {
        opacity: calc(0.9 + var(--bio-heart-coherence) * 0.1);
        transform: scale(1);
    }
    50% {
        opacity: calc(1 + var(--bio-heart-coherence) * 0.1);
        transform: scale(calc(1 + var(--bio-heart-coherence) * 0.01));
    }
}

/* Stress-Responsive Interface */
.bio-stress-responsive {
    backdrop-filter: blur(calc(var(--adaptive-blur-medium) * (1 + var(--bio-stress-level) * 0.5))) 
                    saturate(calc(150% - var(--bio-stress-level) * 30%)) 
                    hue-rotate(calc(var(--bio-stress-level) * -10deg));
    -webkit-backdrop-filter: blur(calc(var(--adaptive-blur-medium) * (1 + var(--bio-stress-level) * 0.5))) 
                            saturate(calc(150% - var(--bio-stress-level) * 30%)) 
                            hue-rotate(calc(var(--bio-stress-level) * -10deg));
    background: rgba(255, 255, 255, calc(0.1 + var(--bio-stress-level) * 0.05));
    border-radius: calc(var(--border-radius-lg) * (1 + var(--bio-stress-level) * 0.3));
    transition-duration: calc(var(--timing-standard) * (1 + var(--bio-stress-level) * 2));
}

.bio-stress-responsive.bio-high-stress {
    /* Calming effects for high stress */
    backdrop-filter: blur(calc(var(--adaptive-blur-strong) * 1.5)) 
                    saturate(120%) 
                    hue-rotate(15deg) 
                    brightness(110%);
    -webkit-backdrop-filter: blur(calc(var(--adaptive-blur-strong) * 1.5)) 
                            saturate(120%) 
                            hue-rotate(15deg) 
                            brightness(110%);
    animation: calmingBreath calc(4s + var(--bio-stress-level) * 4s) ease-in-out infinite;
    border-radius: calc(var(--border-radius-lg) * 1.5);
}

@keyframes calmingBreath {
    0%, 100% {
        transform: scale(1);
        filter: brightness(110%);
    }
    25% {
        transform: scale(1.005);
        filter: brightness(112%);
    }
    50% {
        transform: scale(1.01);
        filter: brightness(115%);
    }
    75% {
        transform: scale(1.005);
        filter: brightness(112%);
    }
}

/* Breathing Synchronized Effects */
.bio-breathing-sync {
    animation: breathingSync calc(60s / var(--bio-breathing-rate)) ease-in-out infinite;
    backdrop-filter: blur(calc(var(--adaptive-blur-medium) * var(--bio-breathing-depth))) 
                    saturate(calc(150% + var(--bio-breathing-rhythm) * 30%));
    -webkit-backdrop-filter: blur(calc(var(--adaptive-blur-medium) * var(--bio-breathing-depth))) 
                            saturate(calc(150% + var(--bio-breathing-rhythm) * 30%));
}

@keyframes breathingSync {
    0% {
        transform: scale(1);
        opacity: calc(0.9 + var(--bio-breathing-depth) * 0.1);
    }
    30% {
        transform: scale(calc(1 + var(--bio-breathing-depth) * 0.02));
        opacity: calc(0.95 + var(--bio-breathing-depth) * 0.05);
    }
    70% {
        transform: scale(calc(1 + var(--bio-breathing-depth) * 0.02));
        opacity: calc(0.95 + var(--bio-breathing-depth) * 0.05);
    }
    100% {
        transform: scale(1);
        opacity: calc(0.9 + var(--bio-breathing-depth) * 0.1);
    }
}

/* Focus-Enhanced Interface */
.bio-focus-enhanced {
    backdrop-filter: blur(calc(var(--adaptive-blur-light) + var(--bio-focus-level) * 8px)) 
                    saturate(calc(140% + var(--bio-focus-level) * 40%)) 
                    contrast(calc(100% + var(--bio-focus-level) * 10%));
    -webkit-backdrop-filter: blur(calc(var(--adaptive-blur-light) + var(--bio-focus-level) * 8px)) 
                            saturate(calc(140% + var(--bio-focus-level) * 40%)) 
                            contrast(calc(100% + var(--bio-focus-level) * 10%));
    border: calc(1px + var(--bio-focus-level) * 1px) solid rgba(255, 255, 255, calc(0.2 + var(--bio-focus-level) * 0.3));
    transition-duration: calc(var(--timing-fast) / (1 + var(--bio-focus-level)));
}

.bio-focus-enhanced.bio-high-focus {
    /* Minimal distractions for high focus */
    backdrop-filter: blur(6px) saturate(130%);
    -webkit-backdrop-filter: blur(6px) saturate(130%);
    animation: none;
    transition: opacity var(--timing-fast) ease;
    border-radius: var(--border-radius);
}

.bio-focus-enhanced.bio-low-focus {
    /* Enhanced engagement for low focus */
    backdrop-filter: blur(12px) saturate(180%) hue-rotate(5deg);
    -webkit-backdrop-filter: blur(12px) saturate(180%) hue-rotate(5deg);
    animation: focusAttention 3s ease-in-out infinite;
    border: 2px solid rgba(var(--page-accent-rgb), 0.4);
}

@keyframes focusAttention {
    0%, 100% {
        border-color: rgba(var(--page-accent-rgb), 0.4);
        transform: scale(1);
    }
    50% {
        border-color: rgba(var(--page-accent-rgb), 0.6);
        transform: scale(1.01);
    }
}

/* Fatigue Compensation System */
.bio-fatigue-compensated {
    backdrop-filter: blur(calc(var(--adaptive-blur-medium) - var(--bio-mental-fatigue) * 4px)) 
                    saturate(calc(150% + var(--bio-mental-fatigue) * 50%)) 
                    brightness(calc(100% + var(--bio-mental-fatigue) * 15%));
    -webkit-backdrop-filter: blur(calc(var(--adaptive-blur-medium) - var(--bio-mental-fatigue) * 4px)) 
                            saturate(calc(150% + var(--bio-mental-fatigue) * 50%)) 
                            brightness(calc(100% + var(--bio-mental-fatigue) * 15%));
    animation-duration: calc(var(--timing-standard) * (2 - var(--bio-mental-fatigue)));
}

.bio-fatigue-compensated.bio-high-fatigue {
    /* Energizing effects for high fatigue */
    backdrop-filter: blur(8px) saturate(200%) brightness(120%) hue-rotate(-5deg);
    -webkit-backdrop-filter: blur(8px) saturate(200%) brightness(120%) hue-rotate(-5deg);
    animation: energizingPulse 2s ease-in-out infinite;
    border: 2px solid rgba(255, 215, 0, 0.5); /* Golden energizing border */
}

@keyframes energizingPulse {
    0%, 100% {
        box-shadow: 0 0 10px rgba(255, 215, 0, 0.3);
        filter: brightness(120%);
    }
    50% {
        box-shadow: 0 0 20px rgba(255, 215, 0, 0.6);
        filter: brightness(125%);
    }
}

/* Eye Strain Relief System */
.bio-eye-strain-relief {
    backdrop-filter: blur(calc(var(--adaptive-blur-medium) + var(--bio-eye-strain) * 6px)) 
                    saturate(calc(150% - var(--bio-eye-strain) * 40%)) 
                    hue-rotate(calc(var(--bio-eye-strain) * 20deg));
    -webkit-backdrop-filter: blur(calc(var(--adaptive-blur-medium) + var(--bio-eye-strain) * 6px)) 
                            saturate(calc(150% - var(--bio-eye-strain) * 40%)) 
                            hue-rotate(calc(var(--bio-eye-strain) * 20deg));
    filter: contrast(calc(100% - var(--bio-eye-strain) * 20%));
}

.bio-eye-strain-relief.bio-high-eye-strain {
    /* Soothing effects for eye strain */
    backdrop-filter: blur(16px) saturate(110%) hue-rotate(30deg);
    -webkit-backdrop-filter: blur(16px) saturate(110%) hue-rotate(30deg);
    filter: contrast(85%) brightness(90%);
    background: rgba(200, 255, 200, 0.1); /* Slight green tint for eye comfort */
    animation: eyeComfort 8s ease-in-out infinite;
}

@keyframes eyeComfort {
    0%, 100% {
        filter: contrast(85%) brightness(90%);
    }
    50% {
        filter: contrast(90%) brightness(95%);
    }
}

/* Circadian Rhythm Adaptation */
.bio-circadian-adaptive {
    backdrop-filter: blur(var(--adaptive-blur-medium)) 
                    saturate(calc(150% + var(--bio-circadian-phase) * 30%)) 
                    hue-rotate(calc(var(--bio-circadian-phase) * 60deg - 30deg));
    -webkit-backdrop-filter: blur(var(--adaptive-blur-medium)) 
                            saturate(calc(150% + var(--bio-circadian-phase) * 30%)) 
                            hue-rotate(calc(var(--bio-circadian-phase) * 60deg - 30deg));
    filter: brightness(calc(90% + var(--bio-circadian-phase) * 20%));
}

.bio-circadian-adaptive.bio-morning {
    /* Morning energizing effects */
    backdrop-filter: blur(10px) saturate(180%) hue-rotate(-10deg);
    -webkit-backdrop-filter: blur(10px) saturate(180%) hue-rotate(-10deg);
    filter: brightness(110%) contrast(105%);
    animation: morningEnergy 4s ease-in-out infinite;
}

.bio-circadian-adaptive.bio-evening {
    /* Evening calming effects */
    backdrop-filter: blur(14px) saturate(140%) hue-rotate(20deg);
    -webkit-backdrop-filter: blur(14px) saturate(140%) hue-rotate(20deg);
    filter: brightness(95%) contrast(95%);
    animation: eveningCalm 6s ease-in-out infinite;
}

@keyframes morningEnergy {
    0%, 100% {
        transform: scale(1);
        filter: brightness(110%) contrast(105%);
    }
    50% {
        transform: scale(1.005);
        filter: brightness(115%) contrast(108%);
    }
}

@keyframes eveningCalm {
    0%, 100% {
        opacity: 0.95;
        filter: brightness(95%) contrast(95%);
    }
    50% {
        opacity: 1;
        filter: brightness(100%) contrast(100%);
    }
}

/* Biometric Monitoring Indicators */
.bio-monitor-display {
    position: fixed;
    top: 110px;
    left: 10px;
    display: flex;
    flex-direction: column;
    gap: 3px;
    z-index: 10000;
    opacity: 0;
    transition: opacity 0.5s ease;
}

.bio-monitor-display.active {
    opacity: 0.7;
}

.bio-metric {
    width: 4px;
    height: 8px;
    border-radius: 2px;
    transition: all 0.3s ease;
}

.bio-metric.heart-rate {
    background: linear-gradient(180deg, 
                               rgba(220, 38, 38, var(--bio-heart-coherence)) 0%, 
                               rgba(220, 38, 38, calc(var(--bio-heart-coherence) * 0.5)) 100%);
    animation: heartBeat calc(60s / var(--bio-heart-rate)) ease-in-out infinite;
}

.bio-metric.stress-level {
    background: linear-gradient(180deg, 
                               rgba(255, 165, 0, var(--bio-stress-level)) 0%, 
                               rgba(255, 165, 0, calc(var(--bio-stress-level) * 0.5)) 100%);
    height: calc(8px + var(--bio-stress-level) * 8px);
}

.bio-metric.focus-level {
    background: linear-gradient(180deg, 
                               rgba(59, 130, 246, var(--bio-focus-level)) 0%, 
                               rgba(59, 130, 246, calc(var(--bio-focus-level) * 0.5)) 100%);
    height: calc(8px * var(--bio-focus-level));
}

.bio-metric.fatigue-level {
    background: linear-gradient(180deg, 
                               rgba(139, 92, 246, var(--bio-mental-fatigue)) 0%, 
                               rgba(139, 92, 246, calc(var(--bio-mental-fatigue) * 0.5)) 100%);
    height: calc(8px + var(--bio-mental-fatigue) * 8px);
}

@keyframes heartBeat {
    0%, 100% {
        transform: scaleY(1);
        opacity: var(--bio-heart-coherence);
    }
    15% {
        transform: scaleY(1.5);
        opacity: calc(var(--bio-heart-coherence) * 1.3);
    }
    30% {
        transform: scaleY(0.8);
        opacity: calc(var(--bio-heart-coherence) * 0.8);
    }
    45% {
        transform: scaleY(1.2);
        opacity: calc(var(--bio-heart-coherence) * 1.1);
    }
}

/* Privacy-First Biometric Processing */
.bio-privacy-indicator {
    position: fixed;
    top: 125px;
    right: 10px;
    width: 6px;
    height: 6px;
    border-radius: 50%;
    background: #10B981; /* Green - secure */
    z-index: 10000;
    opacity: 0;
    transition: opacity 0.3s ease;
    animation: privacySecure 3s ease-in-out infinite;
}

.bio-privacy-indicator.active {
    opacity: 0.6;
}

.bio-privacy-indicator.processing {
    background: #F59E0B; /* Amber - processing */
    animation: privacyProcessing 1s ease-in-out infinite;
}

.bio-privacy-indicator.error {
    background: #EF4444; /* Red - error */
    animation: privacyError 0.5s ease-in-out infinite;
}

@keyframes privacySecure {
    0%, 100% {
        transform: scale(1);
        opacity: 0.6;
    }
    50% {
        transform: scale(1.1);
        opacity: 0.8;
    }
}

@keyframes privacyProcessing {
    0%, 100% {
        transform: scale(1);
    }
    50% {
        transform: scale(1.3);
    }
}

@keyframes privacyError {
    0%, 100% {
        transform: scale(1);
    }
    50% {
        transform: scale(1.2);
    }
}

/* Emergency Biometric Override */
.bio-emergency-detected {
    /* Critical stress/health indicator override */
    backdrop-filter: blur(20px) saturate(110%) hue-rotate(30deg) !important;
    -webkit-backdrop-filter: blur(20px) saturate(110%) hue-rotate(30deg) !important;
    background: rgba(0, 255, 100, 0.15) !important;
    border: 3px solid rgba(0, 255, 100, 0.6) !important;
    animation: biometricEmergency 2s ease-in-out infinite !important;
    transition: all 0.1s ease !important;
}

@keyframes biometricEmergency {
    0%, 100% {
        border-color: rgba(0, 255, 100, 0.6);
        box-shadow: 0 0 0 0 rgba(0, 255, 100, 0.4);
    }
    50% {
        border-color: rgba(0, 255, 100, 0.9);
        box-shadow: 0 0 0 6px rgba(0, 255, 100, 0.2);
    }
}

/* Accessibility: Disable biometric features for users who prefer reduced motion */
@media (prefers-reduced-motion: reduce) {
    .bio-heart-responsive,
    .bio-breathing-sync,
    .bio-stress-responsive,
    .bio-focus-enhanced,
    .bio-fatigue-compensated {
        animation: none !important;
        transition: opacity 0.2s ease !important;
    }
    
    .bio-monitor-display {
        display: none !important;
    }
}

/* ====== PHASE 5.3: QUANTUM-INSPIRED VISUAL EFFECTS ====== */
/* Revolutionary Quantum Physics-Inspired Interface Optimization */

/* Quantum System Variables */
:root {
    /* Quantum State Parameters */
    --quantum-superposition-state: 0.5; /* 0-1 superposition amplitude */
    --quantum-entanglement-strength: 0.0; /* 0-1 entanglement coefficient */
    --quantum-coherence-time: 1.0; /* Coherence duration multiplier */
    --quantum-decoherence-rate: 0.1; /* 0-1 decoherence speed */
    --quantum-uncertainty-factor: 0.05; /* 0-1 uncertainty magnitude */
    
    /* Wave Function Properties */
    --quantum-wave-frequency: 1.0; /* Wave oscillation frequency */
    --quantum-wave-amplitude: 0.1; /* Wave magnitude */
    --quantum-wave-phase: 0deg; /* Wave phase offset */
    --quantum-interference-pattern: 0.0; /* Interference intensity */
    
    /* Quantum Field Theory Variables */
    --quantum-field-energy: 0.5; /* 0-1 field energy density */
    --quantum-field-fluctuation: 0.02; /* 0-1 vacuum fluctuation */
    --quantum-field-correlation: 0.3; /* 0-1 field correlation length */
    --quantum-vacuum-state: 0.0; /* Ground state energy */
    
    /* Quantum Computational Variables */
    --quantum-parallel-states: 4; /* Number of parallel computations */
    --quantum-processing-efficiency: 0.8; /* 0-1 quantum speedup */
    --quantum-error-correction: 0.95; /* 0-1 error correction rate */
    --quantum-optimization-factor: 1.5; /* Performance multiplier */
}

/* Quantum Superposition Glass Effects */
.quantum-superposition {
    position: relative;
    background: linear-gradient(
        45deg,
        rgba(255, 255, 255, calc(0.1 * var(--quantum-superposition-state))) 0%,
        rgba(255, 255, 255, calc(0.15 * (1 - var(--quantum-superposition-state)))) 50%,
        rgba(255, 255, 255, calc(0.1 * var(--quantum-superposition-state))) 100%
    );
    backdrop-filter: blur(calc(var(--adaptive-blur-medium) * (1 + var(--quantum-superposition-state) * 0.5))) 
                    saturate(calc(150% + var(--quantum-superposition-state) * 30%));
    -webkit-backdrop-filter: blur(calc(var(--adaptive-blur-medium) * (1 + var(--quantum-superposition-state) * 0.5))) 
                            saturate(calc(150% + var(--quantum-superposition-state) * 30%));
    animation: quantumSuperposition calc(2s / var(--quantum-wave-frequency)) ease-in-out infinite;
    transition: all calc(var(--timing-standard) * var(--quantum-coherence-time)) 
                cubic-bezier(0.25, calc(0.46 + var(--quantum-uncertainty-factor)), 
                           0.45, calc(0.94 - var(--quantum-uncertainty-factor)));
}

@keyframes quantumSuperposition {
    0%, 100% {
        opacity: calc(0.9 + var(--quantum-superposition-state) * 0.1);
        transform: scale(1) rotate(0deg);
        filter: hue-rotate(0deg);
    }
    25% {
        opacity: calc(0.95 + var(--quantum-superposition-state) * 0.05);
        transform: scale(calc(1 + var(--quantum-wave-amplitude) * 0.5)) rotate(calc(var(--quantum-wave-phase) * 0.1));
        filter: hue-rotate(calc(var(--quantum-wave-phase) * 0.05));
    }
    50% {
        opacity: calc(1 - var(--quantum-superposition-state) * 0.1);
        transform: scale(calc(1 + var(--quantum-wave-amplitude))) rotate(calc(var(--quantum-wave-phase) * 0.2));
        filter: hue-rotate(calc(var(--quantum-wave-phase) * 0.1));
    }
    75% {
        opacity: calc(0.95 + var(--quantum-superposition-state) * 0.05);
        transform: scale(calc(1 + var(--quantum-wave-amplitude) * 0.5)) rotate(calc(var(--quantum-wave-phase) * 0.1));
        filter: hue-rotate(calc(var(--quantum-wave-phase) * 0.05));
    }
}

/* Quantum Entanglement Synchronized Effects */
.quantum-entangled {
    position: relative;
    background: rgba(255, 255, 255, calc(0.1 + var(--quantum-entanglement-strength) * 0.1));
    backdrop-filter: blur(calc(var(--adaptive-blur-medium) + var(--quantum-entanglement-strength) * 6px)) 
                    saturate(calc(150% + var(--quantum-entanglement-strength) * 50%));
    -webkit-backdrop-filter: blur(calc(var(--adaptive-blur-medium) + var(--quantum-entanglement-strength) * 6px)) 
                            saturate(calc(150% + var(--quantum-entanglement-strength) * 50%));
    animation: quantumEntanglement calc(3s * var(--quantum-coherence-time)) linear infinite;
}

.quantum-entangled.entangled-pair-a {
    animation-delay: 0s;
}

.quantum-entangled.entangled-pair-b {
    animation-delay: 0s; /* Synchronized - no delay */
    transform: scaleX(-1); /* Mirror effect for entanglement */
}

@keyframes quantumEntanglement {
    0% {
        backdrop-filter: blur(var(--adaptive-blur-medium)) saturate(150%) hue-rotate(0deg);
        border-color: rgba(255, 255, 255, calc(0.2 + var(--quantum-entanglement-strength) * 0.3));
    }
    33% {
        backdrop-filter: blur(calc(var(--adaptive-blur-medium) * 1.2)) saturate(180%) hue-rotate(120deg);
        border-color: rgba(100, 255, 255, calc(0.3 + var(--quantum-entanglement-strength) * 0.3));
    }
    66% {
        backdrop-filter: blur(calc(var(--adaptive-blur-medium) * 1.1)) saturate(200%) hue-rotate(240deg);
        border-color: rgba(255, 100, 255, calc(0.3 + var(--quantum-entanglement-strength) * 0.3));
    }
    100% {
        backdrop-filter: blur(var(--adaptive-blur-medium)) saturate(150%) hue-rotate(360deg);
        border-color: rgba(255, 255, 255, calc(0.2 + var(--quantum-entanglement-strength) * 0.3));
    }
}

/* Quantum Tunneling Transition Effects */
.quantum-tunnel {
    position: relative;
    overflow: hidden;
    transition: all calc(var(--timing-fast) * var(--quantum-coherence-time)) 
                cubic-bezier(0.68, calc(-0.55 + var(--quantum-uncertainty-factor)), 
                           0.265, calc(1.55 - var(--quantum-uncertainty-factor)));
}

.quantum-tunnel::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(
        90deg,
        transparent 0%,
        rgba(255, 255, 255, 0.8) 50%,
        transparent 100%
    );
    backdrop-filter: blur(20px) saturate(300%);
    -webkit-backdrop-filter: blur(20px) saturate(300%);
    opacity: 0;
    transition: all calc(var(--timing-medium) * var(--quantum-coherence-time)) ease;
    z-index: 1;
}

.quantum-tunnel:hover::before {
    left: 100%;
    opacity: 1;
    animation: quantumTunneling calc(0.8s * var(--quantum-coherence-time)) ease-out;
}

@keyframes quantumTunneling {
    0% {
        left: -100%;
        opacity: 0;
        backdrop-filter: blur(20px) saturate(300%);
    }
    10% {
        opacity: 0.3;
    }
    50% {
        opacity: 1;
        backdrop-filter: blur(30px) saturate(400%);
    }
    90% {
        opacity: 0.3;
    }
    100% {
        left: 100%;
        opacity: 0;
        backdrop-filter: blur(20px) saturate(300%);
    }
}

/* Quantum Interference Pattern Visualization */
.quantum-interference {
    position: relative;
    background: rgba(255, 255, 255, 0.05);
    overflow: hidden;
}

.quantum-interference::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: 
        repeating-linear-gradient(
            45deg,
            transparent 0px,
            rgba(255, 255, 255, calc(0.1 * var(--quantum-interference-pattern))) calc(10px * var(--quantum-wave-frequency)),
            transparent calc(20px * var(--quantum-wave-frequency)),
            rgba(255, 255, 255, calc(0.05 * var(--quantum-interference-pattern))) calc(30px * var(--quantum-wave-frequency)),
            transparent calc(40px * var(--quantum-wave-frequency))
        ),
        repeating-linear-gradient(
            -45deg,
            transparent 0px,
            rgba(255, 255, 255, calc(0.08 * var(--quantum-interference-pattern))) calc(15px * var(--quantum-wave-frequency)),
            transparent calc(30px * var(--quantum-wave-frequency)),
            rgba(255, 255, 255, calc(0.03 * var(--quantum-interference-pattern))) calc(45px * var(--quantum-wave-frequency)),
            transparent calc(60px * var(--quantum-wave-frequency))
        );
    opacity: var(--quantum-interference-pattern);
    animation: quantumInterference calc(4s / var(--quantum-wave-frequency)) linear infinite;
    mix-blend-mode: screen;
    pointer-events: none;
    z-index: 1;
}

@keyframes quantumInterference {
    0% {
        transform: translateX(0) translateY(0);
        opacity: var(--quantum-interference-pattern);
    }
    25% {
        transform: translateX(calc(10px * var(--quantum-wave-amplitude))) translateY(calc(5px * var(--quantum-wave-amplitude)));
        opacity: calc(var(--quantum-interference-pattern) * 1.3);
    }
    50% {
        transform: translateX(0) translateY(calc(10px * var(--quantum-wave-amplitude)));
        opacity: var(--quantum-interference-pattern);
    }
    75% {
        transform: translateX(calc(-10px * var(--quantum-wave-amplitude))) translateY(calc(5px * var(--quantum-wave-amplitude)));
        opacity: calc(var(--quantum-interference-pattern) * 0.7);
    }
    100% {
        transform: translateX(0) translateY(0);
        opacity: var(--quantum-interference-pattern);
    }
}

/* Quantum Field Fluctuation Effects */
.quantum-field {
    position: relative;
    background: rgba(255, 255, 255, calc(0.05 + var(--quantum-field-energy) * 0.1));
    backdrop-filter: blur(calc(var(--adaptive-blur-medium) + var(--quantum-field-energy) * 8px)) 
                    saturate(calc(150% + var(--quantum-field-energy) * 40%));
    -webkit-backdrop-filter: blur(calc(var(--adaptive-blur-medium) + var(--quantum-field-energy) * 8px)) 
                            saturate(calc(150% + var(--quantum-field-energy) * 40%));
    animation: quantumFieldFluctuation calc(6s / var(--quantum-wave-frequency)) ease-in-out infinite;
}

.quantum-field::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: radial-gradient(
        circle at var(--cursor-x, 50%) var(--cursor-y, 50%),
        rgba(255, 255, 255, calc(var(--quantum-field-fluctuation) * 0.3)) 0%,
        rgba(255, 255, 255, calc(var(--quantum-field-fluctuation) * 0.1)) 40%,
        transparent 80%
    );
    opacity: var(--quantum-field-energy);
    animation: fieldQuantumVacuum calc(3s * var(--quantum-coherence-time)) ease-in-out infinite;
    pointer-events: none;
    z-index: 1;
}

@keyframes quantumFieldFluctuation {
    0%, 100% {
        filter: brightness(calc(100% + var(--quantum-field-energy) * 10%)) 
                contrast(calc(100% + var(--quantum-field-energy) * 5%));
        transform: scale(1);
    }
    16% {
        filter: brightness(calc(105% + var(--quantum-field-energy) * 8%)) 
                contrast(calc(102% + var(--quantum-field-energy) * 3%));
        transform: scale(calc(1 + var(--quantum-field-fluctuation)));
    }
    33% {
        filter: brightness(calc(95% + var(--quantum-field-energy) * 12%)) 
                contrast(calc(98% + var(--quantum-field-energy) * 7%));
        transform: scale(calc(1 - var(--quantum-field-fluctuation) * 0.5));
    }
    50% {
        filter: brightness(calc(108% + var(--quantum-field-energy) * 6%)) 
                contrast(calc(105% + var(--quantum-field-energy) * 4%));
        transform: scale(calc(1 + var(--quantum-field-fluctuation) * 0.8));
    }
    66% {
        filter: brightness(calc(92% + var(--quantum-field-energy) * 15%)) 
                contrast(calc(95% + var(--quantum-field-energy) * 8%));
        transform: scale(calc(1 - var(--quantum-field-fluctuation) * 0.3));
    }
    83% {
        filter: brightness(calc(110% + var(--quantum-field-energy) * 5%)) 
                contrast(calc(107% + var(--quantum-field-energy) * 2%));
        transform: scale(calc(1 + var(--quantum-field-fluctuation) * 0.6));
    }
}

@keyframes fieldQuantumVacuum {
    0%, 100% {
        opacity: var(--quantum-field-energy);
        transform: rotate(0deg) scale(1);
    }
    50% {
        opacity: calc(var(--quantum-field-energy) * 1.5);
        transform: rotate(180deg) scale(1.1);
    }
}

/* Quantum Decoherence Adaptive Behavior */
.quantum-decoherent {
    transition: all calc(var(--timing-standard) / var(--quantum-coherence-time)) 
                cubic-bezier(calc(0.25 + var(--quantum-decoherence-rate) * 0.3), 
                           0.46, 
                           calc(0.45 + var(--quantum-decoherence-rate) * 0.2), 
                           0.94);
    animation-duration: calc(var(--timing-standard) * (1 + var(--quantum-decoherence-rate) * 2));
    filter: blur(calc(var(--quantum-decoherence-rate) * 2px)) 
            contrast(calc(100% - var(--quantum-decoherence-rate) * 20%));
}

.quantum-decoherent.high-decoherence {
    /* Lost quantum coherence - classical behavior */
    backdrop-filter: blur(6px) saturate(120%) !important;
    -webkit-backdrop-filter: blur(6px) saturate(120%) !important;
    animation: none !important;
    transition: all var(--timing-standard) ease !important;
    filter: none !important;
}

/* Quantum Uncertainty Principle Effects */
.quantum-uncertainty {
    position: relative;
    animation: quantumUncertainty calc(2s + var(--quantum-uncertainty-factor) * 3s) ease-in-out infinite;
}

@keyframes quantumUncertainty {
    0%, 100% {
        transform: translateX(0) translateY(0);
        backdrop-filter: blur(var(--adaptive-blur-medium)) saturate(150%);
    }
    25% {
        transform: translateX(calc(var(--quantum-uncertainty-factor) * 2px)) 
                   translateY(calc(var(--quantum-uncertainty-factor) * 1px));
        backdrop-filter: blur(calc(var(--adaptive-blur-medium) + var(--quantum-uncertainty-factor) * 3px)) 
                        saturate(calc(150% + var(--quantum-uncertainty-factor) * 20%));
    }
    50% {
        transform: translateX(calc(var(--quantum-uncertainty-factor) * -1px)) 
                   translateY(calc(var(--quantum-uncertainty-factor) * 2px));
        backdrop-filter: blur(calc(var(--adaptive-blur-medium) - var(--quantum-uncertainty-factor) * 2px)) 
                        saturate(calc(150% - var(--quantum-uncertainty-factor) * 10%));
    }
    75% {
        transform: translateX(calc(var(--quantum-uncertainty-factor) * 1px)) 
                   translateY(calc(var(--quantum-uncertainty-factor) * -1px));
        backdrop-filter: blur(calc(var(--adaptive-blur-medium) + var(--quantum-uncertainty-factor) * 1px)) 
                        saturate(calc(150% + var(--quantum-uncertainty-factor) * 15%));
    }
}

/* Quantum Computational Optimization Indicators */
.quantum-optimized {
    position: relative;
    backdrop-filter: blur(calc(var(--adaptive-blur-medium) / var(--quantum-optimization-factor))) 
                    saturate(calc(150% * var(--quantum-optimization-factor)));
    -webkit-backdrop-filter: blur(calc(var(--adaptive-blur-medium) / var(--quantum-optimization-factor))) 
                            saturate(calc(150% * var(--quantum-optimization-factor)));
    transition-duration: calc(var(--timing-standard) / var(--quantum-optimization-factor));
    animation-duration: calc(var(--timing-standard) / var(--quantum-optimization-factor));
}

.quantum-optimized::before {
    content: '';
    position: absolute;
    top: -2px;
    left: -2px;
    right: -2px;
    bottom: -2px;
    background: linear-gradient(
        45deg,
        rgba(0, 255, 255, calc(var(--quantum-processing-efficiency) * 0.3)) 0%,
        transparent 25%,
        rgba(255, 0, 255, calc(var(--quantum-processing-efficiency) * 0.2)) 50%,
        transparent 75%,
        rgba(255, 255, 0, calc(var(--quantum-processing-efficiency) * 0.3)) 100%
    );
    border-radius: inherit;
    opacity: calc(var(--quantum-processing-efficiency) * 0.6);
    z-index: -1;
    animation: quantumOptimization calc(1s / var(--quantum-optimization-factor)) linear infinite;
}

@keyframes quantumOptimization {
    0% {
        background-position: 0% 50%;
        filter: hue-rotate(0deg);
    }
    50% {
        background-position: 100% 50%;
        filter: hue-rotate(180deg);
    }
    100% {
        background-position: 0% 50%;
        filter: hue-rotate(360deg);
    }
}

/* Quantum Parallel Processing Visualization */
.quantum-parallel {
    position: relative;
    overflow: hidden;
}

.quantum-parallel::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: 
        linear-gradient(
            0deg,
            transparent calc(100% / var(--quantum-parallel-states) * 0),
            rgba(255, 255, 255, 0.1) calc(100% / var(--quantum-parallel-states) * 0.5),
            transparent calc(100% / var(--quantum-parallel-states) * 1)
        ),
        linear-gradient(
            0deg,
            transparent calc(100% / var(--quantum-parallel-states) * 1),
            rgba(255, 255, 255, 0.08) calc(100% / var(--quantum-parallel-states) * 1.5),
            transparent calc(100% / var(--quantum-parallel-states) * 2)
        ),
        linear-gradient(
            0deg,
            transparent calc(100% / var(--quantum-parallel-states) * 2),
            rgba(255, 255, 255, 0.06) calc(100% / var(--quantum-parallel-states) * 2.5),
            transparent calc(100% / var(--quantum-parallel-states) * 3)
        ),
        linear-gradient(
            0deg,
            transparent calc(100% / var(--quantum-parallel-states) * 3),
            rgba(255, 255, 255, 0.04) calc(100% / var(--quantum-parallel-states) * 3.5),
            transparent calc(100% / var(--quantum-parallel-states) * 4)
        );
    opacity: 0.8;
    animation: quantumParallelProcessing calc(2s / var(--quantum-parallel-states)) ease-in-out infinite;
    pointer-events: none;
    z-index: 1;
}

@keyframes quantumParallelProcessing {
    0%, 100% {
        transform: translateY(0);
        opacity: 0.8;
    }
    25% {
        transform: translateY(calc(-100% / var(--quantum-parallel-states)));
        opacity: 1;
    }
    50% {
        transform: translateY(calc(-200% / var(--quantum-parallel-states)));
        opacity: 0.6;
    }
    75% {
        transform: translateY(calc(-100% / var(--quantum-parallel-states)));
        opacity: 0.9;
    }
}

/* Quantum Error Correction Indicator */
.quantum-error-corrected {
    position: relative;
    border: 1px solid rgba(0, 255, 0, calc(var(--quantum-error-correction) * 0.5));
    box-shadow: 0 0 calc(10px * var(--quantum-error-correction)) rgba(0, 255, 0, calc(var(--quantum-error-correction) * 0.3));
}

.quantum-error-corrected::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 4px;
    height: 4px;
    background: rgba(0, 255, 0, var(--quantum-error-correction));
    border-radius: 50%;
    transform: translate(-50%, -50%);
    opacity: var(--quantum-error-correction);
    animation: quantumErrorCorrection 1s ease-in-out infinite;
    z-index: 2;
}

@keyframes quantumErrorCorrection {
    0%, 100% {
        box-shadow: 0 0 0 0 rgba(0, 255, 0, var(--quantum-error-correction));
        transform: translate(-50%, -50%) scale(1);
    }
    50% {
        box-shadow: 0 0 0 calc(10px * var(--quantum-error-correction)) rgba(0, 255, 0, 0);
        transform: translate(-50%, -50%) scale(1.5);
    }
}

/* Quantum System Status Indicator */
.quantum-status-display {
    position: fixed;
    top: 140px;
    left: 10px;
    display: flex;
    flex-direction: column;
    gap: 2px;
    z-index: 10000;
    opacity: 0;
    transition: opacity 0.5s ease;
}

.quantum-status-display.active {
    opacity: 0.7;
}

.quantum-metric {
    width: 3px;
    height: 6px;
    border-radius: 1.5px;
    transition: all 0.3s ease;
}

.quantum-metric.superposition {
    background: linear-gradient(180deg, 
                               rgba(255, 0, 255, var(--quantum-superposition-state)) 0%, 
                               rgba(255, 0, 255, calc(var(--quantum-superposition-state) * 0.5)) 100%);
    height: calc(6px + var(--quantum-superposition-state) * 6px);
}

.quantum-metric.entanglement {
    background: linear-gradient(180deg, 
                               rgba(0, 255, 255, var(--quantum-entanglement-strength)) 0%, 
                               rgba(0, 255, 255, calc(var(--quantum-entanglement-strength) * 0.5)) 100%);
    height: calc(6px * var(--quantum-entanglement-strength));
}

.quantum-metric.coherence {
    background: linear-gradient(180deg, 
                               rgba(255, 255, 0, var(--quantum-coherence-time)) 0%, 
                               rgba(255, 255, 0, calc(var(--quantum-coherence-time) * 0.5)) 100%);
    height: calc(6px * var(--quantum-coherence-time));
}

.quantum-metric.optimization {
    background: linear-gradient(180deg, 
                               rgba(0, 255, 0, var(--quantum-optimization-factor)) 0%, 
                               rgba(0, 255, 0, calc(var(--quantum-optimization-factor) * 0.5)) 100%);
    height: calc(6px * (var(--quantum-optimization-factor) / 2));
}

/* Accessibility: Disable quantum effects for users with motion sensitivity */
@media (prefers-reduced-motion: reduce) {
    .quantum-superposition,
    .quantum-entangled,
    .quantum-tunnel,
    .quantum-interference,
    .quantum-field,
    .quantum-uncertainty,
    .quantum-parallel {
        animation: none !important;
        transition: opacity 0.2s ease !important;
    }
    
    .quantum-status-display {
        display: none !important;
    }
}

/* Feature Detection and Fallbacks */
@supports not (backdrop-filter: blur(10px)) {
    /* Fallback for browsers without backdrop-filter support */
    .glass-primary,
    .glass-secondary,
    .glass-accent,
    .glass-tertiary,
    .glass-card,
    .glass-button,
    .onesite-card,
    .experience-card,
    .education-card,
    .publication-card,
    .interest-card,
    .project-card,
    .filter-btn,
    .hero-content-glass,
    .hero-glass-overlay,
    .content-container,
    .content-section,
    .header,
    .mobile-menu-button {
        background: var(--bg-secondary) !important;
        border: 1px solid rgba(255, 255, 255, 0.2) !important;
        box-shadow: 0 4px 16px rgba(0, 0, 0, 0.3) !important;
    }
    
    /* Enhanced borders for definition without backdrop blur */
    .glass-primary,
    .glass-secondary,
    .glass-accent,
    .glass-tertiary {
        border: 2px solid rgba(255, 255, 255, 0.3) !important;
    }
    
    /* Fallback for dynamic glass effects */
    .glass-scroll-enhanced {
        background: var(--bg-content) !important;
        border: 1px solid rgba(255, 255, 255, 0.3) !important;
    }
    
    /* Book theme fallbacks */
    :root[data-theme="book"] .glass-primary,
    :root[data-theme="book"] .glass-secondary,
    :root[data-theme="book"] .glass-accent,
    :root[data-theme="book"] .glass-tertiary,
    :root[data-theme="book"] .onesite-card,
    :root[data-theme="book"] .experience-card,
    :root[data-theme="book"] .education-card,
    :root[data-theme="book"] .publication-card,
    :root[data-theme="book"] .interest-card,
    :root[data-theme="book"] .project-card,
    :root[data-theme="book"] .filter-btn,
    :root[data-theme="book"] .hero-content-glass,
    :root[data-theme="book"] .content-container,
    :root[data-theme="book"] .header {
        background: var(--bg-secondary) !important;
        border: 2px solid rgba(45, 27, 22, 0.3) !important;
        box-shadow: 0 4px 16px rgba(45, 27, 22, 0.2) !important;
    }
}

/* Legacy Browser Support */
@supports not (contain: layout) {
    .glass-container,
    .onesite-card,
    .experience-card,
    .education-card,
    .publication-card,
    .interest-card,
    .project-card {
        overflow: hidden;
        position: relative;
        z-index: 1;
    }
}

/* WebKit-specific optimizations */
@supports (-webkit-backdrop-filter: blur(10px)) {
    .glass-primary,
    .glass-secondary,
    .glass-accent,
    .glass-tertiary,
    .glass-card,
    .glass-button,
    .onesite-card,
    .experience-card,
    .education-card,
    .publication-card,
    .interest-card,
    .project-card,
    .filter-btn,
    .hero-content-glass,
    .hero-glass-overlay,
    .content-container,
    .content-section,
    .header,
    .mobile-menu-button {
        -webkit-backdrop-filter: var(--glass-blur-medium);
    }
}

/* Firefox-specific optimizations */
@-moz-document url-prefix() {
    .glass-primary,
    .glass-secondary,
    .glass-accent,
    .glass-tertiary,
    .glass-card,
    .glass-button,
    .onesite-card,
    .experience-card,
    .education-card,
    .publication-card,
    .interest-card,
    .project-card,
    .filter-btn,
    .hero-content-glass,
    .content-container,
    .header {
        /* Enhanced solid backgrounds for Firefox */
        background: var(--bg-secondary) !important;
        border: 1px solid rgba(255, 255, 255, 0.3) !important;
    }
}

/* Internet Explorer fallbacks (if needed) */
@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {
    .glass-primary,
    .glass-secondary,
    .glass-accent,
    .glass-tertiary,
    .glass-card,
    .glass-button,
    .onesite-card,
    .experience-card,
    .education-card,
    .publication-card,
    .interest-card,
    .project-card,
    .filter-btn,
    .hero-content-glass,
    .content-container,
    .header {
        background: var(--bg-secondary) !important;
        border: 2px solid rgba(255, 255, 255, 0.4) !important;
        filter: none !important;
    }
}

/* Performance Media Queries */
@media (max-resolution: 1dppx) {
    /* Lower DPI screens - reduce glass effects for performance */
    .glass-scroll-enhanced {
        backdrop-filter: var(--glass-blur-light) !important;
        -webkit-backdrop-filter: var(--glass-blur-light) !important;
    }
}

@media (max-width: 768px) and (max-resolution: 2dppx) {
    /* Mobile devices with lower DPI - optimize performance */
    .glass-primary,
    .glass-secondary,
    .glass-accent,
    .glass-tertiary,
    .glass-card {
        backdrop-filter: var(--glass-blur-light) !important;
        -webkit-backdrop-filter: var(--glass-blur-light) !important;
    }
    
    /* Disable dynamic effects on mobile for performance */
    .glass-scroll-enhanced {
        backdrop-filter: var(--glass-blur-medium) !important;
        -webkit-backdrop-filter: var(--glass-blur-medium) !important;
    }
}

/* Battery and Performance Considerations */
@media (prefers-reduced-data: reduce) {
    /* Reduce glass effects for data savings */
    .glass-primary,
    .glass-secondary,
    .glass-accent,
    .glass-tertiary,
    .glass-card {
        backdrop-filter: none !important;
        -webkit-backdrop-filter: none !important;
        background: var(--bg-secondary) !important;
    }
}

/* Removed unused text utilities - using Tailwind in one-page websites */

/* Removed unused margin utilities - using Tailwind in one-page websites */

/* ====== PROJECT SHOWCASE STYLES ====== */
/* Removed unused project category styles - not implemented in current design */


.project-card {
    background: var(--glass-bg-primary);
    backdrop-filter: var(--glass-blur-medium);
    -webkit-backdrop-filter: var(--glass-blur-medium);
    border: var(--glass-border);
    border-radius: var(--border-radius-lg);
    padding: var(--spacing-lg);
    box-shadow: var(--glass-shadow-medium);
    transition: var(--glass-transition);
    position: relative;
    overflow: hidden;
}

.project-card:hover {
    background: var(--glass-bg-tertiary);
    backdrop-filter: var(--glass-blur-strong);
    -webkit-backdrop-filter: var(--glass-blur-strong);
    transform: translateY(-4px) scale(1.02);
    border-color: var(--accent-blue);
    box-shadow: var(--glass-shadow-strong);
}


.stat {
    display: flex;
    align-items: center;
    gap: 4px;
    font-size: var(--font-size-sm);
    color: var(--text-secondary);
    background: rgba(255, 255, 255, 0.05);
    padding: 4px 8px;
    border-radius: 4px;
}

.stat-icon {
    font-size: 12px;
}

.language {
    font-size: var(--font-size-sm);
    color: var(--text-primary);
    background: rgba(255, 255, 255, 0.1);
    padding: 4px 8px;
    border-radius: 4px;
    font-weight: 500;
}

.project-description {
    color: var(--text-secondary);
    line-height: 1.6;
    margin: 0 0 var(--spacing-md) 0;
    font-size: var(--font-size-base);
}

.project-topics {
    display: flex;
    flex-wrap: wrap;
    gap: var(--spacing-xs);
    margin-bottom: var(--spacing-md);
}

.topic {
    background: rgba(255, 255, 255, 0.08);
    color: var(--text-primary);
    padding: 4px 10px;
    border-radius: 12px;
    font-size: var(--font-size-xs);
    font-weight: 500;
    border: 1px solid rgba(255, 255, 255, 0.1);
    transition: var(--transition);
}

.topic:hover {
    background: rgba(255, 255, 255, 0.12);
    border-color: rgba(255, 255, 255, 0.2);
}

.project-links {
    display: flex;
    gap: var(--spacing-sm);
    flex-wrap: wrap;
}

.github-link,
.demo-link {
    color: var(--text-primary);
    text-decoration: none;
    font-weight: 500;
    font-size: var(--font-size-sm);
    padding: var(--spacing-xs) var(--spacing-sm);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: var(--border-radius);
    transition: var(--transition);
    display: inline-flex;
    align-items: center;
    gap: 4px;
}

.github-link:hover,
.demo-link:hover {
    background: rgba(255, 255, 255, 0.1);
    border-color: rgba(255, 255, 255, 0.3);
    transform: translateY(-1px);
}

.demo-link {
    background: rgba(255, 255, 255, 0.05);
}

/* Mobile Responsive */
@media (max-width: 768px) {
    .featured-projects-grid,
    .category-projects-grid {
        grid-template-columns: 1fr;
        gap: var(--spacing-md);
    }
    
    .project-header {
        flex-direction: column;
        align-items: flex-start;
    }
    
    .project-stats {
        align-self: flex-start;
    }
    
    .project-links {
        flex-direction: column;
        width: 100%;
    }
    
    .github-link,
    .demo-link {
        justify-content: center;
        text-align: center;
    }
}

/* ====== ACCESSIBILITY ====== */
@media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
    }
}

/* Focus styles for keyboard navigation */
a:focus,
button:focus {
    outline: 2px solid var(--page-accent, var(--accent-red));
    outline-offset: 2px;
}

/* ====== BLOG-SPECIFIC STYLES ====== */

/* Blog Index Page */
.blog-intro {
    margin-bottom: var(--spacing-xl);
    text-align: center;
}

.blog-intro .hero-subtitle {
    font-size: var(--font-size-lg);
    line-height: 1.6;
    color: var(--text-secondary);
    max-width: 600px;
    margin: 0 auto;
}

/* Featured Post */
.featured-post {
    background: var(--bg-secondary);
    padding: var(--spacing-lg);
    border-radius: var(--border-radius-lg);
    margin-bottom: var(--spacing-xl);
    border-left: 4px solid var(--page-accent, var(--accent-orange));
}

.featured-title {
    font-size: var(--font-size-3xl);
    font-weight: 700;
    margin-bottom: var(--spacing-sm);
    line-height: 1.2;
}

.featured-title a {
    color: var(--text-primary);
    text-decoration: none;
    transition: var(--transition);
}

.featured-title a:hover {
    color: var(--page-accent, var(--accent-orange));
}

.featured-excerpt {
    font-size: var(--font-size-lg);
    line-height: 1.6;
    color: var(--text-secondary);
    margin: var(--spacing-md) 0;
}

.read-more {
    display: inline-flex;
    align-items: center;
    color: var(--page-accent, var(--accent-orange));
    text-decoration: none;
    font-weight: 500;
    transition: var(--transition);
}

.read-more:hover {
    transform: translateX(4px);
}

/* All Posts Section */
.all-posts {
    margin-bottom: var(--spacing-xl);
}

/* Unified section styling - replaced with global system below */

.posts-list {
    display: grid;
    gap: var(--spacing-lg);
}

.post-item {
    background: var(--bg-secondary);
    padding: var(--spacing-md);
    border-radius: var(--border-radius);
    transition: var(--transition);
    border: 1px solid transparent;
}

.post-item:hover {
    border-color: var(--page-accent, var(--accent-orange));
    transform: translateY(-2px);
}

.post-item-title {
    font-size: var(--font-size-xl);
    font-weight: 600;
    margin-bottom: var(--spacing-sm);
    line-height: 1.3;
}

.post-item-title a {
    color: var(--text-primary);
    text-decoration: none;
    transition: var(--transition);
}

.post-item-title a:hover {
    color: var(--page-accent, var(--accent-orange));
}

.post-item-excerpt {
    color: var(--text-secondary);
    line-height: 1.6;
    margin-top: var(--spacing-sm);
}

/* Post Meta Information */
.post-meta {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    gap: var(--spacing-sm);
    font-size: var(--font-size-sm);
    color: var(--text-muted);
    margin-bottom: var(--spacing-sm);
}

.post-date {
    color: var(--page-accent, var(--accent-orange));
    font-weight: 500;
}

.reading-time {
    font-style: italic;
}

.post-tags {
    display: flex;
    flex-wrap: wrap;
    gap: var(--spacing-xs);
}

.tag {
    background: var(--bg-content);
    color: var(--text-secondary);
    padding: 2px 8px;
    border-radius: 12px;
    font-size: var(--font-size-xs);
    font-weight: 500;
}

/* Archive Section */
.archive {
    margin-bottom: var(--spacing-xl);
}

.archive-year {
    margin-bottom: var(--spacing-lg);
}

.archive-year-title {
    font-size: var(--font-size-xl);
    font-weight: 600;
    color: var(--page-accent, var(--accent-orange));
    margin-bottom: var(--spacing-md);
}

.archive-posts {
    list-style: none;
    padding: 0;
}

.archive-post {
    display: flex;
    align-items: baseline;
    gap: var(--spacing-md);
    padding: var(--spacing-xs) 0;
    border-bottom: 1px solid var(--bg-secondary);
}

.archive-date {
    color: var(--text-muted);
    font-size: var(--font-size-sm);
    min-width: 60px;
    font-weight: 500;
}

.archive-title {
    color: var(--text-primary);
    text-decoration: none;
    transition: var(--transition);
    flex: 1;
}

.archive-title:hover {
    color: var(--page-accent, var(--accent-orange));
}

/* Tags Section */
.tags-section {
    margin-bottom: var(--spacing-xl);
}

.tags-cloud {
    display: flex;
    flex-wrap: wrap;
    gap: var(--spacing-sm);
}

.tag-cloud-item {
    background: var(--bg-secondary);
    color: var(--text-primary);
    padding: var(--spacing-xs) var(--spacing-sm);
    border-radius: var(--border-radius);
    text-decoration: none;
    transition: var(--transition);
    border: 1px solid transparent;
}

.tag-cloud-item:hover {
    background: var(--page-accent, var(--accent-orange));
    color: var(--bg-primary);
    border-color: var(--page-accent, var(--accent-orange));
}

.tag-count {
    font-size: var(--font-size-xs);
    opacity: 0.7;
}

/* No Posts Placeholder */
.no-posts {
    text-align: center;
    padding: var(--spacing-2xl) 0;
}

.coming-soon {
    margin-bottom: var(--spacing-xl);
}

.status-text {
    font-size: var(--font-size-3xl);
    font-weight: 700;
    color: var(--page-accent, var(--accent-orange));
    margin-bottom: var(--spacing-sm);
}

.status-description {
    font-size: var(--font-size-lg);
    color: var(--text-secondary);
    font-style: italic;
}

.placeholder-content {
    max-width: 600px;
    margin: 0 auto;
    text-align: left;
}

.placeholder-content p {
    margin-bottom: var(--spacing-md);
    line-height: 1.6;
    color: var(--text-secondary);
}

/* Individual Blog Post Styles */
.blog-post {
    max-width: 800px;
    margin: 0 auto;
    padding: var(--spacing-lg) 0;
}

.post-header {
    margin-bottom: var(--spacing-xl);
    text-align: center;
    border-bottom: 2px solid var(--bg-secondary);
    padding-bottom: var(--spacing-lg);
}

.post-title {
    font-size: var(--font-size-4xl);
    font-weight: 800;
    line-height: 1.2;
    margin-bottom: var(--spacing-md);
    color: var(--text-primary);
}

.post-excerpt {
    font-size: var(--font-size-lg);
    line-height: 1.6;
    color: var(--text-secondary);
    font-style: italic;
    margin-top: var(--spacing-md);
    max-width: 600px;
    margin-left: auto;
    margin-right: auto;
}

/* Post Content Styling */
.post-content {
    line-height: 1.7;
    color: var(--text-primary);
}

.post-content h2 {
    font-size: var(--font-size-2xl);
    font-weight: 700;
    margin: var(--spacing-xl) 0 var(--spacing-md) 0;
    color: var(--page-accent, var(--accent-orange));
}

.post-content h3 {
    font-size: var(--font-size-xl);
    font-weight: 600;
    margin: var(--spacing-lg) 0 var(--spacing-sm) 0;
    color: var(--text-primary);
}

.post-content p {
    margin-bottom: var(--spacing-md);
    text-align: justify;
}

.post-content blockquote {
    border-left: 4px solid var(--page-accent, var(--accent-orange));
    padding-left: var(--spacing-md);
    margin: var(--spacing-lg) 0;
    font-style: italic;
    color: var(--text-secondary);
    background: var(--bg-secondary);
    padding: var(--spacing-md);
    border-radius: var(--border-radius);
}

.post-content ul,
.post-content ol {
    margin-bottom: var(--spacing-md);
    padding-left: var(--spacing-lg);
}

.post-content li {
    margin-bottom: var(--spacing-xs);
}

/* Code Blocks */
.post-content pre {
    background: var(--bg-content);
    padding: var(--spacing-md);
    border-radius: var(--border-radius);
    overflow-x: auto;
    margin: var(--spacing-lg) 0;
    border: 1px solid var(--bg-secondary);
}

.post-content code {
    background: var(--bg-content);
    padding: 2px 6px;
    border-radius: 4px;
    font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
    font-size: 0.9em;
    color: var(--page-accent, var(--accent-orange));
}

.post-content pre code {
    background: none;
    padding: 0;
    color: var(--text-primary);
}

/* Blog Images */
.blog-image {
    margin: var(--spacing-lg) 0;
    text-align: center;
}

.responsive-image {
    max-width: 100%;
    height: auto;
    border-radius: var(--border-radius);
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
}

.image-caption {
    font-size: var(--font-size-sm);
    color: var(--text-muted);
    font-style: italic;
    margin-top: var(--spacing-sm);
    text-align: center;
}

/* Post Footer */
.post-footer {
    margin-top: var(--spacing-xl);
    padding-top: var(--spacing-lg);
    border-top: 2px solid var(--bg-secondary);
}

.post-tags-footer {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    gap: var(--spacing-sm);
}

.tags-label {
    font-weight: 600;
    color: var(--text-secondary);
}

.tag-link {
    background: var(--page-accent, var(--accent-orange));
    color: var(--bg-primary);
    padding: 4px 12px;
    border-radius: var(--border-radius);
    text-decoration: none;
    font-size: var(--font-size-sm);
    font-weight: 500;
    transition: var(--transition);
}

.tag-link:hover {
    transform: translateY(-1px);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
}

/* Related Posts */
.related-posts {
    margin-top: var(--spacing-2xl);
    padding-top: var(--spacing-xl);
    border-top: 2px solid var(--bg-secondary);
}

.related-posts h3 {
    font-size: var(--font-size-2xl);
    font-weight: 600;
    margin-bottom: var(--spacing-lg);
    color: var(--text-primary);
}

.related-posts-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: var(--spacing-lg);
}

.related-post {
    background: var(--bg-secondary);
    padding: var(--spacing-md);
    border-radius: var(--border-radius);
    transition: var(--transition);
}

.related-post:hover {
    transform: translateY(-2px);
    border: 1px solid var(--page-accent, var(--accent-orange));
}

.related-post h4 {
    font-size: var(--font-size-lg);
    font-weight: 600;
    margin-bottom: var(--spacing-xs);
    line-height: 1.3;
}

.related-post h4 a {
    color: var(--text-primary);
    text-decoration: none;
    transition: var(--transition);
}

.related-post h4 a:hover {
    color: var(--page-accent, var(--accent-orange));
}

.related-post-date {
    font-size: var(--font-size-sm);
    color: var(--text-muted);
    margin-bottom: var(--spacing-xs);
}

.related-post-excerpt {
    font-size: var(--font-size-sm);
    color: var(--text-secondary);
    line-height: 1.5;
}

/* Post Navigation */
.post-navigation {
    max-width: 800px;
    margin: var(--spacing-2xl) auto 0;
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--spacing-lg);
    padding: var(--spacing-lg) 0;
}

.prev-post,
.next-post {
    background: var(--bg-secondary);
    padding: var(--spacing-md);
    border-radius: var(--border-radius);
    text-decoration: none;
    transition: var(--transition);
    border: 1px solid transparent;
    display: flex;
    flex-direction: column;
}

.prev-post:hover,
.next-post:hover {
    border-color: var(--page-accent, var(--accent-orange));
    transform: translateY(-2px);
}

.next-post {
    text-align: right;
}

.nav-label {
    font-size: var(--font-size-sm);
    color: var(--page-accent, var(--accent-orange));
    font-weight: 500;
    margin-bottom: var(--spacing-xs);
}

.nav-title {
    color: var(--text-primary);
    font-weight: 600;
}

/* Mobile Responsiveness */
@media (max-width: 768px) {
    .blog-post {
        padding: var(--spacing-md);
    }
    
    .post-title {
        font-size: var(--font-size-3xl);
    }
    
    .featured-title {
        font-size: var(--font-size-2xl);
    }
    
    .post-meta {
        flex-direction: column;
        align-items: flex-start;
        gap: var(--spacing-xs);
    }
    
    .post-navigation {
        grid-template-columns: 1fr;
        gap: var(--spacing-md);
    }
    
    .next-post {
        text-align: left;
    }
    
    .related-posts-grid {
        grid-template-columns: 1fr;
    }
    
    .tags-cloud {
        justify-content: center;
    }
    
    .archive-post {
        flex-direction: column;
        align-items: flex-start;
        gap: var(--spacing-xs);
    }
    
    .archive-date {
        min-width: auto;
    }
    
    /* Projects Section Mobile */
    .projects-grid {
        grid-template-columns: 1fr;
        gap: var(--spacing-md);
    }
    
    .project-card {
        padding: var(--spacing-md);
    }
    
    .project-header {
        flex-direction: column;
        align-items: flex-start;
        gap: var(--spacing-xs);
    }
    
    .project-stats {
        flex-direction: column;
        align-items: flex-start;
        gap: var(--spacing-xs);
    }
}

/* ====== PROJECTS SECTION STYLES ====== */
.projects-section {
    margin-top: var(--spacing-2xl);
    padding: var(--spacing-2xl) 0;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
}

/* ====== UNIFIED SECTION STYLING SYSTEM ====== */
.section-title {
    font-family: var(--font-family-heading);
    font-size: var(--font-size-3xl);
    font-weight: 600;
    color: var(--text-primary);
    text-align: center;
    margin-bottom: var(--spacing-lg);
    letter-spacing: 0.02em;
}

.section-description {
    font-size: var(--font-size-lg);
    color: var(--text-secondary);
    text-align: center;
    margin-bottom: var(--spacing-2xl);
    max-width: 600px;
    margin-left: auto;
    margin-right: auto;
    font-family: var(--font-family-serif);
    font-style: italic;
    line-height: 1.6;
}

.content-section {
    margin-bottom: var(--spacing-2xl);
    position: relative;
}

.content-grid {
    margin-top: var(--spacing-xl);
}

.projects-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
    gap: var(--spacing-lg);
    margin-top: var(--spacing-xl);
}

.project-card {
    background: var(--glass-bg-primary);
    backdrop-filter: var(--glass-blur-medium);
    -webkit-backdrop-filter: var(--glass-blur-medium);
    border: var(--glass-border);
    border-radius: var(--border-radius-lg);
    padding: var(--spacing-lg);
    box-shadow: var(--glass-shadow-medium);
    transition: var(--glass-transition);
    position: relative;
    overflow: hidden;
}

.project-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 3px;
    background: var(--page-accent);
    opacity: 0;
    transition: var(--transition);
}

.project-card:hover {
    background: var(--glass-bg-tertiary);
    backdrop-filter: var(--glass-blur-strong);
    -webkit-backdrop-filter: var(--glass-blur-strong);
    transform: translateY(-4px) scale(1.02);
    box-shadow: var(--glass-shadow-strong);
    border-color: var(--page-accent);
}

.project-card:hover::before {
    opacity: 1;
}

.project-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: var(--spacing-md);
    gap: var(--spacing-sm);
}

.project-name {
    font-family: var(--font-family-heading);
    font-size: var(--font-size-xl);
    font-weight: 600;
    color: var(--text-primary);
    margin: 0;
    flex: 1;
}

.project-language {
    background: var(--page-accent);
    color: white;
    padding: 0.25rem 0.75rem;
    border-radius: 20px;
    font-size: var(--font-size-xs);
    font-weight: 500;
    white-space: nowrap;
}

.project-description {
    color: var(--text-secondary);
    font-size: var(--font-size-base);
    line-height: 1.6;
    margin-bottom: var(--spacing-md);
}

.project-topics {
    display: flex;
    flex-wrap: wrap;
    gap: var(--spacing-xs);
    margin-bottom: var(--spacing-md);
}

.project-topic {
    background: rgba(255, 255, 255, 0.1);
    color: var(--text-secondary);
    padding: 0.25rem 0.5rem;
    border-radius: 4px;
    font-size: var(--font-size-xs);
    border: 1px solid rgba(255, 255, 255, 0.2);
}

.project-stats {
    display: flex;
    gap: var(--spacing-md);
    margin-bottom: var(--spacing-md);
    align-items: center;
}

.project-stat {
    color: var(--text-muted);
    font-size: var(--font-size-sm);
    display: flex;
    align-items: center;
    gap: 0.25rem;
}

.project-links {
    display: flex;
    gap: var(--spacing-sm);
}

.project-link {
    color: var(--page-accent);
    font-weight: 500;
    font-size: var(--font-size-sm);
    text-decoration: none;
    padding: 0.5rem 1rem;
    border: 1px solid var(--page-accent);
    border-radius: var(--border-radius);
    transition: var(--transition);
    display: inline-flex;
    align-items: center;
    gap: 0.25rem;
}

.project-link:hover {
    background: var(--page-accent);
    color: white;
    transform: translateY(-1px);
}

/* ====== ANIMATIONS ====== */
@keyframes fadeInLeft {
    from {
        opacity: 0;
        transform: translateX(-30px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

@keyframes fadeInRight {
    from {
        opacity: 0;
        transform: translateX(30px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes glow {
    from {
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3), 0 0 10px rgba(220, 38, 38, 0.3);
    }
    to {
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3), 0 0 20px rgba(220, 38, 38, 0.6), 0 0 30px rgba(220, 38, 38, 0.4);
    }
}

@keyframes rotate {
    from {
        transform: rotate(0deg);
    }
    to {
        transform: rotate(360deg);
    }
}

@keyframes flowingBox {
    0% {
        transform: translateX(-10px) scale(1);
        opacity: 0.8;
    }
    25% {
        transform: translateX(5px) scale(1.02);
        opacity: 1;
    }
    50% {
        transform: translateX(0px) scale(1.01);
        opacity: 0.9;
    }
    75% {
        transform: translateX(-5px) scale(1.03);
        opacity: 1;
    }
    100% {
        transform: translateX(10px) scale(1);
        opacity: 0.8;
    }
}

/* ====== ENHANCED HIGHLIGHT STYLES ====== */
.highlight {
    color: var(--text-primary);
    font-weight: 600;
    position: relative;
    display: inline-block;
}

.highlight::after {
    content: '';
    position: absolute;
    bottom: -2px;
    left: 0;
    right: 0;
    height: 2px;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
    opacity: 0.7;
}

/* ====== ONE PAGE WEBSITES SECTION ====== */
.onesite-section {
    background: linear-gradient(135deg, var(--bg-primary) 0%, var(--bg-secondary) 100%);
    padding: var(--spacing-2xl) 0;
    position: relative;
    overflow: hidden;
}

.onesite-section::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: radial-gradient(circle, rgba(220, 38, 38, 0.05) 0%, transparent 70%);
    animation: rotate 30s linear infinite;
}

.onesite-container {
    max-width: var(--max-width);
    margin: 0 auto;
    padding: 0 var(--spacing-lg);
    position: relative;
    z-index: 1;
    animation: fadeInUp 1s ease-out 0.3s both;
}

.onesite-title {
    font-family: var(--font-family-serif);
    font-size: var(--font-size-3xl);
    font-weight: 600;
    color: var(--text-primary);
    text-align: center;
    margin-bottom: var(--spacing-md);
    position: relative;
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
}

.onesite-title::after {
    content: '';
    position: absolute;
    bottom: -8px;
    left: 50%;
    transform: translateX(-50%);
    width: 80px;
    height: 3px;
    background: linear-gradient(90deg, transparent, var(--accent-red), transparent);
    border-radius: 2px;
}

.onesite-description {
    font-family: var(--font-family-serif);
    font-size: var(--font-size-lg);
    color: var(--text-secondary);
    text-align: center;
    margin-bottom: var(--spacing-xl);
    font-style: italic;
    max-width: 600px;
    margin-left: auto;
    margin-right: auto;
}

.onesite-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: var(--spacing-lg);
    margin-top: var(--spacing-xl);
}

.onesite-card {
    background: var(--glass-bg-primary);
    backdrop-filter: var(--glass-blur-medium);
    -webkit-backdrop-filter: var(--glass-blur-medium);
    border-radius: var(--border-radius-lg);
    padding: var(--spacing-xl);
    border: var(--glass-border);
    box-shadow: var(--glass-shadow-medium);
    transition: var(--glass-transition);
    position: relative;
    overflow: hidden;
    opacity: 0;
    animation: fadeInUp 0.8s ease-out forwards;
    animation-delay: calc(var(--card-delay, 0) * 0.1s);
}

.onesite-card:nth-child(1) { --card-delay: 1; }
.onesite-card:nth-child(2) { --card-delay: 2; }
.onesite-card:nth-child(3) { --card-delay: 3; }
.onesite-card:nth-child(4) { --card-delay: 4; }
.onesite-card:nth-child(5) { --card-delay: 5; }
.onesite-card:nth-child(6) { --card-delay: 6; }

.onesite-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: linear-gradient(90deg, var(--accent-red), rgba(220, 38, 38, 0.3));
    border-radius: var(--border-radius-lg) var(--border-radius-lg) 0 0;
    opacity: 0;
    transition: opacity 0.3s ease;
}

.onesite-card:hover {
    background: var(--glass-bg-tertiary);
    backdrop-filter: var(--glass-blur-strong);
    -webkit-backdrop-filter: var(--glass-blur-strong);
    transform: translateY(-4px) scale(1.02);
    box-shadow: var(--glass-shadow-strong);
    border-color: var(--accent-red);
}

.onesite-card:hover::before {
    opacity: 1;
}

.onesite-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: var(--spacing-md);
}

.onesite-name {
    font-family: var(--font-family-serif);
    font-size: var(--font-size-xl);
    font-weight: 600;
    color: var(--text-primary);
    line-height: 1.3;
    margin: 0;
    flex: 1;
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
}

.onesite-number {
    background: linear-gradient(135deg, var(--accent-red), rgba(220, 38, 38, 0.8));
    color: white;
    font-size: var(--font-size-sm);
    font-weight: 600;
    padding: 0.25rem 0.75rem;
    border-radius: 20px;
    margin-left: var(--spacing-sm);
    box-shadow: 0 2px 8px rgba(220, 38, 38, 0.3);
    flex-shrink: 0;
}

.onesite-card-description {
    color: var(--text-secondary);
    line-height: 1.6;
    margin-bottom: var(--spacing-lg);
    font-size: var(--font-size-base);
}

.onesite-links {
    display: flex;
    justify-content: flex-end;
}

.onesite-link {
    color: var(--accent-red);
    font-weight: 600;
    font-size: var(--font-size-sm);
    text-decoration: none;
    padding: 0.75rem 1.5rem;
    border: 2px solid var(--accent-red);
    border-radius: var(--border-radius-lg);
    transition: all 0.3s ease;
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    background: transparent;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    position: relative;
    overflow: hidden;
}

.onesite-link::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: var(--accent-red);
    transition: left 0.3s ease;
    z-index: -1;
}

.onesite-link:hover {
    color: white;
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(220, 38, 38, 0.4);
}

.onesite-link:hover::before {
    left: 0;
}

/* ====== RESPONSIVE DESIGN FOR ONESITE SECTION ====== */
@media (max-width: 768px) {
    .onesite-grid {
        grid-template-columns: 1fr;
        gap: var(--spacing-md);
    }
    
    .onesite-card {
        padding: var(--spacing-lg);
    }
    
    .onesite-header {
        flex-direction: column;
        align-items: flex-start;
        gap: var(--spacing-xs);
    }
    
    .onesite-number {
        margin-left: 0;
        align-self: flex-end;
    }
    
    .onesite-title {
        font-size: var(--font-size-2xl);
    }
}

/* ====== LINKEDIN PROFILE STYLES ====== */

/* Professional Summary Section */
.professional-summary {
    background: var(--bg-secondary);
    border-radius: var(--border-radius-lg);
    padding: var(--spacing-xl);
    margin-bottom: var(--spacing-xl);
    border-left: 4px solid var(--page-accent, var(--accent-blue));
    position: relative;
    overflow: hidden;
}

.professional-summary::before {
    content: '';
    position: absolute;
    top: 0;
    right: 0;
    width: 100px;
    height: 100px;
    background: radial-gradient(circle, rgba(37, 99, 235, 0.1) 0%, transparent 70%);
    opacity: 0.5;
}

.professional-summary h2 {
    font-family: var(--font-family-serif);
    font-size: var(--font-size-3xl);
    font-weight: 600;
    color: var(--text-primary);
    margin-bottom: var(--spacing-md);
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
}

.professional-summary h2::before {
    content: '🎯';
    font-size: var(--font-size-2xl);
}

.summary-text {
    font-family: var(--font-family-serif);
    font-size: var(--font-size-lg);
    line-height: 1.7;
    color: var(--text-secondary);
    font-style: italic;
}

/* Experience Section */
.experience-section {
    margin-bottom: var(--spacing-2xl);
}

.experience-section h2 {
    font-family: var(--font-family-serif);
    font-size: var(--font-size-3xl);
    font-weight: 600;
    color: var(--text-primary);
    margin-bottom: var(--spacing-xl);
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    position: relative;
}

.experience-section h2::before {
    content: '💼';
    font-size: var(--font-size-2xl);
}

.experience-section h2::after {
    content: '';
    flex: 1;
    height: 2px;
    background: linear-gradient(90deg, var(--page-accent, var(--accent-blue)), transparent);
    margin-left: var(--spacing-md);
    opacity: 0.3;
}

.experience-timeline {
    position: relative;
    padding-left: var(--spacing-xl);
}

.experience-timeline::before {
    content: '';
    position: absolute;
    left: var(--spacing-md);
    top: 0;
    bottom: 0;
    width: 2px;
    background: linear-gradient(to bottom, var(--page-accent, var(--accent-blue)), rgba(37, 99, 235, 0.3), var(--page-accent, var(--accent-blue)));
    opacity: 0.5;
}

.experience-card {
    background: var(--glass-bg-primary);
    backdrop-filter: var(--glass-blur-medium);
    -webkit-backdrop-filter: var(--glass-blur-medium);
    border-radius: var(--border-radius-lg);
    padding: var(--spacing-lg);
    margin-bottom: var(--spacing-lg);
    position: relative;
    border: var(--glass-border);
    box-shadow: var(--glass-shadow-medium);
    transition: var(--glass-transition);
    animation: fadeInLeft 0.8s ease-out forwards;
    animation-delay: calc(var(--index, 0) * 0.1s);
    overflow: hidden;
}

.experience-card::before {
    content: '';
    position: absolute;
    left: calc(-1 * var(--spacing-xl) - 1px);
    top: var(--spacing-lg);
    width: 12px;
    height: 12px;
    background: var(--page-accent, var(--accent-blue));
    border-radius: 50%;
    border: 3px solid var(--bg-primary);
    box-shadow: 0 0 10px rgba(37, 99, 235, 0.5);
}

.experience-card:hover {
    background: var(--glass-bg-tertiary);
    backdrop-filter: var(--glass-blur-strong);
    -webkit-backdrop-filter: var(--glass-blur-strong);
    transform: translateX(8px) translateY(-2px);
    border-color: var(--page-accent, var(--accent-blue));
    box-shadow: var(--glass-shadow-strong);
}

.experience-header {
    margin-bottom: var(--spacing-md);
}

.experience-title {
    font-family: var(--font-family-heading);
    font-size: var(--font-size-xl);
    font-weight: 600;
    color: var(--text-primary);
    margin: 0 0 var(--spacing-xs) 0;
    line-height: 1.3;
}

.experience-company {
    font-size: var(--font-size-lg);
    color: var(--page-accent, var(--accent-blue));
    font-weight: 500;
    margin-bottom: var(--spacing-xs);
}

.experience-meta {
    display: flex;
    flex-wrap: wrap;
    gap: var(--spacing-md);
    align-items: center;
    margin-bottom: var(--spacing-sm);
}

.experience-type {
    background: rgba(37, 99, 235, 0.2);
    color: var(--page-accent, var(--accent-blue));
    padding: 0.25rem 0.75rem;
    border-radius: 20px;
    font-size: var(--font-size-sm);
    font-weight: 500;
    border: 1px solid rgba(37, 99, 235, 0.3);
}

.experience-duration {
    color: var(--text-muted);
    font-size: var(--font-size-sm);
    font-weight: 500;
    display: flex;
    align-items: center;
    gap: 0.25rem;
}

.experience-duration::before {
    content: '📅';
    font-size: var(--font-size-xs);
}

.experience-location {
    color: var(--text-secondary);
    font-size: var(--font-size-sm);
    margin-bottom: var(--spacing-sm);
    display: flex;
    align-items: center;
    gap: 0.25rem;
}

.experience-location::before {
    content: '📍';
    font-size: var(--font-size-xs);
}

.experience-skills {
    display: flex;
    flex-wrap: wrap;
    gap: var(--spacing-xs);
    margin-bottom: var(--spacing-sm);
}

.experience-website {
    margin-bottom: var(--spacing-sm);
}

.experience-link {
    color: var(--page-accent, var(--accent-blue));
    text-decoration: none;
    font-size: var(--font-size-sm);
    font-weight: 500;
    display: inline-flex;
    align-items: center;
    gap: 0.25rem;
    transition: var(--transition);
}

.experience-link::after {
    content: '🔗';
    font-size: var(--font-size-xs);
}

.experience-link:hover {
    transform: translateX(2px);
    opacity: 0.8;
}

/* Education Section */
.education-section {
    margin-bottom: var(--spacing-2xl);
}

.education-section h2 {
    font-family: var(--font-family-serif);
    font-size: var(--font-size-3xl);
    font-weight: 600;
    color: var(--text-primary);
    margin-bottom: var(--spacing-xl);
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    position: relative;
}

.education-section h2::before {
    content: '🎓';
    font-size: var(--font-size-2xl);
}

.education-section h2::after {
    content: '';
    flex: 1;
    height: 2px;
    background: linear-gradient(90deg, var(--page-accent, var(--accent-blue)), transparent);
    margin-left: var(--spacing-md);
    opacity: 0.3;
}

.education-list {
    display: grid;
    gap: var(--spacing-lg);
}

.education-card {
    background: var(--glass-bg-primary);
    backdrop-filter: var(--glass-blur-medium);
    -webkit-backdrop-filter: var(--glass-blur-medium);
    border-radius: var(--border-radius-lg);
    padding: var(--spacing-lg);
    border: var(--glass-border);
    box-shadow: var(--glass-shadow-medium);
    transition: var(--glass-transition);
    position: relative;
    overflow: hidden;
    animation: fadeInRight 0.8s ease-out forwards;
    animation-delay: calc(var(--index, 0) * 0.1s);
}

.education-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: linear-gradient(90deg, var(--page-accent, var(--accent-blue)), rgba(37, 99, 235, 0.3));
    opacity: 0;
    transition: var(--transition);
}

.education-card:hover {
    background: var(--glass-bg-tertiary);
    backdrop-filter: var(--glass-blur-strong);
    -webkit-backdrop-filter: var(--glass-blur-strong);
    transform: translateY(-4px) scale(1.02);
    border-color: var(--page-accent, var(--accent-blue));
    box-shadow: var(--glass-shadow-strong);
}

.education-card:hover::before {
    opacity: 1;
}

.education-header {
    margin-bottom: var(--spacing-md);
}

.education-institution {
    font-family: var(--font-family-heading);
    font-size: var(--font-size-xl);
    font-weight: 600;
    color: var(--text-primary);
    margin: 0 0 var(--spacing-xs) 0;
    line-height: 1.3;
}

.education-degree {
    font-size: var(--font-size-lg);
    color: var(--page-accent, var(--accent-blue));
    font-weight: 500;
    margin-bottom: var(--spacing-xs);
}

.education-field {
    color: var(--text-secondary);
    font-size: var(--font-size-base);
    font-style: italic;
}

/* Skills Section */
.skills-section {
    margin-bottom: var(--spacing-2xl);
}

.skills-section h2 {
    font-family: var(--font-family-serif);
    font-size: var(--font-size-3xl);
    font-weight: 600;
    color: var(--text-primary);
    margin-bottom: var(--spacing-xl);
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    position: relative;
}

.skills-section h2::before {
    content: '🛠️';
    font-size: var(--font-size-2xl);
}

.skills-section h2::after {
    content: '';
    flex: 1;
    height: 2px;
    background: linear-gradient(90deg, var(--page-accent, var(--accent-blue)), transparent);
    margin-left: var(--spacing-md);
    opacity: 0.3;
}

.skills-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: var(--spacing-lg);
}

.skills-category {
    background: var(--bg-secondary);
    border-radius: var(--border-radius-lg);
    padding: var(--spacing-lg);
    border: 1px solid rgba(255, 255, 255, 0.1);
    transition: var(--transition);
    animation: fadeInUp 0.8s ease-out forwards;
    animation-delay: calc(var(--index, 0) * 0.1s);
}

.skills-category:hover {
    transform: translateY(-4px);
    border-color: var(--page-accent, var(--accent-blue));
    box-shadow: 0 8px 32px rgba(37, 99, 235, 0.2);
}

.skills-category-title {
    font-family: var(--font-family-heading);
    font-size: var(--font-size-lg);
    font-weight: 600;
    color: var(--page-accent, var(--accent-blue));
    margin: 0 0 var(--spacing-md) 0;
    display: flex;
    align-items: center;
    gap: var(--spacing-xs);
}

.skills-category-title::before {
    content: attr(data-icon);
    font-size: var(--font-size-base);
}

.skills-tags {
    display: flex;
    flex-wrap: wrap;
    gap: var(--spacing-xs);
}

.skill-tag {
    background: rgba(37, 99, 235, 0.2);
    color: var(--text-primary);
    padding: 0.5rem 1rem;
    border-radius: 20px;
    font-size: var(--font-size-sm);
    font-weight: 500;
    border: 1px solid rgba(37, 99, 235, 0.3);
    transition: var(--transition);
    cursor: pointer;
}

.skill-tag:hover {
    background: var(--page-accent, var(--accent-blue));
    color: white;
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(37, 99, 235, 0.3);
}

/* Mobile Responsiveness for LinkedIn Sections */
@media (max-width: 768px) {
    .professional-summary,
    .experience-card,
    .education-card,
    .skills-category {
        padding: var(--spacing-md);
    }
    
    .experience-timeline {
        padding-left: var(--spacing-lg);
    }
    
    .experience-timeline::before {
        left: var(--spacing-xs);
    }
    
    .experience-card::before {
        left: calc(-1 * var(--spacing-lg) - 1px);
    }
    
    .experience-card:hover {
        transform: translateX(4px);
    }
    
    .experience-meta {
        flex-direction: column;
        align-items: flex-start;
        gap: var(--spacing-xs);
    }
    
    .skills-grid {
        grid-template-columns: 1fr;
    }
    
    .professional-summary h2,
    .experience-section h2,
    .education-section h2,
    .skills-section h2 {
        font-size: var(--font-size-2xl);
    }
    
    .professional-summary h2::after,
    .experience-section h2::after,
    .education-section h2::after,
    .skills-section h2::after {
        display: none;
    }
}

/* ====== RESEARCH & PUBLICATIONS ====== */

/* Research page layout */
.page-research .page-container {
    max-width: var(--max-width);
    margin: 0 auto;
    padding: var(--spacing-xl) var(--spacing-lg);
}

.page-research .page-title {
    font-family: var(--font-family-heading);
    font-size: var(--font-size-4xl);
    font-weight: 300;
    color: var(--text-primary);
    margin-bottom: var(--spacing-xl);
    text-align: center;
    letter-spacing: 0.1em;
    text-transform: uppercase;
}

.page-research .page-subtitle {
    font-family: var(--font-family-serif);
    font-size: var(--font-size-lg);
    color: var(--text-secondary);
    text-align: center;
    margin-bottom: var(--spacing-2xl);
    font-style: italic;
    max-width: 600px;
    margin-left: auto;
    margin-right: auto;
}

/* Research-specific section styling removed - using unified system */

/* Publications section */
.publications-section {
    margin-bottom: var(--spacing-2xl);
}

.publications-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(450px, 1fr));
    gap: var(--spacing-lg);
    margin-bottom: var(--spacing-xl);
}

/* Publication cards */
.publication-card {
    background: var(--glass-bg-primary);
    backdrop-filter: var(--glass-blur-medium);
    -webkit-backdrop-filter: var(--glass-blur-medium);
    border: var(--glass-border);
    border-radius: var(--border-radius-lg);
    padding: var(--spacing-lg);
    box-shadow: var(--glass-shadow-medium);
    transition: var(--glass-transition);
    position: relative;
    overflow: hidden;
}

.publication-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 3px;
    background: var(--accent-green);
    opacity: 0;
    transition: var(--transition);
}

.publication-card:hover {
    background: var(--glass-bg-tertiary);
    backdrop-filter: var(--glass-blur-strong);
    -webkit-backdrop-filter: var(--glass-blur-strong);
    transform: translateY(-2px) scale(1.02);
    border-color: var(--accent-green);
    box-shadow: var(--glass-shadow-strong);
}

.publication-card:hover::before {
    opacity: 1;
}


.publication-card .pub-content {
    display: block;
}

.publication-card .pub-title {
    color: var(--text-primary);
    font-size: var(--font-size-xl);
    font-weight: 600;
    margin-bottom: var(--spacing-md);
}

.publication-card .pub-title a {
    color: var(--text-primary);
    text-decoration: none;
}

.publication-card .pub-title a:hover {
    color: var(--page-accent);
}

.publication-card .pub-authors {
    color: var(--text-secondary);
    font-style: italic;
    margin-bottom: var(--spacing-md);
    font-size: var(--font-size-base);
}

.publication-card .pub-links {
    margin-top: var(--spacing-sm);
}

.publication-card .pub-links a {
    color: var(--page-accent);
}

/* Ensure research title matches about title styling */
body.page-research .page-title {
    margin-top: 0;
    padding-top: 0;
    line-height: 1.2;
    overflow: visible;
}

/* Ensure research page has proper spacing */
body.page-research .page-container {
    padding-top: 6rem;
}

/* Publication card content */
.pub-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    gap: var(--spacing-md);
    margin-bottom: var(--spacing-md);
}

.pub-title {
    font-family: var(--font-family-serif);
    font-size: var(--font-size-lg);
    font-weight: 600;
    color: var(--text-primary);
    line-height: 1.4;
    margin: 0;
    flex: 1;
}

.pub-title a {
    color: inherit;
    text-decoration: none;
    transition: var(--transition);
}

.pub-title a:hover {
    color: var(--accent-green);
}

.pub-year {
    background: var(--bg-content);
    color: var(--accent-green);
    padding: var(--spacing-xs) var(--spacing-sm);
    border-radius: var(--border-radius);
    font-size: var(--font-size-sm);
    font-weight: 600;
    white-space: nowrap;
}

.pub-authors {
    color: var(--text-secondary);
    font-size: var(--font-size-sm);
    margin-bottom: var(--spacing-xs);
    line-height: 1.4;
}

.pub-venue {
    color: var(--text-muted);
    font-size: var(--font-size-sm);
    font-style: italic;
    margin-bottom: var(--spacing-md);
}

.pub-metrics {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: var(--spacing-md);
    padding-top: var(--spacing-sm);
    border-top: 1px solid rgba(255, 255, 255, 0.1);
}

.pub-links {
    display: flex;
    gap: var(--spacing-sm);
    align-items: center;
}

.citations {
    color: var(--text-muted);
    font-size: var(--font-size-sm);
    font-weight: 500;
}

.scholar-link {
    color: var(--accent-green);
    text-decoration: none;
    font-size: var(--font-size-sm);
    font-weight: 500;
    transition: var(--transition);
}

.scholar-link:hover {
    color: var(--text-primary);
}

.doi-link,
.external-link {
    color: var(--accent-green);
    text-decoration: none;
    font-size: var(--font-size-sm);
    font-weight: 500;
    transition: var(--transition);
    padding: 2px 6px;
    border-radius: 4px;
    background: rgba(5, 150, 105, 0.1);
    border: 1px solid rgba(5, 150, 105, 0.2);
}

.doi-link:hover,
.external-link:hover {
    background: rgba(5, 150, 105, 0.2);
    border-color: var(--accent-green);
    color: var(--text-primary);
    transform: translateY(-1px);
}

.pub-title a {
    color: inherit;
    text-decoration: none;
    transition: var(--transition);
    border-bottom: 1px solid transparent;
}

.pub-title a:hover {
    color: var(--accent-green);
    border-bottom-color: var(--accent-green);
}

/* No publications message */
.no-publications {
    text-align: center;
    padding: var(--spacing-2xl);
    color: var(--text-muted);
    font-style: italic;
}

.no-publications code {
    background: var(--bg-content);
    padding: 2px 6px;
    border-radius: 4px;
    font-family: 'Monaco', 'Consolas', monospace;
    color: var(--accent-green);
}

/* Research interests section */
.research-interests {
    margin-bottom: var(--spacing-2xl);
}

.interests-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: var(--spacing-lg);
}

.interest-card {
    background: var(--glass-bg-primary);
    backdrop-filter: var(--glass-blur-medium);
    -webkit-backdrop-filter: var(--glass-blur-medium);
    border: var(--glass-border);
    border-radius: var(--border-radius-lg);
    padding: var(--spacing-lg);
    box-shadow: var(--glass-shadow-medium);
    transition: var(--glass-transition);
    overflow: hidden;
}

.interest-card:hover {
    background: var(--glass-bg-tertiary);
    backdrop-filter: var(--glass-blur-strong);
    -webkit-backdrop-filter: var(--glass-blur-strong);
    transform: translateY(-2px) scale(1.02);
    border-color: var(--accent-green);
    box-shadow: var(--glass-shadow-strong);
    box-shadow: 0 8px 25px rgba(5, 150, 105, 0.1);
}

.interest-card h3 {
    font-family: var(--font-family-heading);
    font-size: var(--font-size-xl);
    font-weight: 600;
    color: var(--accent-green);
    margin-bottom: var(--spacing-sm);
}

.interest-card p {
    color: var(--text-secondary);
    line-height: 1.6;
    margin: 0;
}

/* ====== RESPONSIVE DESIGN ====== */

/* Mobile Phones (up to 480px) */
@media (max-width: 480px) {
    :root {
        --spacing-xs: 0.375rem;
        --spacing-sm: 0.75rem;
        --spacing-md: 1rem;
        --spacing-lg: 1.25rem;
        --spacing-xl: 2rem;
        --spacing-2xl: 2.5rem;
    }
    
    /* Header optimizations */
    .header {
        padding: var(--spacing-xs) var(--spacing-sm);
    }
    
    .header-content {
        padding: 0;
    }
    
    .logo {
        font-size: var(--font-size-lg);
    }
    
    /* Show mobile menu, hide desktop nav */
    .nav-links {
        display: none;
    }
    
    .mobile-menu-button {
        display: block;
    }
    
    .mobile-nav-menu {
        width: 100vw;
        right: -100vw;
    }
    
    /* Page containers */
    .page-container {
        padding: 5rem var(--spacing-sm) var(--spacing-lg);
    }
    
    .page-title {
        font-size: var(--font-size-2xl);
        margin-bottom: var(--spacing-md);
    }
    
    .page-subtitle {
        font-size: var(--font-size-sm);
        margin-bottom: var(--spacing-lg);
    }
    
    /* Hero section mobile */
    .hero-section {
        padding: 6rem 0 var(--spacing-xl);
        min-height: 70vh;
    }
    
    .hero-container {
        grid-template-columns: 1fr;
        gap: var(--spacing-lg);
        padding: 0 var(--spacing-sm);
    }
    
    .hero-text {
        order: 2;
        text-align: center;
    }
    
    .hero-title {
        font-size: clamp(1.5rem, 8vw, 2.5rem);
    }
    
    .hero-subtitle {
        font-size: var(--font-size-base);
    }
    
    .hero-tagline {
        font-size: var(--font-size-sm);
    }
    
    .hero-image {
        order: 1;
        max-width: 200px;
        margin: 0 auto;
    }
    
    /* Cards and grids */
    .projects-grid,
    .publications-grid,
    .interests-grid,
    .gallery-grid,
    .onesite-grid {
        grid-template-columns: 1fr;
        gap: var(--spacing-sm);
    }
    
    /* Publication cards mobile */
    .pub-header {
        flex-direction: column;
        align-items: flex-start;
        gap: var(--spacing-xs);
    }
    
    .pub-title {
        font-size: var(--font-size-base);
    }
    
    .pub-year {
        align-self: flex-start;
        font-size: var(--font-size-xs);
    }
    
    .pub-metrics {
        flex-direction: column;
        align-items: flex-start;
        gap: var(--spacing-xs);
    }
    
    /* Research interests */
    .interest-card {
        padding: var(--spacing-md);
    }
    
    .interest-card h3 {
        font-size: var(--font-size-lg);
    }
    
    /* Mobile typography improvements */
    .section-title {
        font-size: var(--font-size-xl);
        margin-bottom: var(--spacing-md);
        letter-spacing: 0.01em;
    }
    
    .section-description {
        font-size: var(--font-size-sm);
        margin-bottom: var(--spacing-lg);
        padding: 0 var(--spacing-sm);
    }
}

/* Tablets (481px to 768px) */
@media (min-width: 481px) and (max-width: 768px) {
    /* Header */
    .header {
        padding: var(--spacing-sm) var(--spacing-md);
    }
    
    .logo {
        font-size: var(--font-size-xl);
    }
    
    /* Show mobile menu, hide desktop nav */
    .nav-links {
        display: none;
    }
    
    .mobile-menu-button {
        display: block;
    }
    
    /* Page containers */
    .page-container {
        padding: 5.5rem var(--spacing-md) var(--spacing-xl);
    }
    
    .page-title {
        font-size: var(--font-size-3xl);
    }
    
    .section-title {
        font-size: var(--font-size-2xl);
        margin-bottom: var(--spacing-md);
    }
    
    /* Hero section tablet */
    .hero-container {
        grid-template-columns: 1fr;
        gap: var(--spacing-xl);
        text-align: center;
    }
    
    .hero-text {
        order: 2;
    }
    
    .hero-image {
        order: 1;
        max-width: 250px;
        margin: 0 auto;
    }
    
    /* Two-column grids for tablets */
    .projects-grid,
    .publications-grid,
    .interests-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: var(--spacing-md);
    }
    
    .gallery-grid {
        grid-template-columns: repeat(2, 1fr);
    }
    
    .onesite-grid {
        grid-template-columns: repeat(2, 1fr);
    }
}

/* Small Laptops (769px to 1024px) */
@media (min-width: 769px) and (max-width: 1024px) {
    .page-container {
        padding: 6rem var(--spacing-lg) var(--spacing-xl);
    }
    
    .hero-container {
        gap: var(--spacing-xl);
    }
    
    .projects-grid,
    .publications-grid {
        grid-template-columns: repeat(2, 1fr);
    }
    
    .gallery-grid {
        grid-template-columns: repeat(3, 1fr);
    }
}

/* Mobile-specific optimizations */
@media (max-width: 768px) {
    /* Touch target improvements */
    a, button {
        min-height: 44px;
        min-width: 44px;
        display: inline-flex;
        align-items: center;
        justify-content: center;
    }
    
    /* Mobile-optimized animations */
    .fade-in {
        animation-duration: 0.6s;
    }
    
    /* Reduce motion for performance */
    @media (prefers-reduced-motion: reduce) {
        * {
            animation-duration: 0.01ms !important;
            animation-iteration-count: 1 !important;
            transition-duration: 0.01ms !important;
        }
    }
    
    /* Mobile scrollbar styling */
    ::-webkit-scrollbar {
        width: 3px;
    }
    
    ::-webkit-scrollbar-track {
        background: var(--bg-secondary);
    }
    
    ::-webkit-scrollbar-thumb {
        background: var(--accent-red);
        border-radius: 3px;
    }
    
    /* Mobile form optimizations */
    input, textarea, select {
        font-size: 16px; /* Prevents zoom on iOS */
    }
    
    /* Mobile image optimizations */
    img {
        max-width: 100%;
        height: auto;
    }
}

/* ====== THEME TOGGLE BUTTON ====== */
.theme-toggle-btn {
    position: fixed;
    bottom: 20px;
    right: 20px;
    width: 50px;
    height: 50px;
    background: var(--bg-content);
    border: 2px solid var(--text-muted);
    border-radius: 50%;
    box-shadow: var(--shadow-medium, 0 4px 16px rgba(0, 0, 0, 0.1));
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
    z-index: 1000;
    user-select: none;
    -webkit-tap-highlight-color: transparent;
}

.theme-toggle-btn:hover {
    transform: scale(1.1);
    box-shadow: var(--shadow-heavy, 0 8px 32px rgba(0, 0, 0, 0.15));
    border-color: var(--page-accent, var(--accent-red));
}

.theme-toggle-btn:active {
    transform: scale(0.95);
}

.theme-icon {
    width: 24px;
    height: 24px;
    fill: var(--text-primary);
    transition: all 0.3s ease;
}

.theme-toggle-btn .sun-icon {
    opacity: 0;
    transform: rotate(180deg);
}

.theme-toggle-btn .moon-icon {
    opacity: 1;
    transform: rotate(0deg);
}

/* Book theme active state */
:root[data-theme="book"] .theme-toggle-btn .sun-icon {
    opacity: 1;
    transform: rotate(0deg);
}

:root[data-theme="book"] .theme-toggle-btn .moon-icon {
    opacity: 0;
    transform: rotate(-180deg);
}

/* Mobile responsive adjustments */
@media (max-width: 768px) {
    .theme-toggle-btn {
        bottom: 80px; /* Avoid mobile navigation areas */
        right: 15px;
        width: 44px; /* Touch-friendly minimum size */
        height: 44px;
    }
    
    .theme-icon {
        width: 20px;
        height: 20px;
    }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
    .theme-toggle-btn {
        border-width: 3px;
    }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
    .theme-toggle-btn, .theme-icon {
        transition: none;
    }
}

/* ============================================================================ */
/* REVOLUTIONARY INTERFACE MASTER CONTROLLER CSS CLASSES */
/* ============================================================================ */

/* Adaptive Performance Scaling Classes */
.adaptive-blur-scaling {
    backdrop-filter: blur(calc(var(--liquid-glass-blur-medium) * var(--adaptive-blur-scale)));
    -webkit-backdrop-filter: blur(calc(var(--liquid-glass-blur-medium) * var(--adaptive-blur-scale)));
}

.adaptive-animation-scaling {
    animation-duration: calc(var(--timing-standard) * var(--animation-duration-scale));
    transition-duration: calc(var(--timing-standard) * var(--animation-duration-scale));
}

/* Frame Rate Optimization Classes */
.fps-120 {
    --animation-precision: high;
    --timing-micro: 0.06s;
    --timing-quick: 0.15s;
    --timing-standard: 0.3s;
}

.fps-60 {
    --animation-precision: medium;
    --timing-micro: 0.12s;
    --timing-quick: 0.24s;
    --timing-standard: 0.48s;
}

.fps-30 {
    --animation-precision: low;
    --timing-micro: 0.24s;
    --timing-quick: 0.48s;
    --timing-standard: 0.96s;
}

/* Performance Tier Classes */
.performance-ultra {
    --liquid-glass-blur-medium: blur(20px) saturate(220%);
    --liquid-glass-blur-strong: blur(30px) saturate(240%);
    --animation-precision: ultra;
}

.performance-high {
    --liquid-glass-blur-medium: blur(16px) saturate(200%);
    --liquid-glass-blur-strong: blur(24px) saturate(220%);
    --animation-precision: high;
}

.performance-medium {
    --liquid-glass-blur-medium: blur(12px) saturate(180%);
    --liquid-glass-blur-strong: blur(20px) saturate(200%);
    --animation-precision: medium;
}

.performance-basic {
    --liquid-glass-blur-medium: blur(8px) saturate(150%);
    --liquid-glass-blur-strong: blur(12px) saturate(160%);
    --animation-precision: low;
}

/* Emergency Performance Mode */
.emergency-mode * {
    backdrop-filter: blur(var(--emergency-mode-blur)) !important;
    -webkit-backdrop-filter: blur(var(--emergency-mode-blur)) !important;
    opacity: var(--emergency-mode-opacity) !important;
    animation: none !important;
    transition: opacity 0.3s ease !important;
}

.emergency-mode .quantum-superposition,
.emergency-mode .quantum-entanglement,
.emergency-mode .ai-adaptive-element,
.emergency-mode .biometric-responsive {
    display: none !important;
}

/* Scroll Direction Classes */
.scroll-direction-down .scroll-responsive-up {
    opacity: 0.3;
    transform: translateY(-10px);
}

.scroll-direction-up .scroll-responsive-down {
    opacity: 0.3;
    transform: translateY(10px);
}

/* Velocity-based Glass Effects */
.velocity-glass-low {
    backdrop-filter: var(--liquid-glass-blur-light);
    -webkit-backdrop-filter: var(--liquid-glass-blur-light);
}

.velocity-glass-medium {
    backdrop-filter: var(--liquid-glass-blur-medium);
    -webkit-backdrop-filter: var(--liquid-glass-blur-medium);
}

.velocity-glass-high {
    backdrop-filter: var(--liquid-glass-blur-strong);
    -webkit-backdrop-filter: var(--liquid-glass-blur-strong);
    transform: translateZ(0); /* Force hardware acceleration */
}

/* Inertia Glass Effects */
.inertia-glass {
    transform: translateX(calc(var(--inertia-factor) * 5px));
    opacity: calc(1 - var(--inertia-factor) * 0.2);
    transition: transform 0.3s var(--ease-momentum), opacity 0.3s ease;
}

/* System Status Indicators */
.system-status-indicator {
    position: fixed;
    top: 10px;
    left: 10px;
    background: var(--liquid-glass-bg-secondary);
    backdrop-filter: var(--liquid-glass-blur-light);
    -webkit-backdrop-filter: var(--liquid-glass-blur-light);
    border: var(--liquid-glass-border);
    border-radius: var(--border-radius);
    padding: 8px 12px;
    font-size: var(--font-size-xs);
    color: var(--text-secondary);
    z-index: 9999;
    pointer-events: none;
    opacity: 0;
    transition: opacity 0.3s ease;
}

.system-status-indicator.visible {
    opacity: 1;
}

.system-status-indicator.performance-warning {
    border-color: orange;
    color: orange;
}

.system-status-indicator.performance-critical {
    border-color: red;
    color: red;
}

/* AI System Classes */
.ai-adaptive-element {
    transition: all var(--timing-standard) var(--ease-apple-smooth);
}

.ai-adaptive-element.ai-optimized {
    transform: scale(1.02);
    filter: brightness(1.1);
}

.ai-learning-indicator {
    position: relative;
}

.ai-learning-indicator::after {
    content: '🧠';
    position: absolute;
    top: -5px;
    right: -5px;
    font-size: 12px;
    opacity: 0.7;
    animation: pulse 2s infinite;
}

/* Biometric System Classes */
.biometric-responsive {
    transition: all var(--timing-quick) ease;
}

.biometric-responsive.stress-detected {
    filter: hue-rotate(20deg) saturate(0.8);
    transform: scale(0.98);
}

.biometric-responsive.calm-state {
    filter: hue-rotate(-10deg) saturate(1.1);
    transform: scale(1.01);
}

.heart-rate-indicator {
    position: relative;
}

.heart-rate-indicator::before {
    content: '♥';
    position: absolute;
    top: -3px;
    right: -8px;
    color: #ff6b6b;
    font-size: 10px;
    animation: heartbeat 1s infinite;
}

@keyframes heartbeat {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.2); }
}

/* Quantum System Classes */
.quantum-optimized {
    will-change: transform, opacity;
    transform: translateZ(0);
}

.quantum-computing-indicator {
    position: relative;
}

.quantum-computing-indicator::after {
    content: '⚛️';
    position: absolute;
    top: -5px;
    right: -5px;
    font-size: 12px;
    opacity: 0.8;
    animation: quantum-spin 3s linear infinite;
}

@keyframes quantum-spin {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}

/* WebGL Enhancement Classes */
.webgl-enhanced {
    transform: translateZ(0);
    backface-visibility: hidden;
    perspective: 1000px;
}

.webgl-particle-container {
    position: relative;
    overflow: hidden;
}

.webgl-shader-active {
    filter: contrast(1.1) saturate(1.2);
}

/* Cross-System Communication Indicators */
.system-integration-active {
    border: 1px solid rgba(0, 255, 0, 0.3);
    box-shadow: 0 0 10px rgba(0, 255, 0, 0.1);
}

.system-communication-error {
    border: 1px solid rgba(255, 0, 0, 0.3);
    box-shadow: 0 0 10px rgba(255, 0, 0, 0.1);
    animation: error-pulse 1s infinite;
}

@keyframes error-pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.7; }
}

/* Advanced Accessibility for Revolutionary Interface */
@media (prefers-reduced-motion: reduce) {
    .ai-adaptive-element,
    .biometric-responsive,
    .velocity-glass-low,
    .velocity-glass-medium,
    .velocity-glass-high,
    .inertia-glass {
        animation: none !important;
        transition: none !important;
        transform: none !important;
    }
}

@media (prefers-contrast: high) {
    .system-status-indicator {
        background: var(--bg-content);
        border: 2px solid var(--text-primary);
        backdrop-filter: none;
        -webkit-backdrop-filter: none;
    }
    
    .emergency-mode {
        backdrop-filter: none !important;
        -webkit-backdrop-filter: none !important;
        background: var(--bg-content) !important;
    }
}

/* Battery Optimization Classes */
.battery-saver-mode {
    animation-play-state: paused !important;
}

.battery-saver-mode * {
    animation-play-state: paused !important;
}

.low-power-mode .quantum-superposition,
.low-power-mode .webgl-enhanced,
.low-power-mode .ai-adaptive-element {
    opacity: 0.5;
    pointer-events: none;
}

/* Thermal Management Classes */
.thermal-throttling {
    --animation-duration-scale: 2.0;
    --adaptive-blur-scale: 0.5;
}

.thermal-critical * {
    animation: none !important;
    backdrop-filter: none !important;
    -webkit-backdrop-filter: none !important;
}

/* Memory Pressure Classes */
.memory-pressure-high .quantum-superposition,
.memory-pressure-high .webgl-particle-container {
    display: none;
}

.memory-optimized {
    contain: layout style paint;
    will-change: auto;
}

/* Revolutionary Interface Debug Panel */
.debug-panel {
    position: fixed;
    bottom: 50px;
    right: 10px;
    background: var(--liquid-glass-bg-primary);
    backdrop-filter: var(--liquid-glass-blur-medium);
    -webkit-backdrop-filter: var(--liquid-glass-blur-medium);
    border: var(--liquid-glass-border);
    border-radius: var(--border-radius);
    padding: 10px;
    font-size: var(--font-size-xs);
    color: var(--text-secondary);
    z-index: 9998;
    max-width: 200px;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.3s ease;
}

.debug-panel.visible {
    opacity: 1;
    pointer-events: auto;
}

.debug-panel h4 {
    margin: 0 0 5px 0;
    font-size: var(--font-size-sm);
    color: var(--text-primary);
}

.debug-panel .metric {
    display: flex;
    justify-content: space-between;
    margin: 2px 0;
}

.debug-panel .metric-value {
    font-weight: 500;
}

.debug-panel .system-active {
    color: #4ade80;
}

.debug-panel .system-inactive {
    color: #f87171;
}

/* Revolutionary Interface Animation Presets */
@keyframes revolutionary-fade-in {
    from {
        opacity: 0;
        transform: translateY(20px) scale(0.95);
        backdrop-filter: blur(0px);
        -webkit-backdrop-filter: blur(0px);
    }
    to {
        opacity: 1;
        transform: translateY(0) scale(1);
        backdrop-filter: var(--liquid-glass-blur-medium);
        -webkit-backdrop-filter: var(--liquid-glass-blur-medium);
    }
}

@keyframes revolutionary-scale-pulse {
    0%, 100% {
        transform: scale(1);
        backdrop-filter: var(--liquid-glass-blur-medium);
        -webkit-backdrop-filter: var(--liquid-glass-blur-medium);
    }
    50% {
        transform: scale(1.05);
        backdrop-filter: var(--liquid-glass-blur-strong);
        -webkit-backdrop-filter: var(--liquid-glass-blur-strong);
    }
}

.revolutionary-entrance {
    animation: revolutionary-fade-in 0.8s var(--ease-apple-smooth) forwards;
}

.revolutionary-pulse {
    animation: revolutionary-scale-pulse 2s var(--ease-apple-gentle) infinite;
}

/* High-performance transforms for 120fps displays */
.performance-ultra .revolutionary-entrance {
    animation-duration: 0.4s;
}

.performance-ultra .revolutionary-pulse {
    animation-duration: 1s;
}

/* Touch-friendly adjustments for mobile devices */
@media (max-width: 768px) {
    .system-status-indicator {
        font-size: 10px;
        padding: 6px 8px;
    }
    
    .debug-panel {
        bottom: 100px;
        right: 5px;
        max-width: 150px;
        font-size: 10px;
    }
    
    .ai-learning-indicator::after,
    .quantum-computing-indicator::after {
        font-size: 10px;
    }
}